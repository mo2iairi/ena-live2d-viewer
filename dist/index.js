"use strict";const Tt=require("react");function NN(r){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const t in r)if(t!=="default"){const n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return e.default=r,Object.freeze(e)}const Fa=NN(Tt);var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function qT(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Yv={exports:{}},Zp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA;function UN(){if(SA)return Zp;SA=1;var r=Tt,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var g,v={},b=null,x=null;p!==void 0&&(b=""+p),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)n.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:b,ref:x,props:v,_owner:i.current}}return Zp.Fragment=t,Zp.jsx=l,Zp.jsxs=l,Zp}var Jp={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function kN(){return EA||(EA=1,process.env.NODE_ENV!=="production"&&function(){var r=Tt,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S=Symbol.iterator,E="@@iterator";function A(Z){if(Z===null||typeof Z!="object")return null;var Fe=S&&Z[S]||Z[E];return typeof Fe=="function"?Fe:null}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function L(Z){{for(var Fe=arguments.length,Xe=new Array(Fe>1?Fe-1:0),ht=1;ht<Fe;ht++)Xe[ht-1]=arguments[ht];D("error",Z,Xe)}}function D(Z,Fe,Xe){{var ht=P.ReactDebugCurrentFrame,kt=ht.getStackAddendum();kt!==""&&(Fe+="%s",Xe=Xe.concat([kt]));var Zt=Xe.map(function(Ot){return String(Ot)});Zt.unshift("Warning: "+Fe),Function.prototype.apply.call(console[Z],console,Zt)}}var N=!1,M=!1,$=!1,U=!1,V=!1,re;re=Symbol.for("react.module.reference");function O(Z){return!!(typeof Z=="string"||typeof Z=="function"||Z===n||Z===a||V||Z===i||Z===p||Z===g||U||Z===x||N||M||$||typeof Z=="object"&&Z!==null&&(Z.$$typeof===b||Z.$$typeof===v||Z.$$typeof===l||Z.$$typeof===u||Z.$$typeof===f||Z.$$typeof===re||Z.getModuleId!==void 0))}function Q(Z,Fe,Xe){var ht=Z.displayName;if(ht)return ht;var kt=Fe.displayName||Fe.name||"";return kt!==""?Xe+"("+kt+")":Xe}function q(Z){return Z.displayName||"Context"}function ae(Z){if(Z==null)return null;if(typeof Z.tag=="number"&&L("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof Z=="function")return Z.displayName||Z.name||null;if(typeof Z=="string")return Z;switch(Z){case n:return"Fragment";case t:return"Portal";case a:return"Profiler";case i:return"StrictMode";case p:return"Suspense";case g:return"SuspenseList"}if(typeof Z=="object")switch(Z.$$typeof){case u:var Fe=Z;return q(Fe)+".Consumer";case l:var Xe=Z;return q(Xe._context)+".Provider";case f:return Q(Z,Z.render,"ForwardRef");case v:var ht=Z.displayName||null;return ht!==null?ht:ae(Z.type)||"Memo";case b:{var kt=Z,Zt=kt._payload,Ot=kt._init;try{return ae(Ot(Zt))}catch{return null}}}return null}var oe=Object.assign,Ie=0,G,W,k,J,F,H,Y;function K(){}K.__reactDisabledLog=!0;function se(){{if(Ie===0){G=console.log,W=console.info,k=console.warn,J=console.error,F=console.group,H=console.groupCollapsed,Y=console.groupEnd;var Z={configurable:!0,enumerable:!0,value:K,writable:!0};Object.defineProperties(console,{info:Z,log:Z,warn:Z,error:Z,group:Z,groupCollapsed:Z,groupEnd:Z})}Ie++}}function me(){{if(Ie--,Ie===0){var Z={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:oe({},Z,{value:G}),info:oe({},Z,{value:W}),warn:oe({},Z,{value:k}),error:oe({},Z,{value:J}),group:oe({},Z,{value:F}),groupCollapsed:oe({},Z,{value:H}),groupEnd:oe({},Z,{value:Y})})}Ie<0&&L("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var de=P.ReactCurrentDispatcher,_e;function we(Z,Fe,Xe){{if(_e===void 0)try{throw Error()}catch(kt){var ht=kt.stack.trim().match(/\n( *(at )?)/);_e=ht&&ht[1]||""}return`
`+_e+Z}}var Pe=!1,ve;{var Ae=typeof WeakMap=="function"?WeakMap:Map;ve=new Ae}function fe(Z,Fe){if(!Z||Pe)return"";{var Xe=ve.get(Z);if(Xe!==void 0)return Xe}var ht;Pe=!0;var kt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Zt;Zt=de.current,de.current=null,se();try{if(Fe){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(zn){ht=zn}Reflect.construct(Z,[],Ot)}else{try{Ot.call()}catch(zn){ht=zn}Z.call(Ot.prototype)}}else{try{throw Error()}catch(zn){ht=zn}Z()}}catch(zn){if(zn&&ht&&typeof zn.stack=="string"){for(var Mt=zn.stack.split(`
`),hr=ht.stack.split(`
`),Vt=Mt.length-1,Nr=hr.length-1;Vt>=1&&Nr>=0&&Mt[Vt]!==hr[Nr];)Nr--;for(;Vt>=1&&Nr>=0;Vt--,Nr--)if(Mt[Vt]!==hr[Nr]){if(Vt!==1||Nr!==1)do if(Vt--,Nr--,Nr<0||Mt[Vt]!==hr[Nr]){var Zr=`
`+Mt[Vt].replace(" at new "," at ");return Z.displayName&&Zr.includes("<anonymous>")&&(Zr=Zr.replace("<anonymous>",Z.displayName)),typeof Z=="function"&&ve.set(Z,Zr),Zr}while(Vt>=1&&Nr>=0);break}}}finally{Pe=!1,de.current=Zt,me(),Error.prepareStackTrace=kt}var io=Z?Z.displayName||Z.name:"",bs=io?we(io):"";return typeof Z=="function"&&ve.set(Z,bs),bs}function ke(Z,Fe,Xe){return fe(Z,!1)}function ut(Z){var Fe=Z.prototype;return!!(Fe&&Fe.isReactComponent)}function He(Z,Fe,Xe){if(Z==null)return"";if(typeof Z=="function")return fe(Z,ut(Z));if(typeof Z=="string")return we(Z);switch(Z){case p:return we("Suspense");case g:return we("SuspenseList")}if(typeof Z=="object")switch(Z.$$typeof){case f:return ke(Z.render);case v:return He(Z.type,Fe,Xe);case b:{var ht=Z,kt=ht._payload,Zt=ht._init;try{return He(Zt(kt),Fe,Xe)}catch{}}}return""}var qe=Object.prototype.hasOwnProperty,Kt={},cr=P.ReactDebugCurrentFrame;function wn(Z){if(Z){var Fe=Z._owner,Xe=He(Z.type,Z._source,Fe?Fe.type:null);cr.setExtraStackFrame(Xe)}else cr.setExtraStackFrame(null)}function Or(Z,Fe,Xe,ht,kt){{var Zt=Function.call.bind(qe);for(var Ot in Z)if(Zt(Z,Ot)){var Mt=void 0;try{if(typeof Z[Ot]!="function"){var hr=Error((ht||"React class")+": "+Xe+" type `"+Ot+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof Z[Ot]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw hr.name="Invariant Violation",hr}Mt=Z[Ot](Fe,Ot,ht,Xe,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Vt){Mt=Vt}Mt&&!(Mt instanceof Error)&&(wn(kt),L("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ht||"React class",Xe,Ot,typeof Mt),wn(null)),Mt instanceof Error&&!(Mt.message in Kt)&&(Kt[Mt.message]=!0,wn(kt),L("Failed %s type: %s",Xe,Mt.message),wn(null))}}}var Wt=Array.isArray;function li(Z){return Wt(Z)}function ra(Z){{var Fe=typeof Symbol=="function"&&Symbol.toStringTag,Xe=Fe&&Z[Symbol.toStringTag]||Z.constructor.name||"Object";return Xe}}function fn(Z){try{return Ga(Z),!1}catch{return!0}}function Ga(Z){return""+Z}function gs(Z){if(fn(Z))return L("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ra(Z)),Ga(Z)}var vs=P.ReactCurrentOwner,ro={key:!0,ref:!0,__self:!0,__source:!0},We,ot;function Lt(Z){if(qe.call(Z,"ref")){var Fe=Object.getOwnPropertyDescriptor(Z,"ref").get;if(Fe&&Fe.isReactWarning)return!1}return Z.ref!==void 0}function or(Z){if(qe.call(Z,"key")){var Fe=Object.getOwnPropertyDescriptor(Z,"key").get;if(Fe&&Fe.isReactWarning)return!1}return Z.key!==void 0}function Ct(Z,Fe){typeof Z.ref=="string"&&vs.current}function pn(Z,Fe){{var Xe=function(){We||(We=!0,L("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Fe))};Xe.isReactWarning=!0,Object.defineProperty(Z,"key",{get:Xe,configurable:!0})}}function Fr(Z,Fe){{var Xe=function(){ot||(ot=!0,L("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Fe))};Xe.isReactWarning=!0,Object.defineProperty(Z,"ref",{get:Xe,configurable:!0})}}var ne=function(Z,Fe,Xe,ht,kt,Zt,Ot){var Mt={$$typeof:e,type:Z,key:Fe,ref:Xe,props:Ot,_owner:Zt};return Mt._store={},Object.defineProperty(Mt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Mt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ht}),Object.defineProperty(Mt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:kt}),Object.freeze&&(Object.freeze(Mt.props),Object.freeze(Mt)),Mt};function te(Z,Fe,Xe,ht,kt){{var Zt,Ot={},Mt=null,hr=null;Xe!==void 0&&(gs(Xe),Mt=""+Xe),or(Fe)&&(gs(Fe.key),Mt=""+Fe.key),Lt(Fe)&&(hr=Fe.ref,Ct(Fe,kt));for(Zt in Fe)qe.call(Fe,Zt)&&!ro.hasOwnProperty(Zt)&&(Ot[Zt]=Fe[Zt]);if(Z&&Z.defaultProps){var Vt=Z.defaultProps;for(Zt in Vt)Ot[Zt]===void 0&&(Ot[Zt]=Vt[Zt])}if(Mt||hr){var Nr=typeof Z=="function"?Z.displayName||Z.name||"Unknown":Z;Mt&&pn(Ot,Nr),hr&&Fr(Ot,Nr)}return ne(Z,Mt,hr,kt,ht,vs.current,Ot)}}var Rt=P.ReactCurrentOwner,xt=P.ReactDebugCurrentFrame;function rt(Z){if(Z){var Fe=Z._owner,Xe=He(Z.type,Z._source,Fe?Fe.type:null);xt.setExtraStackFrame(Xe)}else xt.setExtraStackFrame(null)}var vt;vt=!1;function An(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function zi(){{if(Rt.current){var Z=ae(Rt.current.type);if(Z)return`

Check the render method of \``+Z+"`."}return""}}function St(Z){return""}var Vr={};function Gi(Z){{var Fe=zi();if(!Fe){var Xe=typeof Z=="string"?Z:Z.displayName||Z.name;Xe&&(Fe=`

Check the top-level render call using <`+Xe+">.")}return Fe}}function Rn(Z,Fe){{if(!Z._store||Z._store.validated||Z.key!=null)return;Z._store.validated=!0;var Xe=Gi(Fe);if(Vr[Xe])return;Vr[Xe]=!0;var ht="";Z&&Z._owner&&Z._owner!==Rt.current&&(ht=" It was passed a child from "+ae(Z._owner.type)+"."),rt(Z),L('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Xe,ht),rt(null)}}function Lr(Z,Fe){{if(typeof Z!="object")return;if(li(Z))for(var Xe=0;Xe<Z.length;Xe++){var ht=Z[Xe];An(ht)&&Rn(ht,Fe)}else if(An(Z))Z._store&&(Z._store.validated=!0);else if(Z){var kt=A(Z);if(typeof kt=="function"&&kt!==Z.entries)for(var Zt=kt.call(Z),Ot;!(Ot=Zt.next()).done;)An(Ot.value)&&Rn(Ot.value,Fe)}}}function ui(Z){{var Fe=Z.type;if(Fe==null||typeof Fe=="string")return;var Xe;if(typeof Fe=="function")Xe=Fe.propTypes;else if(typeof Fe=="object"&&(Fe.$$typeof===f||Fe.$$typeof===v))Xe=Fe.propTypes;else return;if(Xe){var ht=ae(Fe);Or(Xe,Z.props,"prop",ht,Z)}else if(Fe.PropTypes!==void 0&&!vt){vt=!0;var kt=ae(Fe);L("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",kt||"Unknown")}typeof Fe.getDefaultProps=="function"&&!Fe.getDefaultProps.isReactClassApproved&&L("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function na(Z){{for(var Fe=Object.keys(Z.props),Xe=0;Xe<Fe.length;Xe++){var ht=Fe[Xe];if(ht!=="children"&&ht!=="key"){rt(Z),L("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ht),rt(null);break}}Z.ref!==null&&(rt(Z),L("Invalid attribute `ref` supplied to `React.Fragment`."),rt(null))}}var ys={};function Ha(Z,Fe,Xe,ht,kt,Zt){{var Ot=O(Z);if(!Ot){var Mt="";(Z===void 0||typeof Z=="object"&&Z!==null&&Object.keys(Z).length===0)&&(Mt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var hr=St();hr?Mt+=hr:Mt+=zi();var Vt;Z===null?Vt="null":li(Z)?Vt="array":Z!==void 0&&Z.$$typeof===e?(Vt="<"+(ae(Z.type)||"Unknown")+" />",Mt=" Did you accidentally export a JSX literal instead of a component?"):Vt=typeof Z,L("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Vt,Mt)}var Nr=te(Z,Fe,Xe,kt,Zt);if(Nr==null)return Nr;if(Ot){var Zr=Fe.children;if(Zr!==void 0)if(ht)if(li(Zr)){for(var io=0;io<Zr.length;io++)Lr(Zr[io],Z);Object.freeze&&Object.freeze(Zr)}else L("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Lr(Zr,Z)}if(qe.call(Fe,"key")){var bs=ae(Z),zn=Object.keys(Fe).filter(function(zl){return zl!=="key"}),Va=zn.length>0?"{key: someKey, "+zn.join(": ..., ")+": ...}":"{key: someKey}";if(!ys[bs+Va]){var rl=zn.length>0?"{"+zn.join(": ..., ")+": ...}":"{}";L(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Va,bs,rl,bs),ys[bs+Va]=!0}}return Z===n?na(Nr):ui(Nr),Nr}}function _a(Z,Fe,Xe){return Ha(Z,Fe,Xe,!0)}function Br(Z,Fe,Xe){return Ha(Z,Fe,Xe,!1)}var _s=Br,no=_a;Jp.Fragment=n,Jp.jsx=_s,Jp.jsxs=no}()),Jp}var TA;function zN(){return TA||(TA=1,process.env.NODE_ENV==="production"?Yv.exports=UN():Yv.exports=kN()),Yv.exports}var Tm=zN();const Dm={black:"#000",white:"#fff"},bd={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},xd={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Sd={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ed={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Td={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},em={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},GN={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Gu(r,...e){const t=new URL(`https://mui.com/production-error/?code=${r}`);return e.forEach(n=>t.searchParams.append("args[]",n)),`Minified MUI error #${r}; visit ${t} for the full message.`}const HN="$$material";function IE(){return IE=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},IE.apply(null,arguments)}function VN(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function jN(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $N=function(){function r(t){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jN(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=VN(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},r}(),Ui="-ms-",n_="-moz-",dr="-webkit-",OI="comm",QT="rule",KT="decl",WN="@import",FI="@keyframes",XN="@layer",YN=Math.abs,N_=String.fromCharCode,qN=Object.assign;function QN(r,e){return Si(r,0)^45?(((e<<2^Si(r,0))<<2^Si(r,1))<<2^Si(r,2))<<2^Si(r,3):0}function LI(r){return r.trim()}function KN(r,e){return(r=e.exec(r))?r[0]:r}function fr(r,e,t){return r.replace(e,t)}function DE(r,e){return r.indexOf(e)}function Si(r,e){return r.charCodeAt(e)|0}function Om(r,e,t){return r.slice(e,t)}function Go(r){return r.length}function ZT(r){return r.length}function qv(r,e){return e.push(r),r}function ZN(r,e){return r.map(e).join("")}var U_=1,nf=1,BI=0,ga=0,Un=0,cf="";function k_(r,e,t,n,i,a,l){return{value:r,root:e,parent:t,type:n,props:i,children:a,line:U_,column:nf,length:l,return:""}}function tm(r,e){return qN(k_("",null,null,"",null,null,0),r,{length:-r.length},e)}function JN(){return Un}function eU(){return Un=ga>0?Si(cf,--ga):0,nf--,Un===10&&(nf=1,U_--),Un}function Ba(){return Un=ga<BI?Si(cf,ga++):0,nf++,Un===10&&(nf=1,U_++),Un}function Wo(){return Si(cf,ga)}function ky(){return ga}function Vm(r,e){return Om(cf,r,e)}function Fm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NI(r){return U_=nf=1,BI=Go(cf=r),ga=0,[]}function UI(r){return cf="",r}function zy(r){return LI(Vm(ga-1,OE(r===91?r+2:r===40?r+1:r)))}function tU(r){for(;(Un=Wo())&&Un<33;)Ba();return Fm(r)>2||Fm(Un)>3?"":" "}function rU(r,e){for(;--e&&Ba()&&!(Un<48||Un>102||Un>57&&Un<65||Un>70&&Un<97););return Vm(r,ky()+(e<6&&Wo()==32&&Ba()==32))}function OE(r){for(;Ba();)switch(Un){case r:return ga;case 34:case 39:r!==34&&r!==39&&OE(Un);break;case 40:r===41&&OE(r);break;case 92:Ba();break}return ga}function nU(r,e){for(;Ba()&&r+Un!==57;)if(r+Un===84&&Wo()===47)break;return"/*"+Vm(e,ga-1)+"*"+N_(r===47?r:Ba())}function iU(r){for(;!Fm(Wo());)Ba();return Vm(r,ga)}function aU(r){return UI(Gy("",null,null,null,[""],r=NI(r),0,[0],r))}function Gy(r,e,t,n,i,a,l,u,f){for(var p=0,g=0,v=l,b=0,x=0,S=0,E=1,A=1,P=1,L=0,D="",N=i,M=a,$=n,U=D;A;)switch(S=L,L=Ba()){case 40:if(S!=108&&Si(U,v-1)==58){DE(U+=fr(zy(L),"&","&\f"),"&\f")!=-1&&(P=-1);break}case 34:case 39:case 91:U+=zy(L);break;case 9:case 10:case 13:case 32:U+=tU(S);break;case 92:U+=rU(ky()-1,7);continue;case 47:switch(Wo()){case 42:case 47:qv(sU(nU(Ba(),ky()),e,t),f);break;default:U+="/"}break;case 123*E:u[p++]=Go(U)*P;case 125*E:case 59:case 0:switch(L){case 0:case 125:A=0;case 59+g:P==-1&&(U=fr(U,/\f/g,"")),x>0&&Go(U)-v&&qv(x>32?wA(U+";",n,t,v-1):wA(fr(U," ","")+";",n,t,v-2),f);break;case 59:U+=";";default:if(qv($=CA(U,e,t,p,g,i,u,D,N=[],M=[],v),a),L===123)if(g===0)Gy(U,e,$,$,N,a,v,u,M);else switch(b===99&&Si(U,3)===110?100:b){case 100:case 108:case 109:case 115:Gy(r,$,$,n&&qv(CA(r,$,$,0,0,i,u,D,i,N=[],v),M),i,M,v,u,n?N:M);break;default:Gy(U,$,$,$,[""],M,0,u,M)}}p=g=x=0,E=P=1,D=U="",v=l;break;case 58:v=1+Go(U),x=S;default:if(E<1){if(L==123)--E;else if(L==125&&E++==0&&eU()==125)continue}switch(U+=N_(L),L*E){case 38:P=g>0?1:(U+="\f",-1);break;case 44:u[p++]=(Go(U)-1)*P,P=1;break;case 64:Wo()===45&&(U+=zy(Ba())),b=Wo(),g=v=Go(D=U+=iU(ky())),L++;break;case 45:S===45&&Go(U)==2&&(E=0)}}return a}function CA(r,e,t,n,i,a,l,u,f,p,g){for(var v=i-1,b=i===0?a:[""],x=ZT(b),S=0,E=0,A=0;S<n;++S)for(var P=0,L=Om(r,v+1,v=YN(E=l[S])),D=r;P<x;++P)(D=LI(E>0?b[P]+" "+L:fr(L,/&\f/g,b[P])))&&(f[A++]=D);return k_(r,e,t,i===0?QT:u,f,p,g)}function sU(r,e,t){return k_(r,e,t,OI,N_(JN()),Om(r,2,-2),0)}function wA(r,e,t,n){return k_(r,e,t,KT,Om(r,0,n),Om(r,n+1,-1),n)}function jd(r,e){for(var t="",n=ZT(r),i=0;i<n;i++)t+=e(r[i],i,r,e)||"";return t}function oU(r,e,t,n){switch(r.type){case XN:if(r.children.length)break;case WN:case KT:return r.return=r.return||r.value;case OI:return"";case FI:return r.return=r.value+"{"+jd(r.children,n)+"}";case QT:r.value=r.props.join(",")}return Go(t=jd(r.children,n))?r.return=r.value+"{"+t+"}":""}function lU(r){var e=ZT(r);return function(t,n,i,a){for(var l="",u=0;u<e;u++)l+=r[u](t,n,i,a)||"";return l}}function uU(r){return function(e){e.root||(e=e.return)&&r(e)}}function kI(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var cU=function(e,t,n){for(var i=0,a=0;i=a,a=Wo(),i===38&&a===12&&(t[n]=1),!Fm(a);)Ba();return Vm(e,ga)},hU=function(e,t){var n=-1,i=44;do switch(Fm(i)){case 0:i===38&&Wo()===12&&(t[n]=1),e[n]+=cU(ga-1,t,n);break;case 2:e[n]+=zy(i);break;case 4:if(i===44){e[++n]=Wo()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=N_(i)}while(i=Ba());return e},dU=function(e,t){return UI(hU(NI(e),t))},AA=new WeakMap,fU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!AA.get(n))&&!i){AA.set(e,!0);for(var a=[],l=dU(t,a),u=n.props,f=0,p=0;f<l.length;f++)for(var g=0;g<u.length;g++,p++)e.props[p]=a[f]?l[f].replace(/&\f/g,u[g]):u[g]+" "+l[f]}}},pU=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function zI(r,e){switch(QN(r,e)){case 5103:return dr+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dr+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return dr+r+n_+r+Ui+r+r;case 6828:case 4268:return dr+r+Ui+r+r;case 6165:return dr+r+Ui+"flex-"+r+r;case 5187:return dr+r+fr(r,/(\w+).+(:[^]+)/,dr+"box-$1$2"+Ui+"flex-$1$2")+r;case 5443:return dr+r+Ui+"flex-item-"+fr(r,/flex-|-self/,"")+r;case 4675:return dr+r+Ui+"flex-line-pack"+fr(r,/align-content|flex-|-self/,"")+r;case 5548:return dr+r+Ui+fr(r,"shrink","negative")+r;case 5292:return dr+r+Ui+fr(r,"basis","preferred-size")+r;case 6060:return dr+"box-"+fr(r,"-grow","")+dr+r+Ui+fr(r,"grow","positive")+r;case 4554:return dr+fr(r,/([^-])(transform)/g,"$1"+dr+"$2")+r;case 6187:return fr(fr(fr(r,/(zoom-|grab)/,dr+"$1"),/(image-set)/,dr+"$1"),r,"")+r;case 5495:case 3959:return fr(r,/(image-set\([^]*)/,dr+"$1$`$1");case 4968:return fr(fr(r,/(.+:)(flex-)?(.*)/,dr+"box-pack:$3"+Ui+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dr+r+r;case 4095:case 3583:case 4068:case 2532:return fr(r,/(.+)-inline(.+)/,dr+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Go(r)-1-e>6)switch(Si(r,e+1)){case 109:if(Si(r,e+4)!==45)break;case 102:return fr(r,/(.+:)(.+)-([^]+)/,"$1"+dr+"$2-$3$1"+n_+(Si(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~DE(r,"stretch")?zI(fr(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Si(r,e+1)!==115)break;case 6444:switch(Si(r,Go(r)-3-(~DE(r,"!important")&&10))){case 107:return fr(r,":",":"+dr)+r;case 101:return fr(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dr+(Si(r,14)===45?"inline-":"")+"box$3$1"+dr+"$2$3$1"+Ui+"$2box$3")+r}break;case 5936:switch(Si(r,e+11)){case 114:return dr+r+Ui+fr(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return dr+r+Ui+fr(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return dr+r+Ui+fr(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return dr+r+Ui+r+r}return r}var mU=function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case KT:e.return=zI(e.value,e.length);break;case FI:return jd([tm(e,{value:fr(e.value,"@","@"+dr)})],i);case QT:if(e.length)return ZN(e.props,function(a){switch(KN(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jd([tm(e,{props:[fr(a,/:(read-\w+)/,":"+n_+"$1")]})],i);case"::placeholder":return jd([tm(e,{props:[fr(a,/:(plac\w+)/,":"+dr+"input-$1")]}),tm(e,{props:[fr(a,/:(plac\w+)/,":"+n_+"$1")]}),tm(e,{props:[fr(a,/:(plac\w+)/,Ui+"input-$1")]})],i)}return""})}},gU=[mU],vU=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(E){var A=E.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||gU,a={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(E){for(var A=E.getAttribute("data-emotion").split(" "),P=1;P<A.length;P++)a[A[P]]=!0;u.push(E)});var f,p=[fU,pU];{var g,v=[oU,uU(function(E){g.insert(E)})],b=lU(p.concat(i,v)),x=function(A){return jd(aU(A),b)};f=function(A,P,L,D){g=L,x(A?A+"{"+P.styles+"}":P.styles),D&&(S.inserted[P.name]=!0)}}var S={key:t,sheet:new $N({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:f};return S.sheet.hydrate(u),S},Qv={exports:{}},vr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function yU(){if(RA)return vr;RA=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,g=r?Symbol.for("react.forward_ref"):60112,v=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.suspense_list"):60120,x=r?Symbol.for("react.memo"):60115,S=r?Symbol.for("react.lazy"):60116,E=r?Symbol.for("react.block"):60121,A=r?Symbol.for("react.fundamental"):60117,P=r?Symbol.for("react.responder"):60118,L=r?Symbol.for("react.scope"):60119;function D(M){if(typeof M=="object"&&M!==null){var $=M.$$typeof;switch($){case e:switch(M=M.type,M){case f:case p:case n:case a:case i:case v:return M;default:switch(M=M&&M.$$typeof,M){case u:case g:case S:case x:case l:return M;default:return $}}case t:return $}}}function N(M){return D(M)===p}return vr.AsyncMode=f,vr.ConcurrentMode=p,vr.ContextConsumer=u,vr.ContextProvider=l,vr.Element=e,vr.ForwardRef=g,vr.Fragment=n,vr.Lazy=S,vr.Memo=x,vr.Portal=t,vr.Profiler=a,vr.StrictMode=i,vr.Suspense=v,vr.isAsyncMode=function(M){return N(M)||D(M)===f},vr.isConcurrentMode=N,vr.isContextConsumer=function(M){return D(M)===u},vr.isContextProvider=function(M){return D(M)===l},vr.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},vr.isForwardRef=function(M){return D(M)===g},vr.isFragment=function(M){return D(M)===n},vr.isLazy=function(M){return D(M)===S},vr.isMemo=function(M){return D(M)===x},vr.isPortal=function(M){return D(M)===t},vr.isProfiler=function(M){return D(M)===a},vr.isStrictMode=function(M){return D(M)===i},vr.isSuspense=function(M){return D(M)===v},vr.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===n||M===p||M===a||M===i||M===v||M===b||typeof M=="object"&&M!==null&&(M.$$typeof===S||M.$$typeof===x||M.$$typeof===l||M.$$typeof===u||M.$$typeof===g||M.$$typeof===A||M.$$typeof===P||M.$$typeof===L||M.$$typeof===E)},vr.typeOf=D,vr}var yr={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA;function _U(){return PA||(PA=1,process.env.NODE_ENV!=="production"&&function(){var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,g=r?Symbol.for("react.forward_ref"):60112,v=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.suspense_list"):60120,x=r?Symbol.for("react.memo"):60115,S=r?Symbol.for("react.lazy"):60116,E=r?Symbol.for("react.block"):60121,A=r?Symbol.for("react.fundamental"):60117,P=r?Symbol.for("react.responder"):60118,L=r?Symbol.for("react.scope"):60119;function D(fe){return typeof fe=="string"||typeof fe=="function"||fe===n||fe===p||fe===a||fe===i||fe===v||fe===b||typeof fe=="object"&&fe!==null&&(fe.$$typeof===S||fe.$$typeof===x||fe.$$typeof===l||fe.$$typeof===u||fe.$$typeof===g||fe.$$typeof===A||fe.$$typeof===P||fe.$$typeof===L||fe.$$typeof===E)}function N(fe){if(typeof fe=="object"&&fe!==null){var ke=fe.$$typeof;switch(ke){case e:var ut=fe.type;switch(ut){case f:case p:case n:case a:case i:case v:return ut;default:var He=ut&&ut.$$typeof;switch(He){case u:case g:case S:case x:case l:return He;default:return ke}}case t:return ke}}}var M=f,$=p,U=u,V=l,re=e,O=g,Q=n,q=S,ae=x,oe=t,Ie=a,G=i,W=v,k=!1;function J(fe){return k||(k=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),F(fe)||N(fe)===f}function F(fe){return N(fe)===p}function H(fe){return N(fe)===u}function Y(fe){return N(fe)===l}function K(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===e}function se(fe){return N(fe)===g}function me(fe){return N(fe)===n}function de(fe){return N(fe)===S}function _e(fe){return N(fe)===x}function we(fe){return N(fe)===t}function Pe(fe){return N(fe)===a}function ve(fe){return N(fe)===i}function Ae(fe){return N(fe)===v}yr.AsyncMode=M,yr.ConcurrentMode=$,yr.ContextConsumer=U,yr.ContextProvider=V,yr.Element=re,yr.ForwardRef=O,yr.Fragment=Q,yr.Lazy=q,yr.Memo=ae,yr.Portal=oe,yr.Profiler=Ie,yr.StrictMode=G,yr.Suspense=W,yr.isAsyncMode=J,yr.isConcurrentMode=F,yr.isContextConsumer=H,yr.isContextProvider=Y,yr.isElement=K,yr.isForwardRef=se,yr.isFragment=me,yr.isLazy=de,yr.isMemo=_e,yr.isPortal=we,yr.isProfiler=Pe,yr.isStrictMode=ve,yr.isSuspense=Ae,yr.isValidElementType=D,yr.typeOf=N}()),yr}var MA;function GI(){return MA||(MA=1,process.env.NODE_ENV==="production"?Qv.exports=yU():Qv.exports=_U()),Qv.exports}var bU=!0;function xU(r,e,t){var n="";return t.split(" ").forEach(function(i){r[i]!==void 0?e.push(r[i]+";"):i&&(n+=i+" ")}),n}var HI=function(e,t,n){var i=e.key+"-"+t.name;(n===!1||bU===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},SU=function(e,t,n){HI(e,t,n);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function EU(r){for(var e=0,t,n=0,i=r.length;i>=4;++n,i-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var TU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},CU=/[A-Z]|^ms/g,wU=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VI=function(e){return e.charCodeAt(1)===45},IA=function(e){return e!=null&&typeof e!="boolean"},Dx=kI(function(r){return VI(r)?r:r.replace(CU,"-$&").toLowerCase()}),DA=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(wU,function(n,i,a){return Ho={name:i,styles:a,next:Ho},i})}return TU[e]!==1&&!VI(e)&&typeof t=="number"&&t!==0?t+"px":t};function Lm(r,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ho={name:i.name,styles:i.styles,next:Ho},i.name;var a=t;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)Ho={name:l.name,styles:l.styles,next:Ho},l=l.next;var u=a.styles+";";return u}return AU(r,e,t)}case"function":{if(r!==void 0){var f=Ho,p=t(r);return Ho=f,Lm(r,e,p)}break}}var g=t;if(e==null)return g;var v=e[g];return v!==void 0?v:g}function AU(r,e,t){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=Lm(r,e,t[i])+";";else for(var a in t){var l=t[a];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?n+=a+"{"+e[u]+"}":IA(u)&&(n+=Dx(a)+":"+DA(a,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var f=0;f<l.length;f++)IA(l[f])&&(n+=Dx(a)+":"+DA(a,l[f])+";");else{var p=Lm(r,e,l);switch(a){case"animation":case"animationName":{n+=Dx(a)+":"+p+";";break}default:n+=a+"{"+p+"}"}}}return n}var OA=/label:\s*([^\s;{]+)\s*(;|$)/g,Ho;function RU(r,e,t){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var n=!0,i="";Ho=void 0;var a=r[0];if(a==null||a.raw===void 0)n=!1,i+=Lm(t,e,a);else{var l=a;i+=l[0]}for(var u=1;u<r.length;u++)if(i+=Lm(t,e,r[u]),n){var f=a;i+=f[u]}OA.lastIndex=0;for(var p="",g;(g=OA.exec(i))!==null;)p+="-"+g[1];var v=EU(i)+p;return{name:v,styles:i,next:Ho}}var PU=function(e){return e()},MU=Fa.useInsertionEffect?Fa.useInsertionEffect:!1,IU=MU||PU,jI=Fa.createContext(typeof HTMLElement<"u"?vU({key:"css"}):null);jI.Provider;var DU=function(e){return Tt.forwardRef(function(t,n){var i=Tt.useContext(jI);return e(t,i,n)})},$I=Fa.createContext({}),OU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,FU=kI(function(r){return OU.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),LU=FU,BU=function(e){return e!=="theme"},FA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?LU:BU},LA=function(e,t,n){var i;if(t){var a=t.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(l){return e.__emotion_forwardProp(l)&&a(l)}:a}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},NU=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return HI(t,n,i),IU(function(){return SU(t,n,i)}),null},UU=function r(e,t){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,a,l;t!==void 0&&(a=t.label,l=t.target);var u=LA(e,t,n),f=u||FA(i),p=!f("as");return function(){var g=arguments,v=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&v.push("label:"+a+";"),g[0]==null||g[0].raw===void 0)v.push.apply(v,g);else{var b=g[0];v.push(b[0]);for(var x=g.length,S=1;S<x;S++)v.push(g[S],b[S])}var E=DU(function(A,P,L){var D=p&&A.as||i,N="",M=[],$=A;if(A.theme==null){$={};for(var U in A)$[U]=A[U];$.theme=Fa.useContext($I)}typeof A.className=="string"?N=xU(P.registered,M,A.className):A.className!=null&&(N=A.className+" ");var V=RU(v.concat(M),P.registered,$);N+=P.key+"-"+V.name,l!==void 0&&(N+=" "+l);var re=p&&u===void 0?FA(D):f,O={};for(var Q in A)p&&Q==="as"||re(Q)&&(O[Q]=A[Q]);return O.className=N,L&&(O.ref=L),Fa.createElement(Fa.Fragment,null,Fa.createElement(NU,{cache:P,serialized:V,isStringTag:typeof D=="string"}),Fa.createElement(D,O))});return E.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=v,E.__emotion_forwardProp=u,Object.defineProperty(E,"toString",{value:function(){return"."+l}}),E.withComponent=function(A,P){var L=r(A,IE({},t,P,{shouldForwardProp:LA(E,P,!0)}));return L.apply(void 0,v)},E}},kU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],FE=UU.bind(null);kU.forEach(function(r){FE[r]=FE(r)});var Kv={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ox,BA;function zU(){if(BA)return Ox;BA=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},u=0;u<10;u++)l["_"+String.fromCharCode(u)]=u;var f=Object.getOwnPropertyNames(l).map(function(g){return l[g]});if(f.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(g){p[g]=g}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Ox=i()?Object.assign:function(a,l){for(var u,f=n(a),p,g=1;g<arguments.length;g++){u=Object(arguments[g]);for(var v in u)e.call(u,v)&&(f[v]=u[v]);if(r){p=r(u);for(var b=0;b<p.length;b++)t.call(u,p[b])&&(f[p[b]]=u[p[b]])}}return f},Ox}var Fx,NA;function JT(){if(NA)return Fx;NA=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fx=r,Fx}var Lx,UA;function WI(){return UA||(UA=1,Lx=Function.call.bind(Object.prototype.hasOwnProperty)),Lx}var Bx,kA;function GU(){if(kA)return Bx;kA=1;var r=function(){};if(process.env.NODE_ENV!=="production"){var e=JT(),t={},n=WI();r=function(a){var l="Warning: "+a;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}}}function i(a,l,u,f,p){if(process.env.NODE_ENV!=="production"){for(var g in a)if(n(a,g)){var v;try{if(typeof a[g]!="function"){var b=Error((f||"React class")+": "+u+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[g]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw b.name="Invariant Violation",b}v=a[g](l,g,f,u,null,e)}catch(S){v=S}if(v&&!(v instanceof Error)&&r((f||"React class")+": type specification of "+u+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof v+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),v instanceof Error&&!(v.message in t)){t[v.message]=!0;var x=p?p():"";r("Failed "+u+" type: "+v.message+(x??""))}}}}return i.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(t={})},Bx=i,Bx}var Nx,zA;function HU(){if(zA)return Nx;zA=1;var r=GI(),e=zU(),t=JT(),n=WI(),i=GU(),a=function(){};process.env.NODE_ENV!=="production"&&(a=function(u){var f="Warning: "+u;typeof console<"u"&&console.error(f);try{throw new Error(f)}catch{}});function l(){return null}return Nx=function(u,f){var p=typeof Symbol=="function"&&Symbol.iterator,g="@@iterator";function v(F){var H=F&&(p&&F[p]||F[g]);if(typeof H=="function")return H}var b="<<anonymous>>",x={array:P("array"),bigint:P("bigint"),bool:P("boolean"),func:P("function"),number:P("number"),object:P("object"),string:P("string"),symbol:P("symbol"),any:L(),arrayOf:D,element:N(),elementType:M(),instanceOf:$,node:O(),objectOf:V,oneOf:U,oneOfType:re,shape:q,exact:ae};function S(F,H){return F===H?F!==0||1/F===1/H:F!==F&&H!==H}function E(F,H){this.message=F,this.data=H&&typeof H=="object"?H:{},this.stack=""}E.prototype=Error.prototype;function A(F){if(process.env.NODE_ENV!=="production")var H={},Y=0;function K(me,de,_e,we,Pe,ve,Ae){if(we=we||b,ve=ve||_e,Ae!==t){if(f){var fe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw fe.name="Invariant Violation",fe}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var ke=we+":"+_e;!H[ke]&&Y<3&&(a("You are manually calling a React.PropTypes validation function for the `"+ve+"` prop on `"+we+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),H[ke]=!0,Y++)}}return de[_e]==null?me?de[_e]===null?new E("The "+Pe+" `"+ve+"` is marked as required "+("in `"+we+"`, but its value is `null`.")):new E("The "+Pe+" `"+ve+"` is marked as required in "+("`"+we+"`, but its value is `undefined`.")):null:F(de,_e,we,Pe,ve)}var se=K.bind(null,!1);return se.isRequired=K.bind(null,!0),se}function P(F){function H(Y,K,se,me,de,_e){var we=Y[K],Pe=G(we);if(Pe!==F){var ve=W(we);return new E("Invalid "+me+" `"+de+"` of type "+("`"+ve+"` supplied to `"+se+"`, expected ")+("`"+F+"`."),{expectedType:F})}return null}return A(H)}function L(){return A(l)}function D(F){function H(Y,K,se,me,de){if(typeof F!="function")return new E("Property `"+de+"` of component `"+se+"` has invalid PropType notation inside arrayOf.");var _e=Y[K];if(!Array.isArray(_e)){var we=G(_e);return new E("Invalid "+me+" `"+de+"` of type "+("`"+we+"` supplied to `"+se+"`, expected an array."))}for(var Pe=0;Pe<_e.length;Pe++){var ve=F(_e,Pe,se,me,de+"["+Pe+"]",t);if(ve instanceof Error)return ve}return null}return A(H)}function N(){function F(H,Y,K,se,me){var de=H[Y];if(!u(de)){var _e=G(de);return new E("Invalid "+se+" `"+me+"` of type "+("`"+_e+"` supplied to `"+K+"`, expected a single ReactElement."))}return null}return A(F)}function M(){function F(H,Y,K,se,me){var de=H[Y];if(!r.isValidElementType(de)){var _e=G(de);return new E("Invalid "+se+" `"+me+"` of type "+("`"+_e+"` supplied to `"+K+"`, expected a single ReactElement type."))}return null}return A(F)}function $(F){function H(Y,K,se,me,de){if(!(Y[K]instanceof F)){var _e=F.name||b,we=J(Y[K]);return new E("Invalid "+me+" `"+de+"` of type "+("`"+we+"` supplied to `"+se+"`, expected ")+("instance of `"+_e+"`."))}return null}return A(H)}function U(F){if(!Array.isArray(F))return process.env.NODE_ENV!=="production"&&(arguments.length>1?a("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):a("Invalid argument supplied to oneOf, expected an array.")),l;function H(Y,K,se,me,de){for(var _e=Y[K],we=0;we<F.length;we++)if(S(_e,F[we]))return null;var Pe=JSON.stringify(F,function(Ae,fe){var ke=W(fe);return ke==="symbol"?String(fe):fe});return new E("Invalid "+me+" `"+de+"` of value `"+String(_e)+"` "+("supplied to `"+se+"`, expected one of "+Pe+"."))}return A(H)}function V(F){function H(Y,K,se,me,de){if(typeof F!="function")return new E("Property `"+de+"` of component `"+se+"` has invalid PropType notation inside objectOf.");var _e=Y[K],we=G(_e);if(we!=="object")return new E("Invalid "+me+" `"+de+"` of type "+("`"+we+"` supplied to `"+se+"`, expected an object."));for(var Pe in _e)if(n(_e,Pe)){var ve=F(_e,Pe,se,me,de+"."+Pe,t);if(ve instanceof Error)return ve}return null}return A(H)}function re(F){if(!Array.isArray(F))return process.env.NODE_ENV!=="production"&&a("Invalid argument supplied to oneOfType, expected an instance of array."),l;for(var H=0;H<F.length;H++){var Y=F[H];if(typeof Y!="function")return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+k(Y)+" at index "+H+"."),l}function K(se,me,de,_e,we){for(var Pe=[],ve=0;ve<F.length;ve++){var Ae=F[ve],fe=Ae(se,me,de,_e,we,t);if(fe==null)return null;fe.data&&n(fe.data,"expectedType")&&Pe.push(fe.data.expectedType)}var ke=Pe.length>0?", expected one of type ["+Pe.join(", ")+"]":"";return new E("Invalid "+_e+" `"+we+"` supplied to "+("`"+de+"`"+ke+"."))}return A(K)}function O(){function F(H,Y,K,se,me){return oe(H[Y])?null:new E("Invalid "+se+" `"+me+"` supplied to "+("`"+K+"`, expected a ReactNode."))}return A(F)}function Q(F,H,Y,K,se){return new E((F||"React class")+": "+H+" type `"+Y+"."+K+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+se+"`.")}function q(F){function H(Y,K,se,me,de){var _e=Y[K],we=G(_e);if(we!=="object")return new E("Invalid "+me+" `"+de+"` of type `"+we+"` "+("supplied to `"+se+"`, expected `object`."));for(var Pe in F){var ve=F[Pe];if(typeof ve!="function")return Q(se,me,de,Pe,W(ve));var Ae=ve(_e,Pe,se,me,de+"."+Pe,t);if(Ae)return Ae}return null}return A(H)}function ae(F){function H(Y,K,se,me,de){var _e=Y[K],we=G(_e);if(we!=="object")return new E("Invalid "+me+" `"+de+"` of type `"+we+"` "+("supplied to `"+se+"`, expected `object`."));var Pe=e({},Y[K],F);for(var ve in Pe){var Ae=F[ve];if(n(F,ve)&&typeof Ae!="function")return Q(se,me,de,ve,W(Ae));if(!Ae)return new E("Invalid "+me+" `"+de+"` key `"+ve+"` supplied to `"+se+"`.\nBad object: "+JSON.stringify(Y[K],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(F),null,"  "));var fe=Ae(_e,ve,se,me,de+"."+ve,t);if(fe)return fe}return null}return A(H)}function oe(F){switch(typeof F){case"number":case"string":case"undefined":return!0;case"boolean":return!F;case"object":if(Array.isArray(F))return F.every(oe);if(F===null||u(F))return!0;var H=v(F);if(H){var Y=H.call(F),K;if(H!==F.entries){for(;!(K=Y.next()).done;)if(!oe(K.value))return!1}else for(;!(K=Y.next()).done;){var se=K.value;if(se&&!oe(se[1]))return!1}}else return!1;return!0;default:return!1}}function Ie(F,H){return F==="symbol"?!0:H?H["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&H instanceof Symbol:!1}function G(F){var H=typeof F;return Array.isArray(F)?"array":F instanceof RegExp?"object":Ie(H,F)?"symbol":H}function W(F){if(typeof F>"u"||F===null)return""+F;var H=G(F);if(H==="object"){if(F instanceof Date)return"date";if(F instanceof RegExp)return"regexp"}return H}function k(F){var H=W(F);switch(H){case"array":case"object":return"an "+H;case"boolean":case"date":case"regexp":return"a "+H;default:return H}}function J(F){return!F.constructor||!F.constructor.name?b:F.constructor.name}return x.checkPropTypes=i,x.resetWarningCache=i.resetWarningCache,x.PropTypes=x,x},Nx}var Ux,GA;function VU(){if(GA)return Ux;GA=1;var r=JT();function e(){}function t(){}return t.resetWarningCache=e,Ux=function(){function n(l,u,f,p,g,v){if(v!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Ux}var HA;function jU(){if(HA)return Kv.exports;if(HA=1,process.env.NODE_ENV!=="production"){var r=GI(),e=!0;Kv.exports=HU()(r.isElement,e)}else Kv.exports=VU()();return Kv.exports}var $U=jU();const st=YT($U);/**
 * @mui/styled-engine v7.2.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function WU(r,e){const t=FE(r,e);return process.env.NODE_ENV!=="production"?(...n)=>{const i=`"${r}"`;return n.length===0?console.error([`MUI: Seems like you called \`styled(${i})()\` without a \`style\` argument.`,'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join(`
`)):n.some(a=>a===void 0)&&console.error(`MUI: the styled(${i})(...args) API requires all its args to be defined.`),t(...n)}:t}var Zv={exports:{}},wr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function XU(){if(VA)return wr;VA=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case r:switch(E=E.type,E){case t:case i:case n:case f:case p:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case v:case g:return E;case a:return E;default:return A}}case e:return A}}}return wr.ContextConsumer=a,wr.ContextProvider=l,wr.Element=r,wr.ForwardRef=u,wr.Fragment=t,wr.Lazy=v,wr.Memo=g,wr.Portal=e,wr.Profiler=i,wr.StrictMode=n,wr.Suspense=f,wr.SuspenseList=p,wr.isContextConsumer=function(E){return S(E)===a},wr.isContextProvider=function(E){return S(E)===l},wr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===r},wr.isForwardRef=function(E){return S(E)===u},wr.isFragment=function(E){return S(E)===t},wr.isLazy=function(E){return S(E)===v},wr.isMemo=function(E){return S(E)===g},wr.isPortal=function(E){return S(E)===e},wr.isProfiler=function(E){return S(E)===i},wr.isStrictMode=function(E){return S(E)===n},wr.isSuspense=function(E){return S(E)===f},wr.isSuspenseList=function(E){return S(E)===p},wr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===t||E===i||E===n||E===f||E===p||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===g||E.$$typeof===l||E.$$typeof===a||E.$$typeof===u||E.$$typeof===x||E.getModuleId!==void 0)},wr.typeOf=S,wr}var Ar={};/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function YU(){return jA||(jA=1,process.env.NODE_ENV!=="production"&&function(){function r(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case e:switch(E=E.type,E){case n:case a:case i:case p:case g:case x:return E;default:switch(E=E&&E.$$typeof,E){case u:case f:case b:case v:return E;case l:return E;default:return A}}case t:return A}}}var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");Ar.ContextConsumer=l,Ar.ContextProvider=u,Ar.Element=e,Ar.ForwardRef=f,Ar.Fragment=n,Ar.Lazy=b,Ar.Memo=v,Ar.Portal=t,Ar.Profiler=a,Ar.StrictMode=i,Ar.Suspense=p,Ar.SuspenseList=g,Ar.isContextConsumer=function(E){return r(E)===l},Ar.isContextProvider=function(E){return r(E)===u},Ar.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Ar.isForwardRef=function(E){return r(E)===f},Ar.isFragment=function(E){return r(E)===n},Ar.isLazy=function(E){return r(E)===b},Ar.isMemo=function(E){return r(E)===v},Ar.isPortal=function(E){return r(E)===t},Ar.isProfiler=function(E){return r(E)===a},Ar.isStrictMode=function(E){return r(E)===i},Ar.isSuspense=function(E){return r(E)===p},Ar.isSuspenseList=function(E){return r(E)===g},Ar.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===a||E===i||E===p||E===g||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===v||E.$$typeof===u||E.$$typeof===l||E.$$typeof===f||E.$$typeof===S||E.getModuleId!==void 0)},Ar.typeOf=r}()),Ar}var $A;function qU(){return $A||($A=1,process.env.NODE_ENV==="production"?Zv.exports=XU():Zv.exports=YU()),Zv.exports}var XI=qU();function Al(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function YI(r){if(Fa.isValidElement(r)||XI.isValidElementType(r)||!Al(r))return r;const e={};return Object.keys(r).forEach(t=>{e[t]=YI(r[t])}),e}function Na(r,e,t={clone:!0}){const n=t.clone?{...r}:r;return Al(r)&&Al(e)&&Object.keys(e).forEach(i=>{Fa.isValidElement(e[i])||XI.isValidElementType(e[i])?n[i]=e[i]:Al(e[i])&&Object.prototype.hasOwnProperty.call(r,i)&&Al(r[i])?n[i]=Na(r[i],e[i],t):t.clone?n[i]=Al(e[i])?YI(e[i]):e[i]:n[i]=e[i]}),n}const QU=r=>{const e=Object.keys(r).map(t=>({key:t,val:r[t]}))||[];return e.sort((t,n)=>t.val-n.val),e.reduce((t,n)=>({...t,[n.key]:n.val}),{})};function KU(r){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5,...i}=r,a=QU(e),l=Object.keys(a);function u(b){return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t})`}function f(b){return`@media (max-width:${(typeof e[b]=="number"?e[b]:b)-n/100}${t})`}function p(b,x){const S=l.indexOf(x);return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t}) and (max-width:${(S!==-1&&typeof e[l[S]]=="number"?e[l[S]]:x)-n/100}${t})`}function g(b){return l.indexOf(b)+1<l.length?p(b,l[l.indexOf(b)+1]):u(b)}function v(b){const x=l.indexOf(b);return x===0?u(l[1]):x===l.length-1?f(l[x]):p(b,l[l.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:u,down:f,between:p,only:g,not:v,unit:t,...i}}function WA(r,e){if(!r.containerQueries)return e;const t=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const a=/min-width:\s*([0-9.]+)/;return+(n.match(a)?.[1]||0)-+(i.match(a)?.[1]||0)});return t.length?t.reduce((n,i)=>{const a=e[i];return delete n[i],n[i]=a,n},{...e}):e}function ZU(r,e){return e==="@"||e.startsWith("@")&&(r.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function JU(r,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t){if(process.env.NODE_ENV!=="production")throw new Error(process.env.NODE_ENV!=="production"?`MUI: The provided shorthand ${`(${e})`} is invalid. The format should be \`@<breakpoint | number>\` or \`@<breakpoint | number>/<container>\`.
For example, \`@sm\` or \`@600\` or \`@40rem/sidebar\`.`:Gu(18,`(${e})`));return null}const[,n,i]=t,a=Number.isNaN(+n)?n||0:+n;return r.containerQueries(i).up(a)}function ek(r){const e=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function t(a,l){a.up=(...u)=>e(r.breakpoints.up(...u),l),a.down=(...u)=>e(r.breakpoints.down(...u),l),a.between=(...u)=>e(r.breakpoints.between(...u),l),a.only=(...u)=>e(r.breakpoints.only(...u),l),a.not=(...u)=>{const f=e(r.breakpoints.not(...u),l);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const n={},i=a=>(t(n,a),n);return t(i),{...r,containerQueries:i}}const tk={borderRadius:4},Xu=process.env.NODE_ENV!=="production"?st.oneOfType([st.number,st.string,st.object,st.array]):{};function Cm(r,e){return e?Na(r,e,{clone:!1}):r}const z_={xs:0,sm:600,md:900,lg:1200,xl:1536},XA={keys:["xs","sm","md","lg","xl"],up:r=>`@media (min-width:${z_[r]}px)`},rk={containerQueries:r=>({up:e=>{let t=typeof e=="number"?e:z_[e]||e;return typeof t=="number"&&(t=`${t}px`),r?`@container ${r} (min-width:${t})`:`@container (min-width:${t})`}})};function Fl(r,e,t){const n=r.theme||{};if(Array.isArray(e)){const a=n.breakpoints||XA;return e.reduce((l,u,f)=>(l[a.up(a.keys[f])]=t(e[f]),l),{})}if(typeof e=="object"){const a=n.breakpoints||XA;return Object.keys(e).reduce((l,u)=>{if(ZU(a.keys,u)){const f=JU(n.containerQueries?n:rk,u);f&&(l[f]=t(e[u],u))}else if(Object.keys(a.values||z_).includes(u)){const f=a.up(u);l[f]=t(e[u],u)}else{const f=u;l[f]=e[f]}return l},{})}return t(e)}function nk(r={}){return r.keys?.reduce((t,n)=>{const i=r.up(n);return t[i]={},t},{})||{}}function YA(r,e){return r.reduce((t,n)=>{const i=t[n];return(!i||Object.keys(i).length===0)&&delete t[n],t},e)}function qI(r){if(typeof r!="string")throw new Error(process.env.NODE_ENV!=="production"?"MUI: `capitalize(string)` expects a string argument.":Gu(7));return r.charAt(0).toUpperCase()+r.slice(1)}function G_(r,e,t=!0){if(!e||typeof e!="string")return null;if(r&&r.vars&&t){const n=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,r);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,r)}function i_(r,e,t,n=t){let i;return typeof r=="function"?i=r(t):Array.isArray(r)?i=r[t]||n:i=G_(r,t)||n,e&&(i=e(i,n,r)),i}function Cn(r){const{prop:e,cssProperty:t=r.prop,themeKey:n,transform:i}=r,a=l=>{if(l[e]==null)return null;const u=l[e],f=l.theme,p=G_(f,n)||{};return Fl(l,u,v=>{let b=i_(p,i,v);return v===b&&typeof v=="string"&&(b=i_(p,i,`${e}${v==="default"?"":qI(v)}`,v)),t===!1?b:{[t]:b}})};return a.propTypes=process.env.NODE_ENV!=="production"?{[e]:Xu}:{},a.filterProps=[e],a}function ik(r){const e={};return t=>(e[t]===void 0&&(e[t]=r(t)),e[t])}const ak={m:"margin",p:"padding"},sk={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},qA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ok=ik(r=>{if(r.length>2)if(qA[r])r=qA[r];else return[r];const[e,t]=r.split(""),n=ak[e],i=sk[t]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),H_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],V_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],lk=[...H_,...V_];function jm(r,e,t,n){const i=G_(r,e,!0)??t;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:(process.env.NODE_ENV!=="production"&&typeof a!="number"&&console.error(`MUI: Expected ${n} argument to be a number or a string, got ${a}.`),typeof i=="string"?i.startsWith("var(")&&a===0?0:i.startsWith("var(")&&a===1?i:`calc(${a} * ${i})`:i*a):Array.isArray(i)?a=>{if(typeof a=="string")return a;const l=Math.abs(a);process.env.NODE_ENV!=="production"&&(Number.isInteger(l)?l>i.length-1&&console.error([`MUI: The value provided (${l}) overflows.`,`The supported values are: ${JSON.stringify(i)}.`,`${l} > ${i.length-1}, you need to add the missing values.`].join(`
`)):console.error([`MUI: The \`theme.${e}\` array type cannot be combined with non integer values.You should either use an integer value that can be used as index, or define the \`theme.${e}\` as a number.`].join(`
`)));const u=i[l];return a>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:(process.env.NODE_ENV!=="production"&&console.error([`MUI: The \`theme.${e}\` value (${i}) is invalid.`,"It should be a number, an array or a function."].join(`
`)),()=>{})}function e1(r){return jm(r,"spacing",8,"spacing")}function $m(r,e){return typeof e=="string"||e==null?e:r(e)}function uk(r,e){return t=>r.reduce((n,i)=>(n[i]=$m(e,t),n),{})}function ck(r,e,t,n){if(!e.includes(t))return null;const i=ok(t),a=uk(i,n),l=r[t];return Fl(r,l,a)}function QI(r,e){const t=e1(r.theme);return Object.keys(r).map(n=>ck(r,e,n,t)).reduce(Cm,{})}function un(r){return QI(r,H_)}un.propTypes=process.env.NODE_ENV!=="production"?H_.reduce((r,e)=>(r[e]=Xu,r),{}):{};un.filterProps=H_;function cn(r){return QI(r,V_)}cn.propTypes=process.env.NODE_ENV!=="production"?V_.reduce((r,e)=>(r[e]=Xu,r),{}):{};cn.filterProps=V_;process.env.NODE_ENV!=="production"&&lk.reduce((r,e)=>(r[e]=Xu,r),{});function KI(r=8,e=e1({spacing:r})){if(r.mui)return r;const t=(...n)=>(process.env.NODE_ENV!=="production"&&(n.length<=4||console.error(`MUI: Too many arguments provided, expected between 0 and 4, got ${n.length}`)),(n.length===0?[1]:n).map(a=>{const l=e(a);return typeof l=="number"?`${l}px`:l}).join(" "));return t.mui=!0,t}function j_(...r){const e=r.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),t=n=>Object.keys(n).reduce((i,a)=>e[a]?Cm(i,e[a](n)):i,{});return t.propTypes=process.env.NODE_ENV!=="production"?r.reduce((n,i)=>Object.assign(n,i.propTypes),{}):{},t.filterProps=r.reduce((n,i)=>n.concat(i.filterProps),[]),t}function os(r){return typeof r!="number"?r:`${r}px solid`}function ms(r,e){return Cn({prop:r,themeKey:"borders",transform:e})}const hk=ms("border",os),dk=ms("borderTop",os),fk=ms("borderRight",os),pk=ms("borderBottom",os),mk=ms("borderLeft",os),gk=ms("borderColor"),vk=ms("borderTopColor"),yk=ms("borderRightColor"),_k=ms("borderBottomColor"),bk=ms("borderLeftColor"),xk=ms("outline",os),Sk=ms("outlineColor"),$_=r=>{if(r.borderRadius!==void 0&&r.borderRadius!==null){const e=jm(r.theme,"shape.borderRadius",4,"borderRadius"),t=n=>({borderRadius:$m(e,n)});return Fl(r,r.borderRadius,t)}return null};$_.propTypes=process.env.NODE_ENV!=="production"?{borderRadius:Xu}:{};$_.filterProps=["borderRadius"];j_(hk,dk,fk,pk,mk,gk,vk,yk,_k,bk,$_,xk,Sk);const W_=r=>{if(r.gap!==void 0&&r.gap!==null){const e=jm(r.theme,"spacing",8,"gap"),t=n=>({gap:$m(e,n)});return Fl(r,r.gap,t)}return null};W_.propTypes=process.env.NODE_ENV!=="production"?{gap:Xu}:{};W_.filterProps=["gap"];const X_=r=>{if(r.columnGap!==void 0&&r.columnGap!==null){const e=jm(r.theme,"spacing",8,"columnGap"),t=n=>({columnGap:$m(e,n)});return Fl(r,r.columnGap,t)}return null};X_.propTypes=process.env.NODE_ENV!=="production"?{columnGap:Xu}:{};X_.filterProps=["columnGap"];const Y_=r=>{if(r.rowGap!==void 0&&r.rowGap!==null){const e=jm(r.theme,"spacing",8,"rowGap"),t=n=>({rowGap:$m(e,n)});return Fl(r,r.rowGap,t)}return null};Y_.propTypes=process.env.NODE_ENV!=="production"?{rowGap:Xu}:{};Y_.filterProps=["rowGap"];const Ek=Cn({prop:"gridColumn"}),Tk=Cn({prop:"gridRow"}),Ck=Cn({prop:"gridAutoFlow"}),wk=Cn({prop:"gridAutoColumns"}),Ak=Cn({prop:"gridAutoRows"}),Rk=Cn({prop:"gridTemplateColumns"}),Pk=Cn({prop:"gridTemplateRows"}),Mk=Cn({prop:"gridTemplateAreas"}),Ik=Cn({prop:"gridArea"});j_(W_,X_,Y_,Ek,Tk,Ck,wk,Ak,Rk,Pk,Mk,Ik);function $d(r,e){return e==="grey"?e:r}const Dk=Cn({prop:"color",themeKey:"palette",transform:$d}),Ok=Cn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$d}),Fk=Cn({prop:"backgroundColor",themeKey:"palette",transform:$d});j_(Dk,Ok,Fk);function La(r){return r<=1&&r!==0?`${r*100}%`:r}const Lk=Cn({prop:"width",transform:La}),t1=r=>{if(r.maxWidth!==void 0&&r.maxWidth!==null){const e=t=>{const n=r.theme?.breakpoints?.values?.[t]||z_[t];return n?r.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${r.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:La(t)}};return Fl(r,r.maxWidth,e)}return null};t1.filterProps=["maxWidth"];const Bk=Cn({prop:"minWidth",transform:La}),Nk=Cn({prop:"height",transform:La}),Uk=Cn({prop:"maxHeight",transform:La}),kk=Cn({prop:"minHeight",transform:La});Cn({prop:"size",cssProperty:"width",transform:La});Cn({prop:"size",cssProperty:"height",transform:La});const zk=Cn({prop:"boxSizing"});j_(Lk,t1,Bk,Nk,Uk,kk,zk);const Wm={border:{themeKey:"borders",transform:os},borderTop:{themeKey:"borders",transform:os},borderRight:{themeKey:"borders",transform:os},borderBottom:{themeKey:"borders",transform:os},borderLeft:{themeKey:"borders",transform:os},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:os},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$_},color:{themeKey:"palette",transform:$d},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$d},backgroundColor:{themeKey:"palette",transform:$d},p:{style:cn},pt:{style:cn},pr:{style:cn},pb:{style:cn},pl:{style:cn},px:{style:cn},py:{style:cn},padding:{style:cn},paddingTop:{style:cn},paddingRight:{style:cn},paddingBottom:{style:cn},paddingLeft:{style:cn},paddingX:{style:cn},paddingY:{style:cn},paddingInline:{style:cn},paddingInlineStart:{style:cn},paddingInlineEnd:{style:cn},paddingBlock:{style:cn},paddingBlockStart:{style:cn},paddingBlockEnd:{style:cn},m:{style:un},mt:{style:un},mr:{style:un},mb:{style:un},ml:{style:un},mx:{style:un},my:{style:un},margin:{style:un},marginTop:{style:un},marginRight:{style:un},marginBottom:{style:un},marginLeft:{style:un},marginX:{style:un},marginY:{style:un},marginInline:{style:un},marginInlineStart:{style:un},marginInlineEnd:{style:un},marginBlock:{style:un},marginBlockStart:{style:un},marginBlockEnd:{style:un},displayPrint:{cssProperty:!1,transform:r=>({"@media print":{display:r}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:W_},rowGap:{style:Y_},columnGap:{style:X_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:La},maxWidth:{style:t1},minWidth:{transform:La},height:{transform:La},maxHeight:{transform:La},minHeight:{transform:La},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Gk(...r){const e=r.reduce((n,i)=>n.concat(Object.keys(i)),[]),t=new Set(e);return r.every(n=>t.size===Object.keys(n).length)}function Hk(r,e){return typeof r=="function"?r(e):r}function Vk(){function r(t,n,i,a){const l={[t]:n,theme:i},u=a[t];if(!u)return{[t]:n};const{cssProperty:f=t,themeKey:p,transform:g,style:v}=u;if(n==null)return null;if(p==="typography"&&n==="inherit")return{[t]:n};const b=G_(i,p)||{};return v?v(l):Fl(l,n,S=>{let E=i_(b,g,S);return S===E&&typeof S=="string"&&(E=i_(b,g,`${t}${S==="default"?"":qI(S)}`,S)),f===!1?E:{[f]:E}})}function e(t){const{sx:n,theme:i={},nested:a}=t||{};if(!n)return null;const l=i.unstable_sxConfig??Wm;function u(f){let p=f;if(typeof f=="function")p=f(i);else if(typeof f!="object")return f;if(!p)return null;const g=nk(i.breakpoints),v=Object.keys(g);let b=g;return Object.keys(p).forEach(x=>{const S=Hk(p[x],i);if(S!=null)if(typeof S=="object")if(l[x])b=Cm(b,r(x,S,i,l));else{const E=Fl({theme:i},S,A=>({[x]:A}));Gk(E,S)?b[x]=e({sx:S,theme:i,nested:!0}):b=Cm(b,E)}else b=Cm(b,r(x,S,i,l))}),!a&&i.modularCssLayers?{"@layer sx":WA(i,YA(v,b))}:WA(i,YA(v,b))}return Array.isArray(n)?n.map(u):u(n)}return e}const Xm=Vk();Xm.filterProps=["sx"];function jk(r,e){const t=this;if(t.vars){if(!t.colorSchemes?.[r]||typeof t.getColorSchemeSelector!="function")return{};let n=t.getColorSchemeSelector(r);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return t.palette.mode===r?e:{}}function ZI(r={},...e){const{breakpoints:t={},palette:n={},spacing:i,shape:a={},...l}=r,u=KU(t),f=KI(i);let p=Na({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:f,shape:{...tk,...a}},l);return p=ek(p),p.applyStyles=jk,p=e.reduce((g,v)=>Na(g,v),p),p.unstable_sxConfig={...Wm,...l?.unstable_sxConfig},p.unstable_sx=function(v){return Xm({sx:v,theme:this})},p}function $k(r){return Object.keys(r).length===0}function Wk(r=null){const e=Fa.useContext($I);return!e||$k(e)?r:e}const Xk=ZI();function Yk(r=Xk){return Wk(r)}const qk=r=>{const e={systemProps:{},otherProps:{}},t=r?.theme?.unstable_sxConfig??Wm;return Object.keys(r).forEach(n=>{t[n]?e.systemProps[n]=r[n]:e.otherProps[n]=r[n]}),e};function Qk(r){const{sx:e,...t}=r,{systemProps:n,otherProps:i}=qk(t);let a;return Array.isArray(e)?a=[n,...e]:typeof e=="function"?a=(...l)=>{const u=e(...l);return Al(u)?{...n,...u}:n}:a={...n,...e},{...i,sx:a}}const QA=r=>r,Kk=()=>{let r=QA;return{configure(e){r=e},generate(e){return r(e)},reset(){r=QA}}},JI=Kk();function eD(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=eD(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Zk(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=eD(r))&&(n&&(n+=" "),n+=e);return n}function Jk(r={}){const{themeId:e,defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:i}=r,a=WU("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(Xm);return Fa.forwardRef(function(f,p){const g=Yk(t),{className:v,component:b="div",...x}=Qk(f);return Tm.jsx(a,{as:b,ref:p,className:Zk(v,i?i(n):n),theme:e&&g[e]||g,...x})})}const e3={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tD(r,e,t="Mui"){const n=e3[e];return n?`${t}-${n}`:`${JI.generate(r)}-${e}`}function t3(r,e,t="Mui"){const n={};return e.forEach(i=>{n[i]=tD(r,i,t)}),n}function r3(r,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(r,t))}function r1(r,e=0,t=1){return process.env.NODE_ENV!=="production"&&(r<e||r>t)&&console.error(`MUI: The value provided ${r} is out of range [${e}, ${t}].`),r3(r,e,t)}function n3(r){r=r.slice(1);const e=new RegExp(`.{1,${r.length>=6?2:1}}`,"g");let t=r.match(e);return t&&t[0].length===1&&(t=t.map(n=>n+n)),process.env.NODE_ENV!=="production"&&r.length!==r.trim().length&&console.error(`MUI: The color: "${r}" is invalid. Make sure the color input doesn't contain leading/trailing space.`),t?`rgb${t.length===4?"a":""}(${t.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Hu(r){if(r.type)return r;if(r.charAt(0)==="#")return Hu(n3(r));const e=r.indexOf("("),t=r.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(process.env.NODE_ENV!=="production"?`MUI: Unsupported \`${r}\` color.
The following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().`:Gu(9,r));let n=r.substring(e+1,r.length-1),i;if(t==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(process.env.NODE_ENV!=="production"?`MUI: unsupported \`${i}\` color space.
The following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.`:Gu(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:t,values:n,colorSpace:i}}const i3=r=>{const e=Hu(r);return e.values.slice(0,3).map((t,n)=>e.type.includes("hsl")&&n!==0?`${t}%`:t).join(" ")},dm=(r,e)=>{try{return i3(r)}catch{return e&&process.env.NODE_ENV!=="production"&&console.warn(e),r}};function q_(r){const{type:e,colorSpace:t}=r;let{values:n}=r;return e.includes("rgb")?n=n.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function rD(r){r=Hu(r);const{values:e}=r,t=e[0],n=e[1]/100,i=e[2]/100,a=n*Math.min(i,1-i),l=(p,g=(p+t/30)%12)=>i-a*Math.max(Math.min(g-3,9-g,1),-1);let u="rgb";const f=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return r.type==="hsla"&&(u+="a",f.push(e[3])),q_({type:u,values:f})}function LE(r){r=Hu(r);let e=r.type==="hsl"||r.type==="hsla"?Hu(rD(r)).values:r.values;return e=e.map(t=>(r.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function KA(r,e){const t=LE(r),n=LE(e);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function a3(r,e){return r=Hu(r),e=r1(e),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.type==="color"?r.values[3]=`/${e}`:r.values[3]=e,q_(r)}function Jv(r,e,t){try{return a3(r,e)}catch{return r}}function n1(r,e){if(r=Hu(r),e=r1(e),r.type.includes("hsl"))r.values[2]*=1-e;else if(r.type.includes("rgb")||r.type.includes("color"))for(let t=0;t<3;t+=1)r.values[t]*=1-e;return q_(r)}function Mr(r,e,t){try{return n1(r,e)}catch{return r}}function i1(r,e){if(r=Hu(r),e=r1(e),r.type.includes("hsl"))r.values[2]+=(100-r.values[2])*e;else if(r.type.includes("rgb"))for(let t=0;t<3;t+=1)r.values[t]+=(255-r.values[t])*e;else if(r.type.includes("color"))for(let t=0;t<3;t+=1)r.values[t]+=(1-r.values[t])*e;return q_(r)}function Ir(r,e,t){try{return i1(r,e)}catch{return r}}function s3(r,e=.15){return LE(r)>.5?n1(r,e):i1(r,e)}function ey(r,e,t){try{return s3(r,e)}catch{return r}}function o3(r=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${r?`${r}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${r?`${r}-`:""}${n}${e(...i)})`}const ZA=(r,e,t,n=[])=>{let i=r;e.forEach((a,l)=>{l===e.length-1?Array.isArray(i)?i[Number(a)]=t:i&&typeof i=="object"&&(i[a]=t):i&&typeof i=="object"&&(i[a]||(i[a]=n.includes(a)?[]:{}),i=i[a])})},l3=(r,e,t)=>{function n(i,a=[],l=[]){Object.entries(i).forEach(([u,f])=>{(!t||t&&!t([...a,u]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?n(f,[...a,u],Array.isArray(f)?[...l,u]:l):e([...a,u],f,l))})}n(r)},u3=(r,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>r.includes(n))||r[r.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function kx(r,e){const{prefix:t,shouldSkipGeneratingVar:n}=e||{},i={},a={},l={};return l3(r,(u,f,p)=>{if((typeof f=="string"||typeof f=="number")&&(!n||!n(u,f))){const g=`--${t?`${t}-`:""}${u.join("-")}`,v=u3(u,f);Object.assign(i,{[g]:v}),ZA(a,u,`var(${g})`,p),ZA(l,u,`var(${g}, ${v})`,p)}},u=>u[0]==="vars"),{css:i,vars:a,varsWithDefaults:l}}function c3(r,e={}){const{getSelector:t=A,disableCssColorScheme:n,colorSchemeSelector:i}=e,{colorSchemes:a={},components:l,defaultColorScheme:u="light",...f}=r,{vars:p,css:g,varsWithDefaults:v}=kx(f,e);let b=v;const x={},{[u]:S,...E}=a;if(Object.entries(E||{}).forEach(([D,N])=>{const{vars:M,css:$,varsWithDefaults:U}=kx(N,e);b=Na(b,U),x[D]={css:$,vars:M}}),S){const{css:D,vars:N,varsWithDefaults:M}=kx(S,e);b=Na(b,M),x[u]={css:D,vars:N}}function A(D,N){let M=i;if(i==="class"&&(M=".%s"),i==="data"&&(M="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(M=`[${i}="%s"]`),D){if(M==="media")return r.defaultColorScheme===D?":root":{[`@media (prefers-color-scheme: ${a[D]?.palette?.mode||D})`]:{":root":N}};if(M)return r.defaultColorScheme===D?`:root, ${M.replace("%s",String(D))}`:M.replace("%s",String(D))}return":root"}return{vars:b,generateThemeVars:()=>{let D={...p};return Object.entries(x).forEach(([,{vars:N}])=>{D=Na(D,N)}),D},generateStyleSheets:()=>{const D=[],N=r.defaultColorScheme||"light";function M(V,re){Object.keys(re).length&&D.push(typeof V=="string"?{[V]:{...re}}:V)}M(t(void 0,{...g}),g);const{[N]:$,...U}=x;if($){const{css:V}=$,re=a[N]?.palette?.mode,O=!n&&re?{colorScheme:re,...V}:{...V};M(t(N,{...O}),O)}return Object.entries(U).forEach(([V,{css:re}])=>{const O=a[V]?.palette?.mode,Q=!n&&O?{colorScheme:O,...re}:{...re};M(t(V,{...Q}),Q)}),D}}}function h3(r){return function(t){return r==="media"?(process.env.NODE_ENV!=="production"&&t!=="light"&&t!=="dark"&&console.error(`MUI: @media (prefers-color-scheme) supports only 'light' or 'dark', but receive '${t}'.`),`@media (prefers-color-scheme: ${t})`):r?r.startsWith("data-")&&!r.includes("%s")?`[${r}="${t}"] &`:r==="class"?`.${t} &`:r==="data"?`[data-${t}] &`:`${r.replace("%s",t)} &`:"&"}}function nD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Dm.white,default:Dm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const d3=nD();function iD(){return{text:{primary:Dm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Dm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const JA=iD();function eR(r,e,t,n){const i=n.light||n,a=n.dark||n*1.5;r[e]||(r.hasOwnProperty(t)?r[e]=r[t]:e==="light"?r.light=i1(r.main,i):e==="dark"&&(r.dark=n1(r.main,a)))}function f3(r="light"){return r==="dark"?{main:Sd[200],light:Sd[50],dark:Sd[400]}:{main:Sd[700],light:Sd[400],dark:Sd[800]}}function p3(r="light"){return r==="dark"?{main:xd[200],light:xd[50],dark:xd[400]}:{main:xd[500],light:xd[300],dark:xd[700]}}function m3(r="light"){return r==="dark"?{main:bd[500],light:bd[300],dark:bd[700]}:{main:bd[700],light:bd[400],dark:bd[800]}}function g3(r="light"){return r==="dark"?{main:Ed[400],light:Ed[300],dark:Ed[700]}:{main:Ed[700],light:Ed[500],dark:Ed[900]}}function v3(r="light"){return r==="dark"?{main:Td[400],light:Td[300],dark:Td[700]}:{main:Td[800],light:Td[500],dark:Td[900]}}function y3(r="light"){return r==="dark"?{main:em[400],light:em[300],dark:em[700]}:{main:"#ed6c02",light:em[500],dark:em[900]}}function a1(r){const{mode:e="light",contrastThreshold:t=3,tonalOffset:n=.2,...i}=r,a=r.primary||f3(e),l=r.secondary||p3(e),u=r.error||m3(e),f=r.info||g3(e),p=r.success||v3(e),g=r.warning||y3(e);function v(E){const A=KA(E,JA.text.primary)>=t?JA.text.primary:d3.text.primary;if(process.env.NODE_ENV!=="production"){const P=KA(E,A);P<3&&console.error([`MUI: The contrast ratio of ${P}:1 for ${A} on ${E}`,"falls below the WCAG recommended absolute minimum contrast ratio of 3:1.","https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast"].join(`
`))}return A}const b=({color:E,name:A,mainShade:P=500,lightShade:L=300,darkShade:D=700})=>{if(E={...E},!E.main&&E[P]&&(E.main=E[P]),!E.hasOwnProperty("main"))throw new Error(process.env.NODE_ENV!=="production"?`MUI: The color${A?` (${A})`:""} provided to augmentColor(color) is invalid.
The color object needs to have a \`main\` property or a \`${P}\` property.`:Gu(11,A?` (${A})`:"",P));if(typeof E.main!="string")throw new Error(process.env.NODE_ENV!=="production"?`MUI: The color${A?` (${A})`:""} provided to augmentColor(color) is invalid.
\`color.main\` should be a string, but \`${JSON.stringify(E.main)}\` was provided instead.

Did you intend to use one of the following approaches?

import { green } from "@mui/material/colors";

const theme1 = createTheme({ palette: {
  primary: green,
} });

const theme2 = createTheme({ palette: {
  primary: { main: green[500] },
} });`:Gu(12,A?` (${A})`:"",JSON.stringify(E.main)));return eR(E,"light",L,n),eR(E,"dark",D,n),E.contrastText||(E.contrastText=v(E.main)),E};let x;return e==="light"?x=nD():e==="dark"&&(x=iD()),process.env.NODE_ENV!=="production"&&(x||console.error(`MUI: The palette mode \`${e}\` is not supported.`)),Na({common:{...Dm},mode:e,primary:b({color:a,name:"primary"}),secondary:b({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:u,name:"error"}),warning:b({color:g,name:"warning"}),info:b({color:f,name:"info"}),success:b({color:p,name:"success"}),grey:GN,contrastThreshold:t,getContrastText:v,augmentColor:b,tonalOffset:n,...x},i)}function _3(r){const e={};return Object.entries(r).forEach(n=>{const[i,a]=n;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function b3(r,e){return{toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}},...e}}function x3(r){return Math.round(r*1e5)/1e5}const tR={textTransform:"uppercase"},rR='"Roboto", "Helvetica", "Arial", sans-serif';function S3(r,e){const{fontFamily:t=rR,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:f=16,allVariants:p,pxToRem:g,...v}=typeof e=="function"?e(r):e;process.env.NODE_ENV!=="production"&&(typeof n!="number"&&console.error("MUI: `fontSize` is required to be a number."),typeof f!="number"&&console.error("MUI: `htmlFontSize` is required to be a number."));const b=n/14,x=g||(A=>`${A/f*b}rem`),S=(A,P,L,D,N)=>({fontFamily:t,fontWeight:A,fontSize:x(P),lineHeight:L,...t===rR?{letterSpacing:`${x3(D/P)}em`}:{},...N,...p}),E={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(a,48,1.167,0),h4:S(a,34,1.235,.25),h5:S(a,24,1.334,0),h6:S(l,20,1.6,.15),subtitle1:S(a,16,1.75,.15),subtitle2:S(l,14,1.57,.1),body1:S(a,16,1.5,.15),body2:S(a,14,1.43,.15),button:S(l,14,1.75,.4,tR),caption:S(a,12,1.66,.4),overline:S(a,12,2.66,1,tR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Na({htmlFontSize:f,pxToRem:x,fontFamily:t,fontSize:n,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:u,...E},v,{clone:!1})}const E3=.2,T3=.14,C3=.12;function $r(...r){return[`${r[0]}px ${r[1]}px ${r[2]}px ${r[3]}px rgba(0,0,0,${E3})`,`${r[4]}px ${r[5]}px ${r[6]}px ${r[7]}px rgba(0,0,0,${T3})`,`${r[8]}px ${r[9]}px ${r[10]}px ${r[11]}px rgba(0,0,0,${C3})`].join(",")}const w3=["none",$r(0,2,1,-1,0,1,1,0,0,1,3,0),$r(0,3,1,-2,0,2,2,0,0,1,5,0),$r(0,3,3,-2,0,3,4,0,0,1,8,0),$r(0,2,4,-1,0,4,5,0,0,1,10,0),$r(0,3,5,-1,0,5,8,0,0,1,14,0),$r(0,3,5,-1,0,6,10,0,0,1,18,0),$r(0,4,5,-2,0,7,10,1,0,2,16,1),$r(0,5,5,-3,0,8,10,1,0,3,14,2),$r(0,5,6,-3,0,9,12,1,0,3,16,2),$r(0,6,6,-3,0,10,14,1,0,4,18,3),$r(0,6,7,-4,0,11,15,1,0,4,20,3),$r(0,7,8,-4,0,12,17,2,0,5,22,4),$r(0,7,8,-4,0,13,19,2,0,5,24,4),$r(0,7,9,-4,0,14,21,2,0,5,26,4),$r(0,8,9,-5,0,15,22,2,0,6,28,5),$r(0,8,10,-5,0,16,24,2,0,6,30,5),$r(0,8,11,-5,0,17,26,2,0,6,32,5),$r(0,9,11,-5,0,18,28,2,0,7,34,6),$r(0,9,12,-6,0,19,29,2,0,7,36,6),$r(0,10,13,-6,0,20,31,3,0,8,38,7),$r(0,10,13,-6,0,21,33,3,0,8,40,7),$r(0,10,14,-6,0,22,35,3,0,8,42,7),$r(0,11,14,-7,0,23,36,3,0,9,44,8),$r(0,11,15,-7,0,24,38,3,0,9,46,8)],A3={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},R3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nR(r){return`${Math.round(r)}ms`}function P3(r){if(!r)return 0;const e=r/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function M3(r){const e={...A3,...r.easing},t={...R3,...r.duration};return{getAutoHeightDuration:P3,create:(i=["all"],a={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:f=0,...p}=a;if(process.env.NODE_ENV!=="production"){const g=b=>typeof b=="string",v=b=>!Number.isNaN(parseFloat(b));!g(i)&&!Array.isArray(i)&&console.error('MUI: Argument "props" must be a string or Array.'),!v(l)&&!g(l)&&console.error(`MUI: Argument "duration" must be a number or a string but found ${l}.`),g(u)||console.error('MUI: Argument "easing" must be a string.'),!v(f)&&!g(f)&&console.error('MUI: Argument "delay" must be a number or a string.'),typeof a!="object"&&console.error(["MUI: Secong argument of transition.create must be an object.","Arguments should be either `create('prop1', options)` or `create(['prop1', 'prop2'], options)`"].join(`
`)),Object.keys(p).length!==0&&console.error(`MUI: Unrecognized argument(s) [${Object.keys(p).join(",")}].`)}return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof l=="string"?l:nR(l)} ${u} ${typeof f=="string"?f:nR(f)}`).join(",")},...r,easing:e,duration:t}}const I3={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function D3(r){return Al(r)||typeof r>"u"||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||Array.isArray(r)}function aD(r={}){const e={...r};function t(n){const i=Object.entries(n);for(let a=0;a<i.length;a++){const[l,u]=i[a];!D3(u)||l.startsWith("unstable_")?delete n[l]:Al(u)&&(n[l]={...u},t(n[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function BE(r={},...e){const{breakpoints:t,mixins:n={},spacing:i,palette:a={},transitions:l={},typography:u={},shape:f,...p}=r;if(r.vars&&r.generateThemeVars===void 0)throw new Error(process.env.NODE_ENV!=="production"?"MUI: `vars` is a private field used for CSS variables support.\nPlease use another name or follow the [docs](https://mui.com/material-ui/customization/css-theme-variables/usage/) to enable the feature.":Gu(20));const g=a1(a),v=ZI(r);let b=Na(v,{mixins:b3(v.breakpoints,n),palette:g,shadows:w3.slice(),typography:S3(g,u),transitions:M3(l),zIndex:{...I3}});if(b=Na(b,p),b=e.reduce((x,S)=>Na(x,S),b),process.env.NODE_ENV!=="production"){const x=["active","checked","completed","disabled","error","expanded","focused","focusVisible","required","selected"],S=(E,A)=>{let P;for(P in E){const L=E[P];if(x.includes(P)&&Object.keys(L).length>0){if(process.env.NODE_ENV!=="production"){const D=tD("",P);console.error([`MUI: The \`${A}\` component increases the CSS specificity of the \`${P}\` internal state.`,"You can not override it like this: ",JSON.stringify(E,null,2),"",`Instead, you need to use the '&.${D}' syntax:`,JSON.stringify({root:{[`&.${D}`]:L}},null,2),"","https://mui.com/r/state-classes-guide"].join(`
`))}E[P]={}}}};Object.keys(b.components).forEach(E=>{const A=b.components[E].styleOverrides;A&&E.startsWith("Mui")&&S(A,E)})}return b.unstable_sxConfig={...Wm,...p?.unstable_sxConfig},b.unstable_sx=function(S){return Xm({sx:S,theme:this})},b.toRuntimeSource=aD,b}function O3(r){let e;return r<1?e=5.11916*r**2:e=4.5*Math.log(r+1)+2,Math.round(e*10)/1e3}const F3=[...Array(25)].map((r,e)=>{if(e===0)return"none";const t=O3(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function sD(r){return{inputPlaceholder:r==="dark"?.5:.42,inputUnderline:r==="dark"?.7:.42,switchTrackDisabled:r==="dark"?.2:.12,switchTrack:r==="dark"?.3:.38}}function oD(r){return r==="dark"?F3:[]}function L3(r){const{palette:e={mode:"light"},opacity:t,overlays:n,...i}=r,a=a1(e);return{palette:a,opacity:{...sD(a.mode),...t},overlays:n||oD(a.mode),...i}}function B3(r){return!!r[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!r[0].match(/sxConfig$/)||r[0]==="palette"&&!!r[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const N3=r=>[...[...Array(25)].map((e,t)=>`--${r?`${r}-`:""}overlays-${t}`),`--${r?`${r}-`:""}palette-AppBar-darkBg`,`--${r?`${r}-`:""}palette-AppBar-darkColor`],U3=r=>(e,t)=>{const n=r.rootSelector||":root",i=r.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),r.defaultColorScheme===e){if(e==="dark"){const l={};return N3(r.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),a==="media"?{[n]:t,"@media (prefers-color-scheme: dark)":{[n]:l}}:a?{[a.replace("%s",e)]:l,[`${n}, ${a.replace("%s",e)}`]:t}:{[n]:{...t,...l}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:t}};if(a)return a.replace("%s",String(e))}return n};function k3(r,e){e.forEach(t=>{r[t]||(r[t]={})})}function xe(r,e,t){!r[e]&&t&&(r[e]=t)}function fm(r){return typeof r!="string"||!r.startsWith("hsl")?r:rD(r)}function Sl(r,e){`${e}Channel`in r||(r[`${e}Channel`]=dm(fm(r[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function z3(r){return typeof r=="number"?`${r}px`:typeof r=="string"||typeof r=="function"||Array.isArray(r)?r:"8px"}const Mo=r=>{try{return r()}catch{}},G3=(r="mui")=>o3(r);function zx(r,e,t,n){if(!e)return;e=e===!0?{}:e;const i=n==="dark"?"dark":"light";if(!t){r[n]=L3({...e,palette:{mode:i,...e?.palette}});return}const{palette:a,...l}=BE({...t,palette:{mode:i,...e?.palette}});return r[n]={...e,palette:a,opacity:{...sD(i),...e?.opacity},overlays:e?.overlays||oD(i)},l}function H3(r={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:l=B3,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...p}=r,g=Object.keys(t)[0],v=n||(t.light&&g!=="light"?"light":g),b=G3(a),{[v]:x,light:S,dark:E,...A}=t,P={...A};let L=x;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(process.env.NODE_ENV!=="production"?`MUI: The \`colorSchemes.${v}\` option is either missing or invalid.`:Gu(21,v));const D=zx(P,L,p,v);S&&!P.light&&zx(P,S,void 0,"light"),E&&!P.dark&&zx(P,E,void 0,"dark");let N={defaultColorScheme:v,...D,cssVarPrefix:a,colorSchemeSelector:u,rootSelector:f,getCssVar:b,colorSchemes:P,font:{..._3(D.typography),...D.font},spacing:z3(p.spacing)};Object.keys(N.colorSchemes).forEach(re=>{const O=N.colorSchemes[re].palette,Q=q=>{const ae=q.split("-"),oe=ae[1],Ie=ae[2];return b(q,O[oe][Ie])};if(O.mode==="light"&&(xe(O.common,"background","#fff"),xe(O.common,"onBackground","#000")),O.mode==="dark"&&(xe(O.common,"background","#000"),xe(O.common,"onBackground","#fff")),k3(O,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),O.mode==="light"){xe(O.Alert,"errorColor",Mr(O.error.light,.6)),xe(O.Alert,"infoColor",Mr(O.info.light,.6)),xe(O.Alert,"successColor",Mr(O.success.light,.6)),xe(O.Alert,"warningColor",Mr(O.warning.light,.6)),xe(O.Alert,"errorFilledBg",Q("palette-error-main")),xe(O.Alert,"infoFilledBg",Q("palette-info-main")),xe(O.Alert,"successFilledBg",Q("palette-success-main")),xe(O.Alert,"warningFilledBg",Q("palette-warning-main")),xe(O.Alert,"errorFilledColor",Mo(()=>O.getContrastText(O.error.main))),xe(O.Alert,"infoFilledColor",Mo(()=>O.getContrastText(O.info.main))),xe(O.Alert,"successFilledColor",Mo(()=>O.getContrastText(O.success.main))),xe(O.Alert,"warningFilledColor",Mo(()=>O.getContrastText(O.warning.main))),xe(O.Alert,"errorStandardBg",Ir(O.error.light,.9)),xe(O.Alert,"infoStandardBg",Ir(O.info.light,.9)),xe(O.Alert,"successStandardBg",Ir(O.success.light,.9)),xe(O.Alert,"warningStandardBg",Ir(O.warning.light,.9)),xe(O.Alert,"errorIconColor",Q("palette-error-main")),xe(O.Alert,"infoIconColor",Q("palette-info-main")),xe(O.Alert,"successIconColor",Q("palette-success-main")),xe(O.Alert,"warningIconColor",Q("palette-warning-main")),xe(O.AppBar,"defaultBg",Q("palette-grey-100")),xe(O.Avatar,"defaultBg",Q("palette-grey-400")),xe(O.Button,"inheritContainedBg",Q("palette-grey-300")),xe(O.Button,"inheritContainedHoverBg",Q("palette-grey-A100")),xe(O.Chip,"defaultBorder",Q("palette-grey-400")),xe(O.Chip,"defaultAvatarColor",Q("palette-grey-700")),xe(O.Chip,"defaultIconColor",Q("palette-grey-700")),xe(O.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),xe(O.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),xe(O.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),xe(O.LinearProgress,"primaryBg",Ir(O.primary.main,.62)),xe(O.LinearProgress,"secondaryBg",Ir(O.secondary.main,.62)),xe(O.LinearProgress,"errorBg",Ir(O.error.main,.62)),xe(O.LinearProgress,"infoBg",Ir(O.info.main,.62)),xe(O.LinearProgress,"successBg",Ir(O.success.main,.62)),xe(O.LinearProgress,"warningBg",Ir(O.warning.main,.62)),xe(O.Skeleton,"bg",`rgba(${Q("palette-text-primaryChannel")} / 0.11)`),xe(O.Slider,"primaryTrack",Ir(O.primary.main,.62)),xe(O.Slider,"secondaryTrack",Ir(O.secondary.main,.62)),xe(O.Slider,"errorTrack",Ir(O.error.main,.62)),xe(O.Slider,"infoTrack",Ir(O.info.main,.62)),xe(O.Slider,"successTrack",Ir(O.success.main,.62)),xe(O.Slider,"warningTrack",Ir(O.warning.main,.62));const q=ey(O.background.default,.8);xe(O.SnackbarContent,"bg",q),xe(O.SnackbarContent,"color",Mo(()=>O.getContrastText(q))),xe(O.SpeedDialAction,"fabHoverBg",ey(O.background.paper,.15)),xe(O.StepConnector,"border",Q("palette-grey-400")),xe(O.StepContent,"border",Q("palette-grey-400")),xe(O.Switch,"defaultColor",Q("palette-common-white")),xe(O.Switch,"defaultDisabledColor",Q("palette-grey-100")),xe(O.Switch,"primaryDisabledColor",Ir(O.primary.main,.62)),xe(O.Switch,"secondaryDisabledColor",Ir(O.secondary.main,.62)),xe(O.Switch,"errorDisabledColor",Ir(O.error.main,.62)),xe(O.Switch,"infoDisabledColor",Ir(O.info.main,.62)),xe(O.Switch,"successDisabledColor",Ir(O.success.main,.62)),xe(O.Switch,"warningDisabledColor",Ir(O.warning.main,.62)),xe(O.TableCell,"border",Ir(Jv(O.divider,1),.88)),xe(O.Tooltip,"bg",Jv(O.grey[700],.92))}if(O.mode==="dark"){xe(O.Alert,"errorColor",Ir(O.error.light,.6)),xe(O.Alert,"infoColor",Ir(O.info.light,.6)),xe(O.Alert,"successColor",Ir(O.success.light,.6)),xe(O.Alert,"warningColor",Ir(O.warning.light,.6)),xe(O.Alert,"errorFilledBg",Q("palette-error-dark")),xe(O.Alert,"infoFilledBg",Q("palette-info-dark")),xe(O.Alert,"successFilledBg",Q("palette-success-dark")),xe(O.Alert,"warningFilledBg",Q("palette-warning-dark")),xe(O.Alert,"errorFilledColor",Mo(()=>O.getContrastText(O.error.dark))),xe(O.Alert,"infoFilledColor",Mo(()=>O.getContrastText(O.info.dark))),xe(O.Alert,"successFilledColor",Mo(()=>O.getContrastText(O.success.dark))),xe(O.Alert,"warningFilledColor",Mo(()=>O.getContrastText(O.warning.dark))),xe(O.Alert,"errorStandardBg",Mr(O.error.light,.9)),xe(O.Alert,"infoStandardBg",Mr(O.info.light,.9)),xe(O.Alert,"successStandardBg",Mr(O.success.light,.9)),xe(O.Alert,"warningStandardBg",Mr(O.warning.light,.9)),xe(O.Alert,"errorIconColor",Q("palette-error-main")),xe(O.Alert,"infoIconColor",Q("palette-info-main")),xe(O.Alert,"successIconColor",Q("palette-success-main")),xe(O.Alert,"warningIconColor",Q("palette-warning-main")),xe(O.AppBar,"defaultBg",Q("palette-grey-900")),xe(O.AppBar,"darkBg",Q("palette-background-paper")),xe(O.AppBar,"darkColor",Q("palette-text-primary")),xe(O.Avatar,"defaultBg",Q("palette-grey-600")),xe(O.Button,"inheritContainedBg",Q("palette-grey-800")),xe(O.Button,"inheritContainedHoverBg",Q("palette-grey-700")),xe(O.Chip,"defaultBorder",Q("palette-grey-700")),xe(O.Chip,"defaultAvatarColor",Q("palette-grey-300")),xe(O.Chip,"defaultIconColor",Q("palette-grey-300")),xe(O.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),xe(O.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),xe(O.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),xe(O.LinearProgress,"primaryBg",Mr(O.primary.main,.5)),xe(O.LinearProgress,"secondaryBg",Mr(O.secondary.main,.5)),xe(O.LinearProgress,"errorBg",Mr(O.error.main,.5)),xe(O.LinearProgress,"infoBg",Mr(O.info.main,.5)),xe(O.LinearProgress,"successBg",Mr(O.success.main,.5)),xe(O.LinearProgress,"warningBg",Mr(O.warning.main,.5)),xe(O.Skeleton,"bg",`rgba(${Q("palette-text-primaryChannel")} / 0.13)`),xe(O.Slider,"primaryTrack",Mr(O.primary.main,.5)),xe(O.Slider,"secondaryTrack",Mr(O.secondary.main,.5)),xe(O.Slider,"errorTrack",Mr(O.error.main,.5)),xe(O.Slider,"infoTrack",Mr(O.info.main,.5)),xe(O.Slider,"successTrack",Mr(O.success.main,.5)),xe(O.Slider,"warningTrack",Mr(O.warning.main,.5));const q=ey(O.background.default,.98);xe(O.SnackbarContent,"bg",q),xe(O.SnackbarContent,"color",Mo(()=>O.getContrastText(q))),xe(O.SpeedDialAction,"fabHoverBg",ey(O.background.paper,.15)),xe(O.StepConnector,"border",Q("palette-grey-600")),xe(O.StepContent,"border",Q("palette-grey-600")),xe(O.Switch,"defaultColor",Q("palette-grey-300")),xe(O.Switch,"defaultDisabledColor",Q("palette-grey-600")),xe(O.Switch,"primaryDisabledColor",Mr(O.primary.main,.55)),xe(O.Switch,"secondaryDisabledColor",Mr(O.secondary.main,.55)),xe(O.Switch,"errorDisabledColor",Mr(O.error.main,.55)),xe(O.Switch,"infoDisabledColor",Mr(O.info.main,.55)),xe(O.Switch,"successDisabledColor",Mr(O.success.main,.55)),xe(O.Switch,"warningDisabledColor",Mr(O.warning.main,.55)),xe(O.TableCell,"border",Mr(Jv(O.divider,1),.68)),xe(O.Tooltip,"bg",Jv(O.grey[700],.92))}Sl(O.background,"default"),Sl(O.background,"paper"),Sl(O.common,"background"),Sl(O.common,"onBackground"),Sl(O,"divider"),Object.keys(O).forEach(q=>{const ae=O[q];q!=="tonalOffset"&&ae&&typeof ae=="object"&&(ae.main&&xe(O[q],"mainChannel",dm(fm(ae.main))),ae.light&&xe(O[q],"lightChannel",dm(fm(ae.light))),ae.dark&&xe(O[q],"darkChannel",dm(fm(ae.dark))),ae.contrastText&&xe(O[q],"contrastTextChannel",dm(fm(ae.contrastText))),q==="text"&&(Sl(O[q],"primary"),Sl(O[q],"secondary")),q==="action"&&(ae.active&&Sl(O[q],"active"),ae.selected&&Sl(O[q],"selected")))})}),N=e.reduce((re,O)=>Na(re,O),N);const M={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:U3(N)},{vars:$,generateThemeVars:U,generateStyleSheets:V}=c3(N,M);return N.vars=$,Object.entries(N.colorSchemes[N.defaultColorScheme]).forEach(([re,O])=>{N[re]=O}),N.generateThemeVars=U,N.generateStyleSheets=V,N.generateSpacing=function(){return KI(p.spacing,e1(this))},N.getColorSchemeSelector=h3(u),N.spacing=N.generateSpacing(),N.shouldSkipGeneratingVar=l,N.unstable_sxConfig={...Wm,...p?.unstable_sxConfig},N.unstable_sx=function(O){return Xm({sx:O,theme:this})},N.toRuntimeSource=aD,N}function iR(r,e,t){r.colorSchemes&&t&&(r.colorSchemes[e]={...t!==!0&&t,palette:a1({...t===!0?{}:t.palette,mode:e})})}function V3(r={},...e){const{palette:t,cssVariables:n=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:a=t?.mode,...l}=r,u=a||"light",f=i?.[u],p={...i,...t?{[u]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(n===!1){if(!("colorSchemes"in r))return BE(r,...e);let g=t;"palette"in r||p[u]&&(p[u]!==!0?g=p[u].palette:u==="dark"&&(g={mode:"dark"}));const v=BE({...r,palette:g},...e);return v.defaultColorScheme=u,v.colorSchemes=p,v.palette.mode==="light"&&(v.colorSchemes.light={...p.light!==!0&&p.light,palette:v.palette},iR(v,"dark",p.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:v.palette},iR(v,"light",p.light)),v}return!t&&!("light"in p)&&u==="light"&&(p.light=!0),H3({...l,colorSchemes:p,defaultColorScheme:u,...typeof n!="boolean"&&n},...e)}const j3=t3("MuiBox",["root"]),$3=V3(),lD=Jk({themeId:HN,defaultTheme:$3,defaultClassName:j3.root,generateClassName:JI.generate});process.env.NODE_ENV!=="production"&&(lD.propTypes={children:st.node,component:st.elementType,sx:st.oneOfType([st.arrayOf(st.oneOfType([st.func,st.object,st.bool])),st.func,st.object])});var ty={exports:{}},oh=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(oh||{}),uD=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(uD||{}),NE=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(NE||{}),wt=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(wt||{}),us=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(us||{}),Ge=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(Ge||{}),Wd=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(Wd||{}),mt=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(mt||{}),et=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(et||{}),Pl=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(Pl||{}),Dl=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(Dl||{}),qo=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(qo||{}),ma=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))(ma||{}),Vo=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(Vo||{}),s1=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(s1||{}),cs=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(cs||{}),Zn=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(Zn||{}),Nn=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(Nn||{}),Xo=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))(Xo||{});const W3={createCanvas:(r,e)=>{const t=document.createElement("canvas");return t.width=r,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},tt={ADAPTER:W3,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Gx=/iPhone/i,aR=/iPod/i,sR=/iPad/i,oR=/\biOS-universal(?:.+)Mac\b/i,Hx=/\bAndroid(?:.+)Mobile\b/i,lR=/Android/i,Cd=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ry=/Silk/i,El=/Windows Phone/i,uR=/\bWindows(?:.+)ARM\b/i,cR=/BlackBerry/i,hR=/BB10/i,dR=/Opera Mini/i,fR=/\b(CriOS|Chrome)(?:.+)Mobile/i,pR=/Mobile(?:.+)Firefox\b/i,mR=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function X3(r){return function(e){return e.test(r)}}function gR(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,n=t.split("[FBAN");typeof n[1]<"u"&&(t=n[0]),n=t.split("Twitter"),typeof n[1]<"u"&&(t=n[0]);var i=X3(t),a={apple:{phone:i(Gx)&&!i(El),ipod:i(aR),tablet:!i(Gx)&&(i(sR)||mR(e))&&!i(El),universal:i(oR),device:(i(Gx)||i(aR)||i(sR)||i(oR)||mR(e))&&!i(El)},amazon:{phone:i(Cd),tablet:!i(Cd)&&i(ry),device:i(Cd)||i(ry)},android:{phone:!i(El)&&i(Cd)||!i(El)&&i(Hx),tablet:!i(El)&&!i(Cd)&&!i(Hx)&&(i(ry)||i(lR)),device:!i(El)&&(i(Cd)||i(ry)||i(Hx)||i(lR))||i(/\bokhttp\b/i)},windows:{phone:i(El),tablet:i(uR),device:i(El)||i(uR)},other:{blackberry:i(cR),blackberry10:i(hR),opera:i(dR),firefox:i(pR),chrome:i(fR),device:i(cR)||i(hR)||i(dR)||i(pR)||i(fR)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const Y3=gR.default??gR,Ml=Y3(globalThis.navigator);tt.RETINA_PREFIX=/@([0-9\.]+)x/;tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Vx={exports:{}},vR;function q3(){return vR||(vR=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(f,p,g){this.fn=f,this.context=p,this.once=g||!1}function a(f,p,g,v,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var x=new i(g,v||f,b),S=t?t+p:p;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],x]:f._events[S].push(x):(f._events[S]=x,f._eventsCount++),f}function l(f,p){--f._eventsCount===0?f._events=new n:delete f._events[p]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],g,v;if(this._eventsCount===0)return p;for(v in g=this._events)e.call(g,v)&&p.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},u.prototype.listeners=function(p){var g=t?t+p:p,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,x=v.length,S=new Array(x);b<x;b++)S[b]=v[b].fn;return S},u.prototype.listenerCount=function(p){var g=t?t+p:p,v=this._events[g];return v?v.fn?1:v.length:0},u.prototype.emit=function(p,g,v,b,x,S){var E=t?t+p:p;if(!this._events[E])return!1;var A=this._events[E],P=arguments.length,L,D;if(A.fn){switch(A.once&&this.removeListener(p,A.fn,void 0,!0),P){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,v),!0;case 4:return A.fn.call(A.context,g,v,b),!0;case 5:return A.fn.call(A.context,g,v,b,x),!0;case 6:return A.fn.call(A.context,g,v,b,x,S),!0}for(D=1,L=new Array(P-1);D<P;D++)L[D-1]=arguments[D];A.fn.apply(A.context,L)}else{var N=A.length,M;for(D=0;D<N;D++)switch(A[D].once&&this.removeListener(p,A[D].fn,void 0,!0),P){case 1:A[D].fn.call(A[D].context);break;case 2:A[D].fn.call(A[D].context,g);break;case 3:A[D].fn.call(A[D].context,g,v);break;case 4:A[D].fn.call(A[D].context,g,v,b);break;default:if(!L)for(M=1,L=new Array(P-1);M<P;M++)L[M-1]=arguments[M];A[D].fn.apply(A[D].context,L)}}return!0},u.prototype.on=function(p,g,v){return a(this,p,g,v,!1)},u.prototype.once=function(p,g,v){return a(this,p,g,v,!0)},u.prototype.removeListener=function(p,g,v,b){var x=t?t+p:p;if(!this._events[x])return this;if(!g)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===g&&(!b||S.once)&&(!v||S.context===v)&&l(this,x);else{for(var E=0,A=[],P=S.length;E<P;E++)(S[E].fn!==g||b&&!S[E].once||v&&S[E].context!==v)&&A.push(S[E]);A.length?this._events[x]=A.length===1?A[0]:A:l(this,x)}return this},u.prototype.removeAllListeners=function(p){var g;return p?(g=t?t+p:p,this._events[g]&&l(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u}(Vx)),Vx.exports}var Q3=q3();const kl=YT(Q3);var ny={exports:{}},yR;function K3(){if(yR)return ny.exports;yR=1,ny.exports=r,ny.exports.default=r;function r(G,W,k){k=k||2;var J=W&&W.length,F=J?W[0]*k:G.length,H=e(G,0,F,k,!0),Y=[];if(!H||H.next===H.prev)return Y;var K,se,me,de,_e,we,Pe;if(J&&(H=f(G,W,H,k)),G.length>80*k){K=me=G[0],se=de=G[1];for(var ve=k;ve<F;ve+=k)_e=G[ve],we=G[ve+1],_e<K&&(K=_e),we<se&&(se=we),_e>me&&(me=_e),we>de&&(de=we);Pe=Math.max(me-K,de-se),Pe=Pe!==0?32767/Pe:0}return n(H,Y,k,K,se,Pe,0),Y}function e(G,W,k,J,F){var H,Y;if(F===Ie(G,W,k,J)>0)for(H=W;H<k;H+=J)Y=q(H,G[H],G[H+1],Y);else for(H=k-J;H>=W;H-=J)Y=q(H,G[H],G[H+1],Y);return Y&&N(Y,Y.next)&&(ae(Y),Y=Y.next),Y}function t(G,W){if(!G)return G;W||(W=G);var k=G,J;do if(J=!1,!k.steiner&&(N(k,k.next)||D(k.prev,k,k.next)===0)){if(ae(k),k=W=k.prev,k===k.next)break;J=!0}else k=k.next;while(J||k!==W);return W}function n(G,W,k,J,F,H,Y){if(G){!Y&&H&&x(G,J,F,H);for(var K=G,se,me;G.prev!==G.next;){if(se=G.prev,me=G.next,H?a(G,J,F,H):i(G)){W.push(se.i/k|0),W.push(G.i/k|0),W.push(me.i/k|0),ae(G),G=me.next,K=me.next;continue}if(G=me,G===K){Y?Y===1?(G=l(t(G),W,k),n(G,W,k,J,F,H,2)):Y===2&&u(G,W,k,J,F,H):n(t(G),W,k,J,F,H,1);break}}}}function i(G){var W=G.prev,k=G,J=G.next;if(D(W,k,J)>=0)return!1;for(var F=W.x,H=k.x,Y=J.x,K=W.y,se=k.y,me=J.y,de=F<H?F<Y?F:Y:H<Y?H:Y,_e=K<se?K<me?K:me:se<me?se:me,we=F>H?F>Y?F:Y:H>Y?H:Y,Pe=K>se?K>me?K:me:se>me?se:me,ve=J.next;ve!==W;){if(ve.x>=de&&ve.x<=we&&ve.y>=_e&&ve.y<=Pe&&P(F,K,H,se,Y,me,ve.x,ve.y)&&D(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function a(G,W,k,J){var F=G.prev,H=G,Y=G.next;if(D(F,H,Y)>=0)return!1;for(var K=F.x,se=H.x,me=Y.x,de=F.y,_e=H.y,we=Y.y,Pe=K<se?K<me?K:me:se<me?se:me,ve=de<_e?de<we?de:we:_e<we?_e:we,Ae=K>se?K>me?K:me:se>me?se:me,fe=de>_e?de>we?de:we:_e>we?_e:we,ke=E(Pe,ve,W,k,J),ut=E(Ae,fe,W,k,J),He=G.prevZ,qe=G.nextZ;He&&He.z>=ke&&qe&&qe.z<=ut;){if(He.x>=Pe&&He.x<=Ae&&He.y>=ve&&He.y<=fe&&He!==F&&He!==Y&&P(K,de,se,_e,me,we,He.x,He.y)&&D(He.prev,He,He.next)>=0||(He=He.prevZ,qe.x>=Pe&&qe.x<=Ae&&qe.y>=ve&&qe.y<=fe&&qe!==F&&qe!==Y&&P(K,de,se,_e,me,we,qe.x,qe.y)&&D(qe.prev,qe,qe.next)>=0))return!1;qe=qe.nextZ}for(;He&&He.z>=ke;){if(He.x>=Pe&&He.x<=Ae&&He.y>=ve&&He.y<=fe&&He!==F&&He!==Y&&P(K,de,se,_e,me,we,He.x,He.y)&&D(He.prev,He,He.next)>=0)return!1;He=He.prevZ}for(;qe&&qe.z<=ut;){if(qe.x>=Pe&&qe.x<=Ae&&qe.y>=ve&&qe.y<=fe&&qe!==F&&qe!==Y&&P(K,de,se,_e,me,we,qe.x,qe.y)&&D(qe.prev,qe,qe.next)>=0)return!1;qe=qe.nextZ}return!0}function l(G,W,k){var J=G;do{var F=J.prev,H=J.next.next;!N(F,H)&&M(F,J,J.next,H)&&re(F,H)&&re(H,F)&&(W.push(F.i/k|0),W.push(J.i/k|0),W.push(H.i/k|0),ae(J),ae(J.next),J=G=H),J=J.next}while(J!==G);return t(J)}function u(G,W,k,J,F,H){var Y=G;do{for(var K=Y.next.next;K!==Y.prev;){if(Y.i!==K.i&&L(Y,K)){var se=Q(Y,K);Y=t(Y,Y.next),se=t(se,se.next),n(Y,W,k,J,F,H,0),n(se,W,k,J,F,H,0);return}K=K.next}Y=Y.next}while(Y!==G)}function f(G,W,k,J){var F=[],H,Y,K,se,me;for(H=0,Y=W.length;H<Y;H++)K=W[H]*J,se=H<Y-1?W[H+1]*J:G.length,me=e(G,K,se,J,!1),me===me.next&&(me.steiner=!0),F.push(A(me));for(F.sort(p),H=0;H<F.length;H++)k=g(F[H],k);return k}function p(G,W){return G.x-W.x}function g(G,W){var k=v(G,W);if(!k)return W;var J=Q(k,G);return t(J,J.next),t(k,k.next)}function v(G,W){var k=W,J=G.x,F=G.y,H=-1/0,Y;do{if(F<=k.y&&F>=k.next.y&&k.next.y!==k.y){var K=k.x+(F-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(K<=J&&K>H&&(H=K,Y=k.x<k.next.x?k:k.next,K===J))return Y}k=k.next}while(k!==W);if(!Y)return null;var se=Y,me=Y.x,de=Y.y,_e=1/0,we;k=Y;do J>=k.x&&k.x>=me&&J!==k.x&&P(F<de?J:H,F,me,de,F<de?H:J,F,k.x,k.y)&&(we=Math.abs(F-k.y)/(J-k.x),re(k,G)&&(we<_e||we===_e&&(k.x>Y.x||k.x===Y.x&&b(Y,k)))&&(Y=k,_e=we)),k=k.next;while(k!==se);return Y}function b(G,W){return D(G.prev,G,W.prev)<0&&D(W.next,G,G.next)<0}function x(G,W,k,J){var F=G;do F.z===0&&(F.z=E(F.x,F.y,W,k,J)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==G);F.prevZ.nextZ=null,F.prevZ=null,S(F)}function S(G){var W,k,J,F,H,Y,K,se,me=1;do{for(k=G,G=null,H=null,Y=0;k;){for(Y++,J=k,K=0,W=0;W<me&&(K++,J=J.nextZ,!!J);W++);for(se=me;K>0||se>0&&J;)K!==0&&(se===0||!J||k.z<=J.z)?(F=k,k=k.nextZ,K--):(F=J,J=J.nextZ,se--),H?H.nextZ=F:G=F,F.prevZ=H,H=F;k=J}H.nextZ=null,me*=2}while(Y>1);return G}function E(G,W,k,J,F){return G=(G-k)*F|0,W=(W-J)*F|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,W=(W|W<<8)&16711935,W=(W|W<<4)&252645135,W=(W|W<<2)&858993459,W=(W|W<<1)&1431655765,G|W<<1}function A(G){var W=G,k=G;do(W.x<k.x||W.x===k.x&&W.y<k.y)&&(k=W),W=W.next;while(W!==G);return k}function P(G,W,k,J,F,H,Y,K){return(F-Y)*(W-K)>=(G-Y)*(H-K)&&(G-Y)*(J-K)>=(k-Y)*(W-K)&&(k-Y)*(H-K)>=(F-Y)*(J-K)}function L(G,W){return G.next.i!==W.i&&G.prev.i!==W.i&&!V(G,W)&&(re(G,W)&&re(W,G)&&O(G,W)&&(D(G.prev,G,W.prev)||D(G,W.prev,W))||N(G,W)&&D(G.prev,G,G.next)>0&&D(W.prev,W,W.next)>0)}function D(G,W,k){return(W.y-G.y)*(k.x-W.x)-(W.x-G.x)*(k.y-W.y)}function N(G,W){return G.x===W.x&&G.y===W.y}function M(G,W,k,J){var F=U(D(G,W,k)),H=U(D(G,W,J)),Y=U(D(k,J,G)),K=U(D(k,J,W));return!!(F!==H&&Y!==K||F===0&&$(G,k,W)||H===0&&$(G,J,W)||Y===0&&$(k,G,J)||K===0&&$(k,W,J))}function $(G,W,k){return W.x<=Math.max(G.x,k.x)&&W.x>=Math.min(G.x,k.x)&&W.y<=Math.max(G.y,k.y)&&W.y>=Math.min(G.y,k.y)}function U(G){return G>0?1:G<0?-1:0}function V(G,W){var k=G;do{if(k.i!==G.i&&k.next.i!==G.i&&k.i!==W.i&&k.next.i!==W.i&&M(k,k.next,G,W))return!0;k=k.next}while(k!==G);return!1}function re(G,W){return D(G.prev,G,G.next)<0?D(G,W,G.next)>=0&&D(G,G.prev,W)>=0:D(G,W,G.prev)<0||D(G,G.next,W)<0}function O(G,W){var k=G,J=!1,F=(G.x+W.x)/2,H=(G.y+W.y)/2;do k.y>H!=k.next.y>H&&k.next.y!==k.y&&F<(k.next.x-k.x)*(H-k.y)/(k.next.y-k.y)+k.x&&(J=!J),k=k.next;while(k!==G);return J}function Q(G,W){var k=new oe(G.i,G.x,G.y),J=new oe(W.i,W.x,W.y),F=G.next,H=W.prev;return G.next=W,W.prev=G,k.next=F,F.prev=k,J.next=k,k.prev=J,H.next=J,J.prev=H,J}function q(G,W,k,J){var F=new oe(G,W,k);return J?(F.next=J.next,F.prev=J,J.next.prev=F,J.next=F):(F.prev=F,F.next=F),F}function ae(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function oe(G,W,k){this.i=G,this.x=W,this.y=k,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r.deviation=function(G,W,k,J){var F=W&&W.length,H=F?W[0]*k:G.length,Y=Math.abs(Ie(G,0,H,k));if(F)for(var K=0,se=W.length;K<se;K++){var me=W[K]*k,de=K<se-1?W[K+1]*k:G.length;Y-=Math.abs(Ie(G,me,de,k))}var _e=0;for(K=0;K<J.length;K+=3){var we=J[K]*k,Pe=J[K+1]*k,ve=J[K+2]*k;_e+=Math.abs((G[we]-G[ve])*(G[Pe+1]-G[we+1])-(G[we]-G[Pe])*(G[ve+1]-G[we+1]))}return Y===0&&_e===0?0:Math.abs((_e-Y)/Y)};function Ie(G,W,k,J){for(var F=0,H=W,Y=k-J;H<k;H+=J)F+=(G[Y]-G[H])*(G[H+1]+G[Y+1]),Y=H;return F}return r.flatten=function(G){for(var W=G[0][0].length,k={vertices:[],holes:[],dimensions:W},J=0,F=0;F<G.length;F++){for(var H=0;H<G[F].length;H++)for(var Y=0;Y<W;Y++)k.vertices.push(G[F][H][Y]);F>0&&(J+=G[F-1].length,k.holes.push(J))}return k},ny.exports}var Z3=K3();const J3=YT(Z3);var Uc={},pm={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var e4=pm.exports,_R;function t4(){return _R||(_R=1,function(r,e){(function(t){var n=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,a=typeof r_=="object"&&r_;(a.global===a||a.window===a||a.self===a)&&(t=a);var l,u=2147483647,f=36,p=1,g=26,v=38,b=700,x=72,S=128,E="-",A=/^xn--/,P=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=f-p,M=Math.floor,$=String.fromCharCode,U;function V(F){throw new RangeError(D[F])}function re(F,H){for(var Y=F.length,K=[];Y--;)K[Y]=H(F[Y]);return K}function O(F,H){var Y=F.split("@"),K="";Y.length>1&&(K=Y[0]+"@",F=Y[1]),F=F.replace(L,".");var se=F.split("."),me=re(se,H).join(".");return K+me}function Q(F){for(var H=[],Y=0,K=F.length,se,me;Y<K;)se=F.charCodeAt(Y++),se>=55296&&se<=56319&&Y<K?(me=F.charCodeAt(Y++),(me&64512)==56320?H.push(((se&1023)<<10)+(me&1023)+65536):(H.push(se),Y--)):H.push(se);return H}function q(F){return re(F,function(H){var Y="";return H>65535&&(H-=65536,Y+=$(H>>>10&1023|55296),H=56320|H&1023),Y+=$(H),Y}).join("")}function ae(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:f}function oe(F,H){return F+22+75*(F<26)-((H!=0)<<5)}function Ie(F,H,Y){var K=0;for(F=Y?M(F/b):F>>1,F+=M(F/H);F>N*g>>1;K+=f)F=M(F/N);return M(K+(N+1)*F/(F+v))}function G(F){var H=[],Y=F.length,K,se=0,me=S,de=x,_e,we,Pe,ve,Ae,fe,ke,ut,He;for(_e=F.lastIndexOf(E),_e<0&&(_e=0),we=0;we<_e;++we)F.charCodeAt(we)>=128&&V("not-basic"),H.push(F.charCodeAt(we));for(Pe=_e>0?_e+1:0;Pe<Y;){for(ve=se,Ae=1,fe=f;Pe>=Y&&V("invalid-input"),ke=ae(F.charCodeAt(Pe++)),(ke>=f||ke>M((u-se)/Ae))&&V("overflow"),se+=ke*Ae,ut=fe<=de?p:fe>=de+g?g:fe-de,!(ke<ut);fe+=f)He=f-ut,Ae>M(u/He)&&V("overflow"),Ae*=He;K=H.length+1,de=Ie(se-ve,K,ve==0),M(se/K)>u-me&&V("overflow"),me+=M(se/K),se%=K,H.splice(se++,0,me)}return q(H)}function W(F){var H,Y,K,se,me,de,_e,we,Pe,ve,Ae,fe=[],ke,ut,He,qe;for(F=Q(F),ke=F.length,H=S,Y=0,me=x,de=0;de<ke;++de)Ae=F[de],Ae<128&&fe.push($(Ae));for(K=se=fe.length,se&&fe.push(E);K<ke;){for(_e=u,de=0;de<ke;++de)Ae=F[de],Ae>=H&&Ae<_e&&(_e=Ae);for(ut=K+1,_e-H>M((u-Y)/ut)&&V("overflow"),Y+=(_e-H)*ut,H=_e,de=0;de<ke;++de)if(Ae=F[de],Ae<H&&++Y>u&&V("overflow"),Ae==H){for(we=Y,Pe=f;ve=Pe<=me?p:Pe>=me+g?g:Pe-me,!(we<ve);Pe+=f)qe=we-ve,He=f-ve,fe.push($(oe(ve+qe%He,0))),we=M(qe/He);fe.push($(oe(we,0))),me=Ie(Y,ut,K==se),Y=0,++K}++Y,++H}return fe.join("")}function k(F){return O(F,function(H){return A.test(H)?G(H.slice(4).toLowerCase()):H})}function J(F){return O(F,function(H){return P.test(H)?"xn--"+W(H):H})}if(l={version:"1.4.1",ucs2:{decode:Q,encode:q},decode:G,encode:W,toASCII:J,toUnicode:k},n&&i)if(r.exports==n)i.exports=l;else for(U in l)l.hasOwnProperty(U)&&(n[U]=l[U]);else t.punycode=l})(e4)}(pm,pm.exports)),pm.exports}var jx,bR;function hf(){return bR||(bR=1,jx=TypeError),jx}const r4={},n4=Object.freeze(Object.defineProperty({__proto__:null,default:r4},Symbol.toStringTag,{value:"Module"})),i4=qT(n4);var $x,xR;function Q_(){if(xR)return $x;xR=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=i&&a&&typeof a.get=="function"?a.get:null,u=i&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,p=f?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,v=g?WeakSet.prototype.has:null,b=typeof WeakRef=="function"&&WeakRef.prototype,x=b?WeakRef.prototype.deref:null,S=Boolean.prototype.valueOf,E=Object.prototype.toString,A=Function.prototype.toString,P=String.prototype.match,L=String.prototype.slice,D=String.prototype.replace,N=String.prototype.toUpperCase,M=String.prototype.toLowerCase,$=RegExp.prototype.test,U=Array.prototype.concat,V=Array.prototype.join,re=Array.prototype.slice,O=Math.floor,Q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,q=Object.getOwnPropertySymbols,ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,oe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ie=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===oe||!0)?Symbol.toStringTag:null,G=Object.prototype.propertyIsEnumerable,W=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ne){return ne.__proto__}:null);function k(ne,te){if(ne===1/0||ne===-1/0||ne!==ne||ne&&ne>-1e3&&ne<1e3||$.call(/e/,te))return te;var Rt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ne=="number"){var xt=ne<0?-O(-ne):O(ne);if(xt!==ne){var rt=String(xt),vt=L.call(te,rt.length+1);return D.call(rt,Rt,"$&_")+"."+D.call(D.call(vt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(te,Rt,"$&_")}var J=i4,F=J.custom,H=ut(F)?F:null,Y={__proto__:null,double:'"',single:"'"},K={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};$x=function ne(te,Rt,xt,rt){var vt=Rt||{};if(Kt(vt,"quoteStyle")&&!Kt(Y,vt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Kt(vt,"maxStringLength")&&(typeof vt.maxStringLength=="number"?vt.maxStringLength<0&&vt.maxStringLength!==1/0:vt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var An=Kt(vt,"customInspect")?vt.customInspect:!0;if(typeof An!="boolean"&&An!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Kt(vt,"indent")&&vt.indent!==null&&vt.indent!=="	"&&!(parseInt(vt.indent,10)===vt.indent&&vt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Kt(vt,"numericSeparator")&&typeof vt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var zi=vt.numericSeparator;if(typeof te>"u")return"undefined";if(te===null)return"null";if(typeof te=="boolean")return te?"true":"false";if(typeof te=="string")return vs(te,vt);if(typeof te=="number"){if(te===0)return 1/0/te>0?"0":"-0";var St=String(te);return zi?k(te,St):St}if(typeof te=="bigint"){var Vr=String(te)+"n";return zi?k(te,Vr):Vr}var Gi=typeof vt.depth>"u"?5:vt.depth;if(typeof xt>"u"&&(xt=0),xt>=Gi&&Gi>0&&typeof te=="object")return _e(te)?"[Array]":"[Object]";var Rn=Ct(vt,xt);if(typeof rt>"u")rt=[];else if(Or(rt,te)>=0)return"[Circular]";function Lr(hr,Vt,Nr){if(Vt&&(rt=re.call(rt),rt.push(Vt)),Nr){var Zr={depth:vt.depth};return Kt(vt,"quoteStyle")&&(Zr.quoteStyle=vt.quoteStyle),ne(hr,Zr,xt+1,rt)}return ne(hr,vt,xt+1,rt)}if(typeof te=="function"&&!Pe(te)){var ui=wn(te),na=Fr(te,Lr);return"[Function"+(ui?": "+ui:" (anonymous)")+"]"+(na.length>0?" { "+V.call(na,", ")+" }":"")}if(ut(te)){var ys=oe?D.call(String(te),/^(Symbol\(.*\))_[^)]*$/,"$1"):ae.call(te);return typeof te=="object"&&!oe?We(ys):ys}if(gs(te)){for(var Ha="<"+M.call(String(te.nodeName)),_a=te.attributes||[],Br=0;Br<_a.length;Br++)Ha+=" "+_a[Br].name+"="+se(me(_a[Br].value),"double",vt);return Ha+=">",te.childNodes&&te.childNodes.length&&(Ha+="..."),Ha+="</"+M.call(String(te.nodeName))+">",Ha}if(_e(te)){if(te.length===0)return"[]";var _s=Fr(te,Lr);return Rn&&!or(_s)?"["+pn(_s,Rn)+"]":"[ "+V.call(_s,", ")+" ]"}if(ve(te)){var no=Fr(te,Lr);return!("cause"in Error.prototype)&&"cause"in te&&!G.call(te,"cause")?"{ ["+String(te)+"] "+V.call(U.call("[cause]: "+Lr(te.cause),no),", ")+" }":no.length===0?"["+String(te)+"]":"{ ["+String(te)+"] "+V.call(no,", ")+" }"}if(typeof te=="object"&&An){if(H&&typeof te[H]=="function"&&J)return J(te,{depth:Gi-xt});if(An!=="symbol"&&typeof te.inspect=="function")return te.inspect()}if(Wt(te)){var Z=[];return n&&n.call(te,function(hr,Vt){Z.push(Lr(Vt,te,!0)+" => "+Lr(hr,te))}),Lt("Map",t.call(te),Z,Rn)}if(fn(te)){var Fe=[];return u&&u.call(te,function(hr){Fe.push(Lr(hr,te))}),Lt("Set",l.call(te),Fe,Rn)}if(li(te))return ot("WeakMap");if(Ga(te))return ot("WeakSet");if(ra(te))return ot("WeakRef");if(fe(te))return We(Lr(Number(te)));if(He(te))return We(Lr(Q.call(te)));if(ke(te))return We(S.call(te));if(Ae(te))return We(Lr(String(te)));if(typeof window<"u"&&te===window)return"{ [object Window] }";if(typeof globalThis<"u"&&te===globalThis||typeof r_<"u"&&te===r_)return"{ [object globalThis] }";if(!we(te)&&!Pe(te)){var Xe=Fr(te,Lr),ht=W?W(te)===Object.prototype:te instanceof Object||te.constructor===Object,kt=te instanceof Object?"":"null prototype",Zt=!ht&&Ie&&Object(te)===te&&Ie in te?L.call(cr(te),8,-1):kt?"Object":"",Ot=ht||typeof te.constructor!="function"?"":te.constructor.name?te.constructor.name+" ":"",Mt=Ot+(Zt||kt?"["+V.call(U.call([],Zt||[],kt||[]),": ")+"] ":"");return Xe.length===0?Mt+"{}":Rn?Mt+"{"+pn(Xe,Rn)+"}":Mt+"{ "+V.call(Xe,", ")+" }"}return String(te)};function se(ne,te,Rt){var xt=Rt.quoteStyle||te,rt=Y[xt];return rt+ne+rt}function me(ne){return D.call(String(ne),/"/g,"&quot;")}function de(ne){return!Ie||!(typeof ne=="object"&&(Ie in ne||typeof ne[Ie]<"u"))}function _e(ne){return cr(ne)==="[object Array]"&&de(ne)}function we(ne){return cr(ne)==="[object Date]"&&de(ne)}function Pe(ne){return cr(ne)==="[object RegExp]"&&de(ne)}function ve(ne){return cr(ne)==="[object Error]"&&de(ne)}function Ae(ne){return cr(ne)==="[object String]"&&de(ne)}function fe(ne){return cr(ne)==="[object Number]"&&de(ne)}function ke(ne){return cr(ne)==="[object Boolean]"&&de(ne)}function ut(ne){if(oe)return ne&&typeof ne=="object"&&ne instanceof Symbol;if(typeof ne=="symbol")return!0;if(!ne||typeof ne!="object"||!ae)return!1;try{return ae.call(ne),!0}catch{}return!1}function He(ne){if(!ne||typeof ne!="object"||!Q)return!1;try{return Q.call(ne),!0}catch{}return!1}var qe=Object.prototype.hasOwnProperty||function(ne){return ne in this};function Kt(ne,te){return qe.call(ne,te)}function cr(ne){return E.call(ne)}function wn(ne){if(ne.name)return ne.name;var te=P.call(A.call(ne),/^function\s*([\w$]+)/);return te?te[1]:null}function Or(ne,te){if(ne.indexOf)return ne.indexOf(te);for(var Rt=0,xt=ne.length;Rt<xt;Rt++)if(ne[Rt]===te)return Rt;return-1}function Wt(ne){if(!t||!ne||typeof ne!="object")return!1;try{t.call(ne);try{l.call(ne)}catch{return!0}return ne instanceof Map}catch{}return!1}function li(ne){if(!p||!ne||typeof ne!="object")return!1;try{p.call(ne,p);try{v.call(ne,v)}catch{return!0}return ne instanceof WeakMap}catch{}return!1}function ra(ne){if(!x||!ne||typeof ne!="object")return!1;try{return x.call(ne),!0}catch{}return!1}function fn(ne){if(!l||!ne||typeof ne!="object")return!1;try{l.call(ne);try{t.call(ne)}catch{return!0}return ne instanceof Set}catch{}return!1}function Ga(ne){if(!v||!ne||typeof ne!="object")return!1;try{v.call(ne,v);try{p.call(ne,p)}catch{return!0}return ne instanceof WeakSet}catch{}return!1}function gs(ne){return!ne||typeof ne!="object"?!1:typeof HTMLElement<"u"&&ne instanceof HTMLElement?!0:typeof ne.nodeName=="string"&&typeof ne.getAttribute=="function"}function vs(ne,te){if(ne.length>te.maxStringLength){var Rt=ne.length-te.maxStringLength,xt="... "+Rt+" more character"+(Rt>1?"s":"");return vs(L.call(ne,0,te.maxStringLength),te)+xt}var rt=K[te.quoteStyle||"single"];rt.lastIndex=0;var vt=D.call(D.call(ne,rt,"\\$1"),/[\x00-\x1f]/g,ro);return se(vt,"single",te)}function ro(ne){var te=ne.charCodeAt(0),Rt={8:"b",9:"t",10:"n",12:"f",13:"r"}[te];return Rt?"\\"+Rt:"\\x"+(te<16?"0":"")+N.call(te.toString(16))}function We(ne){return"Object("+ne+")"}function ot(ne){return ne+" { ? }"}function Lt(ne,te,Rt,xt){var rt=xt?pn(Rt,xt):V.call(Rt,", ");return ne+" ("+te+") {"+rt+"}"}function or(ne){for(var te=0;te<ne.length;te++)if(Or(ne[te],`
`)>=0)return!1;return!0}function Ct(ne,te){var Rt;if(ne.indent==="	")Rt="	";else if(typeof ne.indent=="number"&&ne.indent>0)Rt=V.call(Array(ne.indent+1)," ");else return null;return{base:Rt,prev:V.call(Array(te+1),Rt)}}function pn(ne,te){if(ne.length===0)return"";var Rt=`
`+te.prev+te.base;return Rt+V.call(ne,","+Rt)+`
`+te.prev}function Fr(ne,te){var Rt=_e(ne),xt=[];if(Rt){xt.length=ne.length;for(var rt=0;rt<ne.length;rt++)xt[rt]=Kt(ne,rt)?te(ne[rt],ne):""}var vt=typeof q=="function"?q(ne):[],An;if(oe){An={};for(var zi=0;zi<vt.length;zi++)An["$"+vt[zi]]=vt[zi]}for(var St in ne)Kt(ne,St)&&(Rt&&String(Number(St))===St&&St<ne.length||oe&&An["$"+St]instanceof Symbol||($.call(/[^\w$]/,St)?xt.push(te(St,ne)+": "+te(ne[St],ne)):xt.push(St+": "+te(ne[St],ne))));if(typeof q=="function")for(var Vr=0;Vr<vt.length;Vr++)G.call(ne,vt[Vr])&&xt.push("["+te(vt[Vr])+"]: "+te(ne[vt[Vr]],ne));return xt}return $x}var Wx,SR;function a4(){if(SR)return Wx;SR=1;var r=Q_(),e=hf(),t=function(u,f,p){for(var g=u,v;(v=g.next)!=null;g=v)if(v.key===f)return g.next=v.next,p||(v.next=u.next,u.next=v),v},n=function(u,f){if(u){var p=t(u,f);return p&&p.value}},i=function(u,f,p){var g=t(u,f);g?g.value=p:u.next={key:f,next:u.next,value:p}},a=function(u,f){return u?!!t(u,f):!1},l=function(u,f){if(u)return t(u,f,!0)};return Wx=function(){var f,p={assert:function(g){if(!p.has(g))throw new e("Side channel does not contain "+r(g))},delete:function(g){var v=f&&f.next,b=l(f,g);return b&&v&&v===b&&(f=void 0),!!b},get:function(g){return n(f,g)},has:function(g){return a(f,g)},set:function(g,v){f||(f={next:void 0}),i(f,g,v)}};return p},Wx}var Xx,ER;function cD(){return ER||(ER=1,Xx=Object),Xx}var Yx,TR;function s4(){return TR||(TR=1,Yx=Error),Yx}var qx,CR;function o4(){return CR||(CR=1,qx=EvalError),qx}var Qx,wR;function l4(){return wR||(wR=1,Qx=RangeError),Qx}var Kx,AR;function u4(){return AR||(AR=1,Kx=ReferenceError),Kx}var Zx,RR;function c4(){return RR||(RR=1,Zx=SyntaxError),Zx}var Jx,PR;function h4(){return PR||(PR=1,Jx=URIError),Jx}var eS,MR;function d4(){return MR||(MR=1,eS=Math.abs),eS}var tS,IR;function f4(){return IR||(IR=1,tS=Math.floor),tS}var rS,DR;function p4(){return DR||(DR=1,rS=Math.max),rS}var nS,OR;function m4(){return OR||(OR=1,nS=Math.min),nS}var iS,FR;function g4(){return FR||(FR=1,iS=Math.pow),iS}var aS,LR;function v4(){return LR||(LR=1,aS=Math.round),aS}var sS,BR;function y4(){return BR||(BR=1,sS=Number.isNaN||function(e){return e!==e}),sS}var oS,NR;function _4(){if(NR)return oS;NR=1;var r=y4();return oS=function(t){return r(t)||t===0?t:t<0?-1:1},oS}var lS,UR;function b4(){return UR||(UR=1,lS=Object.getOwnPropertyDescriptor),lS}var uS,kR;function hD(){if(kR)return uS;kR=1;var r=b4();if(r)try{r([],"length")}catch{r=null}return uS=r,uS}var cS,zR;function x4(){if(zR)return cS;zR=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return cS=r,cS}var hS,GR;function S4(){return GR||(GR=1,hS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,t);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),hS}var dS,HR;function E4(){if(HR)return dS;HR=1;var r=typeof Symbol<"u"&&Symbol,e=S4();return dS=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},dS}var fS,VR;function dD(){return VR||(VR=1,fS=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),fS}var pS,jR;function fD(){if(jR)return pS;jR=1;var r=cD();return pS=r.getPrototypeOf||null,pS}var mS,$R;function T4(){if($R)return mS;$R=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(f,p){for(var g=[],v=0;v<f.length;v+=1)g[v]=f[v];for(var b=0;b<p.length;b+=1)g[b+f.length]=p[b];return g},a=function(f,p){for(var g=[],v=p,b=0;v<f.length;v+=1,b+=1)g[b]=f[v];return g},l=function(u,f){for(var p="",g=0;g<u.length;g+=1)p+=u[g],g+1<u.length&&(p+=f);return p};return mS=function(f){var p=this;if(typeof p!="function"||e.apply(p)!==n)throw new TypeError(r+p);for(var g=a(arguments,1),v,b=function(){if(this instanceof v){var P=p.apply(this,i(g,arguments));return Object(P)===P?P:this}return p.apply(f,i(g,arguments))},x=t(0,p.length-g.length),S=[],E=0;E<x;E++)S[E]="$"+E;if(v=Function("binder","return function ("+l(S,",")+"){ return binder.apply(this,arguments); }")(b),p.prototype){var A=function(){};A.prototype=p.prototype,v.prototype=new A,A.prototype=null}return v},mS}var gS,WR;function K_(){if(WR)return gS;WR=1;var r=T4();return gS=Function.prototype.bind||r,gS}var vS,XR;function o1(){return XR||(XR=1,vS=Function.prototype.call),vS}var yS,YR;function pD(){return YR||(YR=1,yS=Function.prototype.apply),yS}var _S,qR;function C4(){return qR||(qR=1,_S=typeof Reflect<"u"&&Reflect&&Reflect.apply),_S}var bS,QR;function w4(){if(QR)return bS;QR=1;var r=K_(),e=pD(),t=o1(),n=C4();return bS=n||r.call(t,e),bS}var xS,KR;function mD(){if(KR)return xS;KR=1;var r=K_(),e=hf(),t=o1(),n=w4();return xS=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(r,t,a)},xS}var SS,ZR;function A4(){if(ZR)return SS;ZR=1;var r=mD(),e=hD(),t;try{t=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return SS=n&&typeof n.get=="function"?r([n.get]):typeof a=="function"?function(u){return a(u==null?u:i(u))}:!1,SS}var ES,JR;function R4(){if(JR)return ES;JR=1;var r=dD(),e=fD(),t=A4();return ES=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,ES}var TS,eP;function P4(){if(eP)return TS;eP=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=K_();return TS=t.call(r,e),TS}var CS,tP;function l1(){if(tP)return CS;tP=1;var r,e=cD(),t=s4(),n=o4(),i=l4(),a=u4(),l=c4(),u=hf(),f=h4(),p=d4(),g=f4(),v=p4(),b=m4(),x=g4(),S=v4(),E=_4(),A=Function,P=function(Pe){try{return A('"use strict"; return ('+Pe+").constructor;")()}catch{}},L=hD(),D=x4(),N=function(){throw new u},M=L?function(){try{return arguments.callee,N}catch{try{return L(arguments,"callee").get}catch{return N}}}():N,$=E4()(),U=R4(),V=fD(),re=dD(),O=pD(),Q=o1(),q={},ae=typeof Uint8Array>"u"||!U?r:U(Uint8Array),oe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":$&&U?U([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":q,"%AsyncGenerator%":q,"%AsyncGeneratorFunction%":q,"%AsyncIteratorPrototype%":q,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":q,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$&&U?U(U([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$||!U?r:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$||!U?r:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$&&U?U(""[Symbol.iterator]()):r,"%Symbol%":$?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":M,"%TypedArray%":ae,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":Q,"%Function.prototype.apply%":O,"%Object.defineProperty%":D,"%Object.getPrototypeOf%":V,"%Math.abs%":p,"%Math.floor%":g,"%Math.max%":v,"%Math.min%":b,"%Math.pow%":x,"%Math.round%":S,"%Math.sign%":E,"%Reflect.getPrototypeOf%":re};if(U)try{null.error}catch(Pe){var Ie=U(U(Pe));oe["%Error.prototype%"]=Ie}var G=function Pe(ve){var Ae;if(ve==="%AsyncFunction%")Ae=P("async function () {}");else if(ve==="%GeneratorFunction%")Ae=P("function* () {}");else if(ve==="%AsyncGeneratorFunction%")Ae=P("async function* () {}");else if(ve==="%AsyncGenerator%"){var fe=Pe("%AsyncGeneratorFunction%");fe&&(Ae=fe.prototype)}else if(ve==="%AsyncIteratorPrototype%"){var ke=Pe("%AsyncGenerator%");ke&&U&&(Ae=U(ke.prototype))}return oe[ve]=Ae,Ae},W={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=K_(),J=P4(),F=k.call(Q,Array.prototype.concat),H=k.call(O,Array.prototype.splice),Y=k.call(Q,String.prototype.replace),K=k.call(Q,String.prototype.slice),se=k.call(Q,RegExp.prototype.exec),me=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,de=/\\(\\)?/g,_e=function(ve){var Ae=K(ve,0,1),fe=K(ve,-1);if(Ae==="%"&&fe!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(fe==="%"&&Ae!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ke=[];return Y(ve,me,function(ut,He,qe,Kt){ke[ke.length]=qe?Y(Kt,de,"$1"):He||ut}),ke},we=function(ve,Ae){var fe=ve,ke;if(J(W,fe)&&(ke=W[fe],fe="%"+ke[0]+"%"),J(oe,fe)){var ut=oe[fe];if(ut===q&&(ut=G(fe)),typeof ut>"u"&&!Ae)throw new u("intrinsic "+ve+" exists, but is not available. Please file an issue!");return{alias:ke,name:fe,value:ut}}throw new l("intrinsic "+ve+" does not exist!")};return CS=function(ve,Ae){if(typeof ve!="string"||ve.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ae!="boolean")throw new u('"allowMissing" argument must be a boolean');if(se(/^%?[^%]*%?$/,ve)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var fe=_e(ve),ke=fe.length>0?fe[0]:"",ut=we("%"+ke+"%",Ae),He=ut.name,qe=ut.value,Kt=!1,cr=ut.alias;cr&&(ke=cr[0],H(fe,F([0,1],cr)));for(var wn=1,Or=!0;wn<fe.length;wn+=1){var Wt=fe[wn],li=K(Wt,0,1),ra=K(Wt,-1);if((li==='"'||li==="'"||li==="`"||ra==='"'||ra==="'"||ra==="`")&&li!==ra)throw new l("property names with quotes must have matching quotes");if((Wt==="constructor"||!Or)&&(Kt=!0),ke+="."+Wt,He="%"+ke+"%",J(oe,He))qe=oe[He];else if(qe!=null){if(!(Wt in qe)){if(!Ae)throw new u("base intrinsic for "+ve+" exists, but the property is not available.");return}if(L&&wn+1>=fe.length){var fn=L(qe,Wt);Or=!!fn,Or&&"get"in fn&&!("originalValue"in fn.get)?qe=fn.get:qe=qe[Wt]}else Or=J(qe,Wt),qe=qe[Wt];Or&&!Kt&&(oe[He]=qe)}}return qe},CS}var wS,rP;function gD(){if(rP)return wS;rP=1;var r=l1(),e=mD(),t=e([r("%String.prototype.indexOf%")]);return wS=function(i,a){var l=r(i,!!a);return typeof l=="function"&&t(i,".prototype.")>-1?e([l]):l},wS}var AS,nP;function vD(){if(nP)return AS;nP=1;var r=l1(),e=gD(),t=Q_(),n=hf(),i=r("%Map%",!0),a=e("Map.prototype.get",!0),l=e("Map.prototype.set",!0),u=e("Map.prototype.has",!0),f=e("Map.prototype.delete",!0),p=e("Map.prototype.size",!0);return AS=!!i&&function(){var v,b={assert:function(x){if(!b.has(x))throw new n("Side channel does not contain "+t(x))},delete:function(x){if(v){var S=f(v,x);return p(v)===0&&(v=void 0),S}return!1},get:function(x){if(v)return a(v,x)},has:function(x){return v?u(v,x):!1},set:function(x,S){v||(v=new i),l(v,x,S)}};return b},AS}var RS,iP;function M4(){if(iP)return RS;iP=1;var r=l1(),e=gD(),t=Q_(),n=vD(),i=hf(),a=r("%WeakMap%",!0),l=e("WeakMap.prototype.get",!0),u=e("WeakMap.prototype.set",!0),f=e("WeakMap.prototype.has",!0),p=e("WeakMap.prototype.delete",!0);return RS=a?function(){var v,b,x={assert:function(S){if(!x.has(S))throw new i("Side channel does not contain "+t(S))},delete:function(S){if(a&&S&&(typeof S=="object"||typeof S=="function")){if(v)return p(v,S)}else if(n&&b)return b.delete(S);return!1},get:function(S){return a&&S&&(typeof S=="object"||typeof S=="function")&&v?l(v,S):b&&b.get(S)},has:function(S){return a&&S&&(typeof S=="object"||typeof S=="function")&&v?f(v,S):!!b&&b.has(S)},set:function(S,E){a&&S&&(typeof S=="object"||typeof S=="function")?(v||(v=new a),u(v,S,E)):n&&(b||(b=n()),b.set(S,E))}};return x}:n,RS}var PS,aP;function I4(){if(aP)return PS;aP=1;var r=hf(),e=Q_(),t=a4(),n=vD(),i=M4(),a=i||n||t;return PS=function(){var u,f={assert:function(p){if(!f.has(p))throw new r("Side channel does not contain "+e(p))},delete:function(p){return!!u&&u.delete(p)},get:function(p){return u&&u.get(p)},has:function(p){return!!u&&u.has(p)},set:function(p,g){u||(u=a()),u.set(p,g)}};return f},PS}var MS,sP;function u1(){if(sP)return MS;sP=1;var r=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return MS={default:t.RFC3986,formatters:{RFC1738:function(n){return r.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},MS}var IS,oP;function yD(){if(oP)return IS;oP=1;var r=u1(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n=function(){for(var A=[],P=0;P<256;++P)A.push("%"+((P<16?"0":"")+P.toString(16)).toUpperCase());return A}(),i=function(P){for(;P.length>1;){var L=P.pop(),D=L.obj[L.prop];if(t(D)){for(var N=[],M=0;M<D.length;++M)typeof D[M]<"u"&&N.push(D[M]);L.obj[L.prop]=N}}},a=function(P,L){for(var D=L&&L.plainObjects?{__proto__:null}:{},N=0;N<P.length;++N)typeof P[N]<"u"&&(D[N]=P[N]);return D},l=function A(P,L,D){if(!L)return P;if(typeof L!="object"&&typeof L!="function"){if(t(P))P.push(L);else if(P&&typeof P=="object")(D&&(D.plainObjects||D.allowPrototypes)||!e.call(Object.prototype,L))&&(P[L]=!0);else return[P,L];return P}if(!P||typeof P!="object")return[P].concat(L);var N=P;return t(P)&&!t(L)&&(N=a(P,D)),t(P)&&t(L)?(L.forEach(function(M,$){if(e.call(P,$)){var U=P[$];U&&typeof U=="object"&&M&&typeof M=="object"?P[$]=A(U,M,D):P.push(M)}else P[$]=M}),P):Object.keys(L).reduce(function(M,$){var U=L[$];return e.call(M,$)?M[$]=A(M[$],U,D):M[$]=U,M},N)},u=function(P,L){return Object.keys(L).reduce(function(D,N){return D[N]=L[N],D},P)},f=function(A,P,L){var D=A.replace(/\+/g," ");if(L==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch{return D}},p=1024,g=function(P,L,D,N,M){if(P.length===0)return P;var $=P;if(typeof P=="symbol"?$=Symbol.prototype.toString.call(P):typeof P!="string"&&($=String(P)),D==="iso-8859-1")return escape($).replace(/%u[0-9a-f]{4}/gi,function(ae){return"%26%23"+parseInt(ae.slice(2),16)+"%3B"});for(var U="",V=0;V<$.length;V+=p){for(var re=$.length>=p?$.slice(V,V+p):$,O=[],Q=0;Q<re.length;++Q){var q=re.charCodeAt(Q);if(q===45||q===46||q===95||q===126||q>=48&&q<=57||q>=65&&q<=90||q>=97&&q<=122||M===r.RFC1738&&(q===40||q===41)){O[O.length]=re.charAt(Q);continue}if(q<128){O[O.length]=n[q];continue}if(q<2048){O[O.length]=n[192|q>>6]+n[128|q&63];continue}if(q<55296||q>=57344){O[O.length]=n[224|q>>12]+n[128|q>>6&63]+n[128|q&63];continue}Q+=1,q=65536+((q&1023)<<10|re.charCodeAt(Q)&1023),O[O.length]=n[240|q>>18]+n[128|q>>12&63]+n[128|q>>6&63]+n[128|q&63]}U+=O.join("")}return U},v=function(P){for(var L=[{obj:{o:P},prop:"o"}],D=[],N=0;N<L.length;++N)for(var M=L[N],$=M.obj[M.prop],U=Object.keys($),V=0;V<U.length;++V){var re=U[V],O=$[re];typeof O=="object"&&O!==null&&D.indexOf(O)===-1&&(L.push({obj:$,prop:re}),D.push(O))}return i(L),P},b=function(P){return Object.prototype.toString.call(P)==="[object RegExp]"},x=function(P){return!P||typeof P!="object"?!1:!!(P.constructor&&P.constructor.isBuffer&&P.constructor.isBuffer(P))},S=function(P,L){return[].concat(P,L)},E=function(P,L){if(t(P)){for(var D=[],N=0;N<P.length;N+=1)D.push(L(P[N]));return D}return L(P)};return IS={arrayToObject:a,assign:u,combine:S,compact:v,decode:f,encode:g,isBuffer:x,isRegExp:b,maybeMap:E,merge:l},IS}var DS,lP;function D4(){if(lP)return DS;lP=1;var r=I4(),e=yD(),t=u1(),n=Object.prototype.hasOwnProperty,i={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,P){return A+"["+P+"]"},repeat:function(A){return A}},a=Array.isArray,l=Array.prototype.push,u=function(E,A){l.apply(E,a(A)?A:[A])},f=Date.prototype.toISOString,p=t.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:t.formatters[p],indices:!1,serializeDate:function(A){return f.call(A)},skipNulls:!1,strictNullHandling:!1},v=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},b={},x=function E(A,P,L,D,N,M,$,U,V,re,O,Q,q,ae,oe,Ie,G,W){for(var k=A,J=W,F=0,H=!1;(J=J.get(b))!==void 0&&!H;){var Y=J.get(A);if(F+=1,typeof Y<"u"){if(Y===F)throw new RangeError("Cyclic object value");H=!0}typeof J.get(b)>"u"&&(F=0)}if(typeof re=="function"?k=re(P,k):k instanceof Date?k=q(k):L==="comma"&&a(k)&&(k=e.maybeMap(k,function(He){return He instanceof Date?q(He):He})),k===null){if(M)return V&&!Ie?V(P,g.encoder,G,"key",ae):P;k=""}if(v(k)||e.isBuffer(k)){if(V){var K=Ie?P:V(P,g.encoder,G,"key",ae);return[oe(K)+"="+oe(V(k,g.encoder,G,"value",ae))]}return[oe(P)+"="+oe(String(k))]}var se=[];if(typeof k>"u")return se;var me;if(L==="comma"&&a(k))Ie&&V&&(k=e.maybeMap(k,V)),me=[{value:k.length>0?k.join(",")||null:void 0}];else if(a(re))me=re;else{var de=Object.keys(k);me=O?de.sort(O):de}var _e=U?String(P).replace(/\./g,"%2E"):String(P),we=D&&a(k)&&k.length===1?_e+"[]":_e;if(N&&a(k)&&k.length===0)return we+"[]";for(var Pe=0;Pe<me.length;++Pe){var ve=me[Pe],Ae=typeof ve=="object"&&ve&&typeof ve.value<"u"?ve.value:k[ve];if(!($&&Ae===null)){var fe=Q&&U?String(ve).replace(/\./g,"%2E"):String(ve),ke=a(k)?typeof L=="function"?L(we,fe):we:we+(Q?"."+fe:"["+fe+"]");W.set(A,F);var ut=r();ut.set(b,W),u(se,E(Ae,ke,L,D,N,M,$,U,L==="comma"&&Ie&&a(k)?null:V,re,O,Q,q,ae,oe,Ie,G,ut))}}return se},S=function(A){if(!A)return g;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.encodeDotInKeys<"u"&&typeof A.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var P=A.charset||g.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var L=t.default;if(typeof A.format<"u"){if(!n.call(t.formatters,A.format))throw new TypeError("Unknown format option provided.");L=A.format}var D=t.formatters[L],N=g.filter;(typeof A.filter=="function"||a(A.filter))&&(N=A.filter);var M;if(A.arrayFormat in i?M=A.arrayFormat:"indices"in A?M=A.indices?"indices":"repeat":M=g.arrayFormat,"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var $=typeof A.allowDots>"u"?A.encodeDotInKeys===!0?!0:g.allowDots:!!A.allowDots;return{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:g.addQueryPrefix,allowDots:$,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:M,charset:P,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!A.commaRoundTrip,delimiter:typeof A.delimiter>"u"?g.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:g.encode,encodeDotInKeys:typeof A.encodeDotInKeys=="boolean"?A.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof A.encoder=="function"?A.encoder:g.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:g.encodeValuesOnly,filter:N,format:L,formatter:D,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:g.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:g.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:g.strictNullHandling}};return DS=function(E,A){var P=E,L=S(A),D,N;typeof L.filter=="function"?(N=L.filter,P=N("",P)):a(L.filter)&&(N=L.filter,D=N);var M=[];if(typeof P!="object"||P===null)return"";var $=i[L.arrayFormat],U=$==="comma"&&L.commaRoundTrip;D||(D=Object.keys(P)),L.sort&&D.sort(L.sort);for(var V=r(),re=0;re<D.length;++re){var O=D[re],Q=P[O];L.skipNulls&&Q===null||u(M,x(Q,O,$,U,L.allowEmptyArrays,L.strictNullHandling,L.skipNulls,L.encodeDotInKeys,L.encode?L.encoder:null,L.filter,L.sort,L.allowDots,L.serializeDate,L.format,L.formatter,L.encodeValuesOnly,L.charset,V))}var q=M.join(L.delimiter),ae=L.addQueryPrefix===!0?"?":"";return L.charsetSentinel&&(L.charset==="iso-8859-1"?ae+="utf8=%26%2310003%3B&":ae+="utf8=%E2%9C%93&"),q.length>0?ae+q:""},DS}var OS,uP;function O4(){if(uP)return OS;uP=1;var r=yD(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(b){return b.replace(/&#(\d+);/g,function(x,S){return String.fromCharCode(parseInt(S,10))})},a=function(b,x,S){if(b&&typeof b=="string"&&x.comma&&b.indexOf(",")>-1)return b.split(",");if(x.throwOnLimitExceeded&&S>=x.arrayLimit)throw new RangeError("Array limit exceeded. Only "+x.arrayLimit+" element"+(x.arrayLimit===1?"":"s")+" allowed in an array.");return b},l="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",f=function(x,S){var E={__proto__:null},A=S.ignoreQueryPrefix?x.replace(/^\?/,""):x;A=A.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var P=S.parameterLimit===1/0?void 0:S.parameterLimit,L=A.split(S.delimiter,S.throwOnLimitExceeded?P+1:P);if(S.throwOnLimitExceeded&&L.length>P)throw new RangeError("Parameter limit exceeded. Only "+P+" parameter"+(P===1?"":"s")+" allowed.");var D=-1,N,M=S.charset;if(S.charsetSentinel)for(N=0;N<L.length;++N)L[N].indexOf("utf8=")===0&&(L[N]===u?M="utf-8":L[N]===l&&(M="iso-8859-1"),D=N,N=L.length);for(N=0;N<L.length;++N)if(N!==D){var $=L[N],U=$.indexOf("]="),V=U===-1?$.indexOf("="):U+1,re,O;V===-1?(re=S.decoder($,n.decoder,M,"key"),O=S.strictNullHandling?null:""):(re=S.decoder($.slice(0,V),n.decoder,M,"key"),O=r.maybeMap(a($.slice(V+1),S,t(E[re])?E[re].length:0),function(q){return S.decoder(q,n.decoder,M,"value")})),O&&S.interpretNumericEntities&&M==="iso-8859-1"&&(O=i(String(O))),$.indexOf("[]=")>-1&&(O=t(O)?[O]:O);var Q=e.call(E,re);Q&&S.duplicates==="combine"?E[re]=r.combine(E[re],O):(!Q||S.duplicates==="last")&&(E[re]=O)}return E},p=function(b,x,S,E){var A=0;if(b.length>0&&b[b.length-1]==="[]"){var P=b.slice(0,-1).join("");A=Array.isArray(x)&&x[P]?x[P].length:0}for(var L=E?x:a(x,S,A),D=b.length-1;D>=0;--D){var N,M=b[D];if(M==="[]"&&S.parseArrays)N=S.allowEmptyArrays&&(L===""||S.strictNullHandling&&L===null)?[]:r.combine([],L);else{N=S.plainObjects?{__proto__:null}:{};var $=M.charAt(0)==="["&&M.charAt(M.length-1)==="]"?M.slice(1,-1):M,U=S.decodeDotInKeys?$.replace(/%2E/g,"."):$,V=parseInt(U,10);!S.parseArrays&&U===""?N={0:L}:!isNaN(V)&&M!==U&&String(V)===U&&V>=0&&S.parseArrays&&V<=S.arrayLimit?(N=[],N[V]=L):U!=="__proto__"&&(N[U]=L)}L=N}return L},g=function(x,S,E,A){if(x){var P=E.allowDots?x.replace(/\.([^.[]+)/g,"[$1]"):x,L=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,N=E.depth>0&&L.exec(P),M=N?P.slice(0,N.index):P,$=[];if(M){if(!E.plainObjects&&e.call(Object.prototype,M)&&!E.allowPrototypes)return;$.push(M)}for(var U=0;E.depth>0&&(N=D.exec(P))!==null&&U<E.depth;){if(U+=1,!E.plainObjects&&e.call(Object.prototype,N[1].slice(1,-1))&&!E.allowPrototypes)return;$.push(N[1])}if(N){if(E.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+E.depth+" and strictDepth is true");$.push("["+P.slice(N.index)+"]")}return p($,S,E,A)}},v=function(x){if(!x)return n;if(typeof x.allowEmptyArrays<"u"&&typeof x.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof x.decodeDotInKeys<"u"&&typeof x.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(x.decoder!==null&&typeof x.decoder<"u"&&typeof x.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof x.charset<"u"&&x.charset!=="utf-8"&&x.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof x.throwOnLimitExceeded<"u"&&typeof x.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var S=typeof x.charset>"u"?n.charset:x.charset,E=typeof x.duplicates>"u"?n.duplicates:x.duplicates;if(E!=="combine"&&E!=="first"&&E!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var A=typeof x.allowDots>"u"?x.decodeDotInKeys===!0?!0:n.allowDots:!!x.allowDots;return{allowDots:A,allowEmptyArrays:typeof x.allowEmptyArrays=="boolean"?!!x.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof x.allowPrototypes=="boolean"?x.allowPrototypes:n.allowPrototypes,allowSparse:typeof x.allowSparse=="boolean"?x.allowSparse:n.allowSparse,arrayLimit:typeof x.arrayLimit=="number"?x.arrayLimit:n.arrayLimit,charset:S,charsetSentinel:typeof x.charsetSentinel=="boolean"?x.charsetSentinel:n.charsetSentinel,comma:typeof x.comma=="boolean"?x.comma:n.comma,decodeDotInKeys:typeof x.decodeDotInKeys=="boolean"?x.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof x.decoder=="function"?x.decoder:n.decoder,delimiter:typeof x.delimiter=="string"||r.isRegExp(x.delimiter)?x.delimiter:n.delimiter,depth:typeof x.depth=="number"||x.depth===!1?+x.depth:n.depth,duplicates:E,ignoreQueryPrefix:x.ignoreQueryPrefix===!0,interpretNumericEntities:typeof x.interpretNumericEntities=="boolean"?x.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof x.parameterLimit=="number"?x.parameterLimit:n.parameterLimit,parseArrays:x.parseArrays!==!1,plainObjects:typeof x.plainObjects=="boolean"?x.plainObjects:n.plainObjects,strictDepth:typeof x.strictDepth=="boolean"?!!x.strictDepth:n.strictDepth,strictNullHandling:typeof x.strictNullHandling=="boolean"?x.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof x.throwOnLimitExceeded=="boolean"?x.throwOnLimitExceeded:!1}};return OS=function(b,x){var S=v(x);if(b===""||b===null||typeof b>"u")return S.plainObjects?{__proto__:null}:{};for(var E=typeof b=="string"?f(b,S):b,A=S.plainObjects?{__proto__:null}:{},P=Object.keys(E),L=0;L<P.length;++L){var D=P[L],N=g(D,E[D],S,typeof b=="string");A=r.merge(A,N,S)}return S.allowSparse===!0?A:r.compact(A)},OS}var FS,cP;function F4(){if(cP)return FS;cP=1;var r=D4(),e=O4(),t=u1();return FS={formats:t,parse:e,stringify:r},FS}var hP;function L4(){if(hP)return Uc;hP=1;var r=t4();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],l=["{","}","|","\\","^","`"].concat(a),u=["'"].concat(l),f=["%","/","?",";","#"].concat(u),p=["/","?","#"],g=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=F4();function P(M,$,U){if(M&&typeof M=="object"&&M instanceof e)return M;var V=new e;return V.parse(M,$,U),V}e.prototype.parse=function(M,$,U){if(typeof M!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof M);var V=M.indexOf("?"),re=V!==-1&&V<M.indexOf("#")?"?":"#",O=M.split(re),Q=/\\/g;O[0]=O[0].replace(Q,"/"),M=O.join(re);var q=M;if(q=q.trim(),!U&&M.split("#").length===1){var ae=i.exec(q);if(ae)return this.path=q,this.href=q,this.pathname=ae[1],ae[2]?(this.search=ae[2],$?this.query=A.parse(this.search.substr(1)):this.query=this.search.substr(1)):$&&(this.search="",this.query={}),this}var oe=t.exec(q);if(oe){oe=oe[0];var Ie=oe.toLowerCase();this.protocol=Ie,q=q.substr(oe.length)}if(U||oe||q.match(/^\/\/[^@/]+@[^@/]+/)){var G=q.substr(0,2)==="//";G&&!(oe&&S[oe])&&(q=q.substr(2),this.slashes=!0)}if(!S[oe]&&(G||oe&&!E[oe])){for(var W=-1,k=0;k<p.length;k++){var J=q.indexOf(p[k]);J!==-1&&(W===-1||J<W)&&(W=J)}var F,H;W===-1?H=q.lastIndexOf("@"):H=q.lastIndexOf("@",W),H!==-1&&(F=q.slice(0,H),q=q.slice(H+1),this.auth=decodeURIComponent(F)),W=-1;for(var k=0;k<f.length;k++){var J=q.indexOf(f[k]);J!==-1&&(W===-1||J<W)&&(W=J)}W===-1&&(W=q.length),this.host=q.slice(0,W),q=q.slice(W),this.parseHost(),this.hostname=this.hostname||"";var Y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Y)for(var K=this.hostname.split(/\./),k=0,se=K.length;k<se;k++){var me=K[k];if(me&&!me.match(v)){for(var de="",_e=0,we=me.length;_e<we;_e++)me.charCodeAt(_e)>127?de+="x":de+=me[_e];if(!de.match(v)){var Pe=K.slice(0,k),ve=K.slice(k+1),Ae=me.match(b);Ae&&(Pe.push(Ae[1]),ve.unshift(Ae[2])),ve.length&&(q="/"+ve.join(".")+q),this.hostname=Pe.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),Y||(this.hostname=r.toASCII(this.hostname));var fe=this.port?":"+this.port:"",ke=this.hostname||"";this.host=ke+fe,this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),q[0]!=="/"&&(q="/"+q))}if(!x[Ie])for(var k=0,se=u.length;k<se;k++){var ut=u[k];if(q.indexOf(ut)!==-1){var He=encodeURIComponent(ut);He===ut&&(He=escape(ut)),q=q.split(ut).join(He)}}var qe=q.indexOf("#");qe!==-1&&(this.hash=q.substr(qe),q=q.slice(0,qe));var Kt=q.indexOf("?");if(Kt!==-1?(this.search=q.substr(Kt),this.query=q.substr(Kt+1),$&&(this.query=A.parse(this.query)),q=q.slice(0,Kt)):$&&(this.search="",this.query={}),q&&(this.pathname=q),E[Ie]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var fe=this.pathname||"",cr=this.search||"";this.path=fe+cr}return this.href=this.format(),this};function L(M){return typeof M=="string"&&(M=P(M)),M instanceof e?M.format():e.prototype.format.call(M)}e.prototype.format=function(){var M=this.auth||"";M&&(M=encodeURIComponent(M),M=M.replace(/%3A/i,":"),M+="@");var $=this.protocol||"",U=this.pathname||"",V=this.hash||"",re=!1,O="";this.host?re=M+this.host:this.hostname&&(re=M+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(re+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(O=A.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Q=this.search||O&&"?"+O||"";return $&&$.substr(-1)!==":"&&($+=":"),this.slashes||(!$||E[$])&&re!==!1?(re="//"+(re||""),U&&U.charAt(0)!=="/"&&(U="/"+U)):re||(re=""),V&&V.charAt(0)!=="#"&&(V="#"+V),Q&&Q.charAt(0)!=="?"&&(Q="?"+Q),U=U.replace(/[?#]/g,function(q){return encodeURIComponent(q)}),Q=Q.replace("#","%23"),$+re+U+Q+V};function D(M,$){return P(M,!1,!0).resolve($)}e.prototype.resolve=function(M){return this.resolveObject(P(M,!1,!0)).format()};function N(M,$){return M?P(M,!1,!0).resolveObject($):$}return e.prototype.resolveObject=function(M){if(typeof M=="string"){var $=new e;$.parse(M,!1,!0),M=$}for(var U=new e,V=Object.keys(this),re=0;re<V.length;re++){var O=V[re];U[O]=this[O]}if(U.hash=M.hash,M.href==="")return U.href=U.format(),U;if(M.slashes&&!M.protocol){for(var Q=Object.keys(M),q=0;q<Q.length;q++){var ae=Q[q];ae!=="protocol"&&(U[ae]=M[ae])}return E[U.protocol]&&U.hostname&&!U.pathname&&(U.pathname="/",U.path=U.pathname),U.href=U.format(),U}if(M.protocol&&M.protocol!==U.protocol){if(!E[M.protocol]){for(var oe=Object.keys(M),Ie=0;Ie<oe.length;Ie++){var G=oe[Ie];U[G]=M[G]}return U.href=U.format(),U}if(U.protocol=M.protocol,!M.host&&!S[M.protocol]){for(var se=(M.pathname||"").split("/");se.length&&!(M.host=se.shift()););M.host||(M.host=""),M.hostname||(M.hostname=""),se[0]!==""&&se.unshift(""),se.length<2&&se.unshift(""),U.pathname=se.join("/")}else U.pathname=M.pathname;if(U.search=M.search,U.query=M.query,U.host=M.host||"",U.auth=M.auth,U.hostname=M.hostname||M.host,U.port=M.port,U.pathname||U.search){var W=U.pathname||"",k=U.search||"";U.path=W+k}return U.slashes=U.slashes||M.slashes,U.href=U.format(),U}var J=U.pathname&&U.pathname.charAt(0)==="/",F=M.host||M.pathname&&M.pathname.charAt(0)==="/",H=F||J||U.host&&M.pathname,Y=H,K=U.pathname&&U.pathname.split("/")||[],se=M.pathname&&M.pathname.split("/")||[],me=U.protocol&&!E[U.protocol];if(me&&(U.hostname="",U.port=null,U.host&&(K[0]===""?K[0]=U.host:K.unshift(U.host)),U.host="",M.protocol&&(M.hostname=null,M.port=null,M.host&&(se[0]===""?se[0]=M.host:se.unshift(M.host)),M.host=null),H=H&&(se[0]===""||K[0]==="")),F)U.host=M.host||M.host===""?M.host:U.host,U.hostname=M.hostname||M.hostname===""?M.hostname:U.hostname,U.search=M.search,U.query=M.query,K=se;else if(se.length)K||(K=[]),K.pop(),K=K.concat(se),U.search=M.search,U.query=M.query;else if(M.search!=null){if(me){U.host=K.shift(),U.hostname=U.host;var de=U.host&&U.host.indexOf("@")>0?U.host.split("@"):!1;de&&(U.auth=de.shift(),U.hostname=de.shift(),U.host=U.hostname)}return U.search=M.search,U.query=M.query,(U.pathname!==null||U.search!==null)&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.href=U.format(),U}if(!K.length)return U.pathname=null,U.search?U.path="/"+U.search:U.path=null,U.href=U.format(),U;for(var _e=K.slice(-1)[0],we=(U.host||M.host||K.length>1)&&(_e==="."||_e==="..")||_e==="",Pe=0,ve=K.length;ve>=0;ve--)_e=K[ve],_e==="."?K.splice(ve,1):_e===".."?(K.splice(ve,1),Pe++):Pe&&(K.splice(ve,1),Pe--);if(!H&&!Y)for(;Pe--;Pe)K.unshift("..");H&&K[0]!==""&&(!K[0]||K[0].charAt(0)!=="/")&&K.unshift(""),we&&K.join("/").substr(-1)!=="/"&&K.push("");var Ae=K[0]===""||K[0]&&K[0].charAt(0)==="/";if(me){U.hostname=Ae?"":K.length?K.shift():"",U.host=U.hostname;var de=U.host&&U.host.indexOf("@")>0?U.host.split("@"):!1;de&&(U.auth=de.shift(),U.hostname=de.shift(),U.host=U.hostname)}return H=H||U.host&&K.length,H&&!Ae&&K.unshift(""),K.length>0?U.pathname=K.join("/"):(U.pathname=null,U.path=null),(U.pathname!==null||U.search!==null)&&(U.path=(U.pathname?U.pathname:"")+(U.search?U.search:"")),U.auth=M.auth||U.auth,U.slashes=U.slashes||M.slashes,U.href=U.format(),U},e.prototype.parseHost=function(){var M=this.host,$=n.exec(M);$&&($=$[0],$!==":"&&(this.port=$.substr(1)),M=M.substr(0,M.length-$.length)),M&&(this.hostname=M)},Uc.parse=P,Uc.resolve=D,Uc.resolveObject=N,Uc.format=L,Uc.Url=e,Uc}L4();const dP={};function Qt(r,e,t=3){if(dP[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(n=n.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(n))),dP[e]=!0}function js(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function rm(r){return r.split("?")[0].split("#")[0]}function B4(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N4(r,e,t){return r.replace(new RegExp(B4(e),"g"),t)}function U4(r,e){let t="",n=0,i=-1,a=0,l=-1;for(let u=0;u<=r.length;++u){if(u<r.length)l=r.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(i===u-1||a===1))if(i!==u-1&&a===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const f=t.lastIndexOf("/");if(f!==t.length-1){f===-1?(t="",n=0):(t=t.slice(0,f),n=t.length-1-t.lastIndexOf("/")),i=u,a=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=u,a=0;continue}}}else t.length>0?t+=`/${r.slice(i+1,u)}`:t=r.slice(i+1,u),n=u-i-1;i=u,a=0}else l===46&&a!==-1?++a:a=-1}return t}const oi={toPosix(r){return N4(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){js(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(r);return t?t[0]:""},toAbsolute(r,e,t){if(js(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const n=rm(this.toPosix(e??tt.ADAPTER.getBaseUrl())),i=rm(this.toPosix(t??this.rootname(n)));return r=this.toPosix(r),r.startsWith("/")?oi.join(i,r.slice(1)):this.isAbsolute(r)?r:this.join(n,r)},normalize(r){if(js(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const n=r.endsWith("/");return r=U4(r),r.length>0&&n&&(r+="/"),t?`/${r}`:e+r},isAbsolute(r){return js(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){const n=r[t];if(js(n),n.length>0)if(e===void 0)e=n;else{const i=r[t-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(r){if(js(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const t=e===47;let n=-1,i=!0;const a=this.getProtocol(r),l=r;r=r.slice(a.length);for(let u=r.length-1;u>=1;--u)if(e=r.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?t?"/":this.isUrl(l)?a+r:a:t&&n===1?"//":a+r.slice(0,n)},rootname(r){js(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){js(r),e&&js(e),r=rm(this.toPosix(r));let t=0,n=-1,i=!0,a;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let l=e.length-1,u=-1;for(a=r.length-1;a>=0;--a){const f=r.charCodeAt(a);if(f===47){if(!i){t=a+1;break}}else u===-1&&(i=!1,u=a+1),l>=0&&(f===e.charCodeAt(l)?--l===-1&&(n=a):(l=-1,n=u))}return t===n?n=u:n===-1&&(n=r.length),r.slice(t,n)}for(a=r.length-1;a>=0;--a)if(r.charCodeAt(a)===47){if(!i){t=a+1;break}}else n===-1&&(i=!1,n=a+1);return n===-1?"":r.slice(t,n)},extname(r){js(r),r=rm(this.toPosix(r));let e=-1,t=0,n=-1,i=!0,a=0;for(let l=r.length-1;l>=0;--l){const u=r.charCodeAt(l);if(u===47){if(!i){t=l+1;break}continue}n===-1&&(i=!1,n=l+1),u===46?e===-1?e=l:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===t+1?"":r.slice(e,n)},parse(r){js(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=rm(this.toPosix(r));let t=r.charCodeAt(0);const n=this.isAbsolute(r);let i;e.root=this.rootname(r),n||this.hasProtocol(r)?i=1:i=0;let a=-1,l=0,u=-1,f=!0,p=r.length-1,g=0;for(;p>=i;--p){if(t=r.charCodeAt(p),t===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),t===46?a===-1?a=p:g!==1&&(g=1):a!==-1&&(g=-1)}return a===-1||u===-1||g===0||g===1&&a===u-1&&a===l+1?u!==-1&&(l===0&&n?e.base=e.name=r.slice(1,u):e.base=e.name=r.slice(l,u)):(l===0&&n?(e.name=r.slice(1,a),e.base=r.slice(1,u)):(e.name=r.slice(l,a),e.base=r.slice(l,u)),e.ext=r.slice(a,u)),e.dir=this.dirname(r),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let LS;async function k4(){return LS??(LS=(async()=>{const r=document.createElement("canvas").getContext("webgl");if(!r)return ma.UNPACK;const e=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return ma.UNPACK;const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t);const n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.deleteFramebuffer(n),r.deleteTexture(t),r.getExtension("WEBGL_lose_context")?.loseContext(),i[0]<=i[3]?ma.PMA:ma.UNPACK})()),LS}let BS;function z4(){return typeof BS>"u"&&(BS=function(){const r={stencil:!0,failIfMajorPerformanceCaveat:tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!tt.ADAPTER.getWebGLRenderingContext())return!1;const e=tt.ADAPTER.createCanvas();let t=e.getContext("webgl",r)||e.getContext("experimental-webgl",r);const n=!!t?.getContextAttributes()?.stencil;if(t){const i=t.getExtension("WEBGL_lose_context");i&&i.loseContext()}return t=null,n}catch{return!1}}()),BS}var G4={grad:.9,turn:360,rad:360/(2*Math.PI)},Tl=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},si=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},hs=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},_D=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},fP=function(r){return{r:hs(r.r,0,255),g:hs(r.g,0,255),b:hs(r.b,0,255),a:hs(r.a)}},NS=function(r){return{r:si(r.r),g:si(r.g),b:si(r.b),a:si(r.a,3)}},H4=/^#([0-9a-f]{3,8})$/i,iy=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},bD=function(r){var e=r.r,t=r.g,n=r.b,i=r.a,a=Math.max(e,t,n),l=a-Math.min(e,t,n),u=l?a===e?(t-n)/l:a===t?2+(n-e)/l:4+(e-t)/l:0;return{h:60*(u<0?u+6:u),s:a?l/a*100:0,v:a/255*100,a:i}},xD=function(r){var e=r.h,t=r.s,n=r.v,i=r.a;e=e/360*6,t/=100,n/=100;var a=Math.floor(e),l=n*(1-t),u=n*(1-(e-a)*t),f=n*(1-(1-e+a)*t),p=a%6;return{r:255*[n,u,l,l,f,n][p],g:255*[f,n,n,u,l,l][p],b:255*[l,l,f,n,n,u][p],a:i}},pP=function(r){return{h:_D(r.h),s:hs(r.s,0,100),l:hs(r.l,0,100),a:hs(r.a)}},mP=function(r){return{h:si(r.h),s:si(r.s),l:si(r.l),a:si(r.a,3)}},gP=function(r){return xD((t=(e=r).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},wm=function(r){return{h:(e=bD(r)).h,s:(i=(200-(t=e.s))*(n=e.v)/100)>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,n,i},V4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,j4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,W4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,UE={string:[[function(r){var e=H4.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?si(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?si(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=$4.exec(r)||W4.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:fP({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=V4.exec(r)||j4.exec(r);if(!e)return null;var t,n,i=pP({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(G4[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return gP(i)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,n=r.b,i=r.a,a=i===void 0?1:i;return Tl(e)&&Tl(t)&&Tl(n)?fP({r:Number(e),g:Number(t),b:Number(n),a:Number(a)}):null},"rgb"],[function(r){var e=r.h,t=r.s,n=r.l,i=r.a,a=i===void 0?1:i;if(!Tl(e)||!Tl(t)||!Tl(n))return null;var l=pP({h:Number(e),s:Number(t),l:Number(n),a:Number(a)});return gP(l)},"hsl"],[function(r){var e=r.h,t=r.s,n=r.v,i=r.a,a=i===void 0?1:i;if(!Tl(e)||!Tl(t)||!Tl(n))return null;var l=function(u){return{h:_D(u.h),s:hs(u.s,0,100),v:hs(u.v,0,100),a:hs(u.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(a)});return xD(l)},"hsv"]]},vP=function(r,e){for(var t=0;t<e.length;t++){var n=e[t][0](r);if(n)return[n,e[t][1]]}return[null,void 0]},X4=function(r){return typeof r=="string"?vP(r.trim(),UE.string):typeof r=="object"&&r!==null?vP(r,UE.object):[null,void 0]},US=function(r,e){var t=wm(r);return{h:t.h,s:hs(t.s+100*e,0,100),l:t.l,a:t.a}},kS=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},yP=function(r,e){var t=wm(r);return{h:t.h,s:t.s,l:hs(t.l+100*e,0,100),a:t.a}},kE=function(){function r(e){this.parsed=X4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return si(kS(this.rgba),2)},r.prototype.isDark=function(){return kS(this.rgba)<.5},r.prototype.isLight=function(){return kS(this.rgba)>=.5},r.prototype.toHex=function(){return e=NS(this.rgba),t=e.r,n=e.g,i=e.b,l=(a=e.a)<1?iy(si(255*a)):"","#"+iy(t)+iy(n)+iy(i)+l;var e,t,n,i,a,l},r.prototype.toRgb=function(){return NS(this.rgba)},r.prototype.toRgbString=function(){return e=NS(this.rgba),t=e.r,n=e.g,i=e.b,(a=e.a)<1?"rgba("+t+", "+n+", "+i+", "+a+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,a},r.prototype.toHsl=function(){return mP(wm(this.rgba))},r.prototype.toHslString=function(){return e=mP(wm(this.rgba)),t=e.h,n=e.s,i=e.l,(a=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+a+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,a},r.prototype.toHsv=function(){return e=bD(this.rgba),{h:si(e.h),s:si(e.s),v:si(e.v),a:si(e.a,3)};var e},r.prototype.invert=function(){return Oo({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),Oo(US(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),Oo(US(this.rgba,-e))},r.prototype.grayscale=function(){return Oo(US(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),Oo(yP(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),Oo(yP(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?Oo({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):si(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=wm(this.rgba);return typeof e=="number"?Oo({h:e,s:t.s,l:t.l,a:t.a}):si(t.h)},r.prototype.isEqual=function(e){return this.toHex()===Oo(e).toHex()},r}(),Oo=function(r){return r instanceof kE?r:new kE(r)},_P=[],Y4=function(r){r.forEach(function(e){_P.indexOf(e)<0&&(e(kE,UE),_P.push(e))})};function q4(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in t)n[t[i]]=i;var a={};r.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,f,p=n[this.toHex()];if(p)return p;if(l?.closest){var g=this.toRgb(),v=1/0,b="black";if(!a.length)for(var x in t)a[x]=new r(t[x]).toRgb();for(var S in t){var E=(u=g,f=a[S],Math.pow(u.r-f.r,2)+Math.pow(u.g-f.g,2)+Math.pow(u.b-f.b,2));E<v&&(v=E,b=S)}return b}},e.string.push([function(l){var u=l.toLowerCase(),f=u==="transparent"?"#0000":t[u];return f?new r(f).toRgb():null},"name"])}Y4([q4]);const Dd=class Hy{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Hy)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,a)=>i===t[a]);if(e!==null&&t!==null){const i=Object.keys(e),a=Object.keys(t);return i.length!==a.length?!1:i.every(l=>e[l]===t[l])}return e===t}toRgba(){const[e,t,n,i]=this._components;return{r:e,g:t,b:n,a:i}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return`rgba(${e},${t},${n},${this.alpha})`}toUint8RgbArray(e){const[t,n,i]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[t,n,i]=this._components;return e[0]=t,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,n,i,a]=Hy.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=n,this._components[2]*=i,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,a=this._int&255;return t&&(n=n*e+.5|0,i=i*e+.5|0,a=a*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,n,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,n,i,a]=this._components;return e[0]=t,e[1]=n,e[2]=i,e[3]=a,e}normalize(e){let t,n,i,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const l=e;t=(l>>16&255)/255,n=(l>>8&255)/255,i=(l&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,n,i,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,n,i,a=255]=e,t/=255,n/=255,i/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=Hy.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const l=Oo(e);l.isValid()&&({r:t,g:n,b:i,a}=l.rgba,t/=255,n/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=n,this._components[2]=i,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(e*255<<16)+(t*255<<8)+(n*255|0)}_clamp(e,t=0,n=1){return typeof e=="number"?Math.min(Math.max(e,t),n):(e.forEach((i,a)=>{e[a]=Math.min(Math.max(i,t),n)}),e)}};Dd.shared=new Dd,Dd.temp=new Dd,Dd.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let kr=Dd;function Q4(r){return Qt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),kr.shared.setValue(r).toHex()}function K4(r){return Qt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),kr.shared.setValue(r).toNumber()}function Z4(){const r=[],e=[];for(let n=0;n<32;n++)r[n]=n,e[n]=n;r[wt.NORMAL_NPM]=wt.NORMAL,r[wt.ADD_NPM]=wt.ADD,r[wt.SCREEN_NPM]=wt.SCREEN,e[wt.NORMAL]=wt.NORMAL_NPM,e[wt.ADD]=wt.ADD_NPM,e[wt.SCREEN]=wt.SCREEN_NPM;const t=[];return t.push(e),t.push(r),t}const SD=Z4();function ED(r,e){return SD[e?1:0][r]}function J4(r,e=null){const t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let n=0,i=0;n<t;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function TD(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}function a_(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function bP(r){return!(r&r-1)&&!!r}function xP(r){let e=(r>65535?1:0)<<4;r>>>=e;let t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function Xd(r,e,t){const n=r.length;let i;if(e>=n||t===0)return;t=e+t>n?n-e:t;const a=n-t;for(i=e;i<a;++i)r[i]=r[i+t];r.length=a}function Lu(r){return r===0?0:r<0?-1:1}let e5=0;function ah(){return++e5}const zE=class{constructor(r,e,t,n){this.left=r,this.top=e,this.right=t,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};zE.EMPTY=new zE(0,0,0,0);let SP=zE;const EP={},Fo=Object.create(null),wu=Object.create(null);class t5{constructor(e,t,n){this._canvas=tt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||tt.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function TP(r,e,t){for(let n=0,i=4*t*e;n<e;++n,i+=4)if(r[i+3]!==0)return!1;return!0}function CP(r,e,t,n,i){const a=4*e;for(let l=n,u=n*a+4*t;l<=i;++l,u+=a)if(r[u+3]!==0)return!1;return!0}function r5(r){const{width:e,height:t}=r,n=r.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,t).data;let a=0,l=0,u=e-1,f=t-1;for(;l<t&&TP(i,e,l);)++l;if(l===t)return SP.EMPTY;for(;TP(i,e,f);)--f;for(;CP(i,e,a,l,f);)++a;for(;CP(i,e,u,l,f);)--u;return++u,++f,new SP(a,l,u,f)}function n5(r){const e=r5(r),{width:t,height:n}=e;let i=null;if(!e.isEmpty()){const a=r.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");i=a.getImageData(e.left,e.top,t,n)}return{width:t,height:n,data:i}}function i5(r,e=globalThis.location){if(r.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(r,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function Ll(r,e=1){const t=tt.RETINA_PREFIX?.exec(r);return t?parseFloat(t[1]):e}var Qe=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))(Qe||{});const GE=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},wP=(r,e)=>GE(r).priority??e,ct={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(GE).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...r){return r.map(GE).forEach(e=>{e.type.forEach(t=>{const n=this._addHandlers,i=this._queue;n[t]?n[t]?.(e):(i[t]=i[t]||[],i[t]?.push(e))})}),this},handle(r,e,t){const n=this._addHandlers,i=this._removeHandlers;if(n[r]||i[r])throw new Error(`Extension type ${r} already has a handler`);n[r]=e,i[r]=t;const a=this._queue;return a[r]&&(a[r]?.forEach(l=>e(l)),delete a[r]),this},handleByMap(r,e){return this.handle(r,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(r,e,t=-1){return this.handle(r,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,a)=>wP(a,t)-wP(i,t)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class HE{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const a5=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function s5(r){let e="";for(let t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+=`if(test == ${t}.0){}`);return e}function o5(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=a5.replace(/%forloop%/gi,s5(r));if(e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}const zS=0,GS=1,HS=2,VS=3,jS=4,$S=5;class Jo{constructor(){this.data=0,this.blendMode=wt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<zS)}set blend(e){!!(this.data&1<<zS)!==e&&(this.data^=1<<zS)}get offsets(){return!!(this.data&1<<GS)}set offsets(e){!!(this.data&1<<GS)!==e&&(this.data^=1<<GS)}get culling(){return!!(this.data&1<<HS)}set culling(e){!!(this.data&1<<HS)!==e&&(this.data^=1<<HS)}get depthTest(){return!!(this.data&1<<VS)}set depthTest(e){!!(this.data&1<<VS)!==e&&(this.data^=1<<VS)}get depthMask(){return!!(this.data&1<<$S)}set depthMask(e){!!(this.data&1<<$S)!==e&&(this.data^=1<<$S)}get clockwiseFrontFace(){return!!(this.data&1<<jS)}set clockwiseFrontFace(e){!!(this.data&1<<jS)!==e&&(this.data^=1<<jS)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==wt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Jo;return e.depthTest=!1,e.blend=!0,e}}Jo.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const VE=[];function CD(r,e){if(!r)return null;let t="";if(typeof r=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(t=n[1].toLowerCase())}for(let n=VE.length-1;n>=0;--n){const i=VE[n];if(i.test&&i.test(r,t))return new i(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Zs{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,i,a,l,u,f){if(arguments.length>8)throw new Error("max arguments reached");const{name:p,items:g}=this;this._aliasCount++;for(let v=0,b=g.length;v<b;v++)g[v][p](e,t,n,i,a,l,u,f);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Zs.prototype,{dispatch:{value:Zs.prototype.emit},run:{value:Zs.prototype.emit}});class Bm{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Zs("setRealSize"),this.onUpdate=new Zs("update"),this.onError=new Zs("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Z_ extends Bm{constructor(e,t){const{width:n,height:i}=t||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ma.UNPACK);const a=t.realWidth,l=t.realHeight;return n.width===a&&n.height===l?i.texSubImage2D(t.target,0,0,0,a,l,t.format,n.type,this.data):(n.width=a,n.height=l,i.texImage2D(t.target,0,n.internalFormat,a,l,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const l5={scaleMode:Pl.NEAREST,alphaMode:ma.NPM},jE=class Od extends kl{constructor(e=null,t=null){super(),t=Object.assign({},Od.defaultOptions,t);const{alphaMode:n,mipmap:i,anisotropicLevel:a,scaleMode:l,width:u,height:f,wrapMode:p,format:g,type:v,target:b,resolution:x,resourceOptions:S}=t;e&&!(e instanceof Bm)&&(e=CD(e,S),e.internal=!0),this.resolution=x||tt.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((f||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=a,this._wrapMode=p,this._scaleMode=l,this.format=g,this.type=v,this.target=b,this.alphaMode=n,this.uid=ah(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&f>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=bP(this.realWidth)&&bP(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete wu[this.cacheId],delete Fo[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Od.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,n=tt.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let a=null;if(i)a=e;else{if(!e._pixiId){const u=t?.pixiIdPrefix||"pixiid";e._pixiId=`${u}_${ah()}`}a=e._pixiId}let l=wu[a];if(i&&n&&!l)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return l||(l=new Od(e,t),l.cacheId=a,Od.addToCache(l,a)),l}static fromBuffer(e,t,n,i){e=e||new Float32Array(t*n*4);const a=new Z_(e,{width:t,height:n,...i?.resourceOptions});let l,u;return e instanceof Float32Array?(l=Ge.RGBA,u=mt.FLOAT):e instanceof Int32Array?(l=Ge.RGBA_INTEGER,u=mt.INT):e instanceof Uint32Array?(l=Ge.RGBA_INTEGER,u=mt.UNSIGNED_INT):e instanceof Int16Array?(l=Ge.RGBA_INTEGER,u=mt.SHORT):e instanceof Uint16Array?(l=Ge.RGBA_INTEGER,u=mt.UNSIGNED_SHORT):e instanceof Int8Array?(l=Ge.RGBA,u=mt.BYTE):(l=Ge.RGBA,u=mt.UNSIGNED_BYTE),a.internal=!0,new Od(a,Object.assign({},l5,{type:u,format:l},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),wu[t]&&wu[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),wu[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=wu[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete wu[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete wu[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};jE.defaultOptions={mipmap:qo.POW2,anisotropicLevel:0,scaleMode:Pl.LINEAR,wrapMode:Dl.CLAMP,alphaMode:ma.UNPACK,target:Wd.TEXTURE_2D,format:Ge.RGBA,type:mt.UNSIGNED_BYTE},jE._globalBatch=0;let Ft=jE;class $E{constructor(){this.texArray=null,this.blend=0,this.type=us.TRIANGLES,this.start=0,this.size=0,this.data=null}}let u5=0;class Tn{constructor(e,t=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=u5++,this.disposeRunner=new Zs("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Xo.ELEMENT_ARRAY_BUFFER:Xo.ARRAY_BUFFER}get index(){return this.type===Xo.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Tn(e)}}class s_{constructor(e,t=0,n=!1,i=mt.FLOAT,a,l,u,f=1){this.buffer=e,this.size=t,this.normalized=n,this.type=i,this.stride=a,this.start=l,this.instance=u,this.divisor=f}destroy(){this.buffer=null}static from(e,t,n,i,a){return new s_(e,t,n,i,a)}}const c5={Float32Array,Uint32Array,Int32Array,Uint8Array};function h5(r,e){let t=0,n=0;const i={};for(let f=0;f<r.length;f++)n+=e[f],t+=r[f].length;const a=new ArrayBuffer(t*4);let l=null,u=0;for(let f=0;f<r.length;f++){const p=e[f],g=r[f],v=TD(g);i[v]||(i[v]=new c5[v](a)),l=i[v];for(let b=0;b<g.length;b++){const x=(b/p|0)*n+u,S=b%p;l[x+S]=g[b]}u+=p}return new Float32Array(a)}const AP={5126:4,5123:2,5121:1};let d5=0;const f5={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Vu{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=d5++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Zs("disposeGeometry"),this.refCount=0}addAttribute(e,t,n=0,i=!1,a,l,u,f=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Tn||(t instanceof Array&&(t=new Float32Array(t)),t=new Tn(t));const p=e.split("|");if(p.length>1){for(let v=0;v<p.length;v++)this.addAttribute(p[v],t,n,i,a);return this}let g=this.buffers.indexOf(t);return g===-1&&(this.buffers.push(t),g=this.buffers.length-1),this.attributes[e]=new s_(g,n,i,a,l,u,f),this.instanced=this.instanced||f,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Tn||(e instanceof Array&&(e=new Uint16Array(e)),e=new Tn(e)),e.type=Xo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],n=new Tn;let i;for(i in this.attributes){const a=this.attributes[i],l=this.buffers[a.buffer];e.push(l.data),t.push(a.size*AP[a.type]/4),a.buffer=0}for(n.data=h5(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Vu;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new Tn(this.buffers[t].data.slice(0));for(const t in this.attributes){const n=this.attributes[t];e.attributes[t]=new s_(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Xo.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Vu,n=[],i=[],a=[];let l;for(let u=0;u<e.length;u++){l=e[u];for(let f=0;f<l.buffers.length;f++)i[f]=i[f]||0,i[f]+=l.buffers[f].data.length,a[f]=0}for(let u=0;u<l.buffers.length;u++)n[u]=new f5[TD(l.buffers[u].data)](i[u]),t.buffers[u]=new Tn(n[u]);for(let u=0;u<e.length;u++){l=e[u];for(let f=0;f<l.buffers.length;f++)n[f].set(l.buffers[f].data,a[f]),a[f]+=l.buffers[f].data.length}if(t.attributes=l.attributes,l.indexBuffer){t.indexBuffer=t.buffers[l.buffers.indexOf(l.indexBuffer)],t.indexBuffer.type=Xo.ELEMENT_ARRAY_BUFFER;let u=0,f=0,p=0,g=0;for(let v=0;v<l.buffers.length;v++)if(l.buffers[v]!==l.indexBuffer){g=v;break}for(const v in l.attributes){const b=l.attributes[v];(b.buffer|0)===g&&(f+=b.size*AP[b.type]/4)}for(let v=0;v<e.length;v++){const b=e[v].indexBuffer.data;for(let x=0;x<b.length;x++)t.indexBuffer.data[x+p]+=u;u+=e[v].buffers[g].data.length/f,p+=b.length}}return t}}class wD extends Vu{constructor(e=!1){super(),this._buffer=new Tn(null,e,!1),this._indexBuffer=new Tn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,mt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,mt.FLOAT).addAttribute("aColor",this._buffer,4,!0,mt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,mt.FLOAT).addIndex(this._indexBuffer)}}const o_=Math.PI*2,p5=180/Math.PI,m5=Math.PI/180;var Ei=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(Ei||{});class $t{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new $t(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}$t.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const ay=[new $t,new $t,new $t,new $t];class Bt{constructor(e=0,t=0,n=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(i),this.type=Ei.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Bt(0,0,0,0)}clone(){return new Bt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const V=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=V)return!1;const re=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>re}const n=this.left,i=this.right,a=this.top,l=this.bottom;if(i<=n||l<=a)return!1;const u=ay[0].set(e.left,e.top),f=ay[1].set(e.left,e.bottom),p=ay[2].set(e.right,e.top),g=ay[3].set(e.right,e.bottom);if(p.x<=u.x||f.y<=u.y)return!1;const v=Math.sign(t.a*t.d-t.b*t.c);if(v===0||(t.apply(u,u),t.apply(f,f),t.apply(p,p),t.apply(g,g),Math.max(u.x,f.x,p.x,g.x)<=n||Math.min(u.x,f.x,p.x,g.x)>=i||Math.max(u.y,f.y,p.y,g.y)<=a||Math.min(u.y,f.y,p.y,g.y)>=l))return!1;const b=v*(f.y-u.y),x=v*(u.x-f.x),S=b*n+x*a,E=b*i+x*a,A=b*n+x*l,P=b*i+x*l;if(Math.max(S,E,A,P)<=b*u.x+x*u.y||Math.min(S,E,A,P)>=b*g.x+x*g.y)return!1;const L=v*(u.y-p.y),D=v*(p.x-u.x),N=L*n+D*a,M=L*i+D*a,$=L*n+D*l,U=L*i+D*l;return!(Math.max(N,M,$,U)<=L*u.x+D*u.y||Math.min(N,M,$,U)>=L*g.x+D*g.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=i,this.height=Math.max(a-i,0),this}ceil(e=1,t=.001){const n=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=i,this.height=a-i,this}}Bt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class J_{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.radius=n,this.type=Ei.CIRC}clone(){return new J_(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,a=this.y-t;return i*=i,a*=a,i+a<=n}getBounds(){return new Bt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}J_.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class e0{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.width=n,this.height=i,this.type=Ei.ELIP}clone(){return new e0(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Bt(this.x-this.width,this.y-this.height,this.width,this.height)}}e0.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class th{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const n=[];for(let i=0,a=t.length;i<a;i++)n.push(t[i].x,t[i].y);t=n}this.points=t,this.type=Ei.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new th(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let n=!1;const i=this.points.length/2;for(let a=0,l=i-1;a<i;l=a++){const u=this.points[a*2],f=this.points[a*2+1],p=this.points[l*2],g=this.points[l*2+1];f>t!=g>t&&e<(p-u)*((t-f)/(g-f))+u&&(n=!n)}return n}}th.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,e)=>`${r}, ${e}`,"")}]`};class t0{constructor(e=0,t=0,n=0,i=0,a=20){this.x=e,this.y=t,this.width=n,this.height=i,this.radius=a,this.type=Ei.RREC}clone(){return new t0(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),a=t-(this.y+n);const l=n*n;if(i*i+a*a<=l||(i=e-(this.x+this.width-n),i*i+a*a<=l)||(a=t-(this.y+this.height-n),i*i+a*a<=l)||(i=e-(this.x+n),i*i+a*a<=l))return!0}return!1}}t0.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Sr{constructor(e=1,t=0,n=0,i=1,a=0,l=0){this.array=null,this.a=e,this.b=t,this.c=n,this.d=i,this.tx=a,this.ty=l}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,i,a,l){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=a,this.ty=l,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new $t;const n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t}applyInverse(e,t){t=t||new $t;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,a=e.y;return t.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.a,a=this.c,l=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=a*t-this.d*n,this.d=a*n+this.d*t,this.tx=l*t-this.ty*n,this.ty=l*n+this.ty*t,this}append(e){const t=this.a,n=this.b,i=this.c,a=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*a,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*a,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this}setTransform(e,t,n,i,a,l,u,f,p){return this.a=Math.cos(u+p)*a,this.b=Math.sin(u+p)*a,this.c=-Math.sin(u-f)*l,this.d=Math.cos(u-f)*l,this.tx=e-(n*this.a+i*this.c),this.ty=t-(n*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,i=this.c,a=this.d,l=e.pivot,u=-Math.atan2(-i,a),f=Math.atan2(n,t),p=Math.abs(u+f);return p<1e-5||Math.abs(o_-p)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=f),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(l.x*t+l.y*i),e.position.y=this.ty+(l.x*n+l.y*a),e}invert(){const e=this.a,t=this.b,n=this.c,i=this.d,a=this.tx,l=e*i-t*n;return this.a=i/l,this.b=-t/l,this.c=-n/l,this.d=e/l,this.tx=(n*this.ty-i*a)/l,this.ty=-(e*this.ty-t*a)/l,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Sr;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Sr}static get TEMP_MATRIX(){return new Sr}}Sr.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Wc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Xc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Yc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],qc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],WE=[],AD=[],sy=Math.sign;function g5(){for(let r=0;r<16;r++){const e=[];WE.push(e);for(let t=0;t<16;t++){const n=sy(Wc[r]*Wc[t]+Yc[r]*Xc[t]),i=sy(Xc[r]*Wc[t]+qc[r]*Xc[t]),a=sy(Wc[r]*Yc[t]+Yc[r]*qc[t]),l=sy(Xc[r]*Yc[t]+qc[r]*qc[t]);for(let u=0;u<16;u++)if(Wc[u]===n&&Xc[u]===i&&Yc[u]===a&&qc[u]===l){e.push(u);break}}}for(let r=0;r<16;r++){const e=new Sr;e.set(Wc[r],Xc[r],Yc[r],qc[r],0,0),AD.push(e)}}g5();const Kr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>Wc[r],uY:r=>Xc[r],vX:r=>Yc[r],vY:r=>qc[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>WE[r][e],sub:(r,e)=>WE[r][Kr.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?Kr.S:Kr.N:Math.abs(e)*2<=Math.abs(r)?r>0?Kr.E:Kr.W:e>0?r>0?Kr.SE:Kr.SW:r>0?Kr.NE:Kr.NW,matrixAppendRotationInv:(r,e,t=0,n=0)=>{const i=AD[Kr.inv(e)];i.tx=t,i.ty=n,r.append(i)}};class ds{constructor(e,t,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new ds(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}ds.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const XE=class{constructor(){this.worldTransform=new Sr,this.localTransform=new Sr,this.position=new ds(this.onChange,this,0,0),this.scale=new ds(this.onChange,this,1,1),this.pivot=new ds(this.onChange,this,0,0),this.skew=new ds(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const t=r.worldTransform,n=this.worldTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};XE.IDENTITY=new XE;let Ym=XE;Ym.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var v5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,y5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function RP(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}function WS(r){const e=new Array(r);for(let t=0;t<e.length;t++)e[t]=!1;return e}function RD(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return WS(2*e);case"bvec3":return WS(3*e);case"bvec4":return WS(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Yd=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,e)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,e)=>r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,e)=>r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,e)=>r.type==="vec3"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],_5={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},b5={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function x5(r,e){const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in r.uniforms){const i=e[n];if(!i){r.uniforms[n]?.group===!0&&(r.uniforms[n].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const a=r.uniforms[n];let l=!1;for(let u=0;u<Yd.length;u++)if(Yd[u].test(i,a)){t.push(Yd[u].code(n,a)),l=!0;break}if(!l){const u=(i.size===1&&!i.isArray?_5:b5)[i.type].replace("location",`ud["${n}"].location`);t.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const PD={};let oy=PD;function S5(){if(oy===PD||oy?.isContextLost()){const r=tt.ADAPTER.createCanvas();let e;tt.PREFER_ENV>=oh.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),oy=e}return oy}let ly;function E5(){if(!ly){ly=cs.MEDIUM;const r=S5();if(r&&r.getShaderPrecisionFormat){const e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);e&&(ly=e.precision?cs.HIGH:cs.MEDIUM)}}return ly}function PP(r,e){const t=r.getShaderSource(e).split(`
`).map((p,g)=>`${g}: ${p}`),n=r.getShaderInfoLog(e),i=n.split(`
`),a={},l=i.map(p=>parseFloat(p.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(p=>p&&!a[p]?(a[p]=!0,!0):!1),u=[""];l.forEach(p=>{t[p-1]=`%c${t[p-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const f=t.join(`
`);u[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function T5(r,e,t,n){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||PP(r,t),r.getShaderParameter(n,r.COMPILE_STATUS)||PP(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}const C5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function MD(r){return C5[r]}let uy=null;const MP={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ID(r,e){if(!uy){const t=Object.keys(MP);uy={};for(let n=0;n<t.length;++n){const i=t[n];uy[r[i]]=MP[i]}}return uy[e]}function IP(r,e,t){if(r.substring(0,9)!=="precision"){let n=e;return e===cs.HIGH&&t!==cs.HIGH&&(n=cs.MEDIUM),`precision ${n} float;
${r}`}else if(t!==cs.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let nm;function w5(){if(typeof nm=="boolean")return nm;try{nm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{nm=!1}return nm}let A5=0;const cy={},YE=class Fd{constructor(e,t,n="pixi-shader",i={}){this.extra={},this.id=A5++,this.vertexSrc=e||Fd.defaultVertexSrc,this.fragmentSrc=t||Fd.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),cy[n]?(cy[n]++,n+=`-${cy[n]}`):cy[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=IP(this.vertexSrc,Fd.defaultVertexPrecision,cs.HIGH),this.fragmentSrc=IP(this.fragmentSrc,Fd.defaultFragmentPrecision,E5())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return y5}static get defaultFragmentSrc(){return v5}static from(e,t,n){const i=e+t;let a=EP[i];return a||(EP[i]=a=new Fd(e,t,n)),a}};YE.defaultVertexPrecision=cs.HIGH,YE.defaultFragmentPrecision=Ml.apple.device?cs.HIGH:cs.MEDIUM;let Il=YE,R5=0;class Js{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=R5++,this.static=!!t,this.ubo=!!n,e instanceof Tn?(this.buffer=e,this.buffer.type=Xo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Tn(new Float32Array(1)),this.buffer.type=Xo.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(!this.ubo)this.uniforms[e]=new Js(t,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,n){return new Js(e,t,n)}static uboFrom(e,t){return new Js(e,t??!0,!0)}}class Yo{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Js?this.uniformGroup=t:this.uniformGroup=new Js(t):this.uniformGroup=new Js({}),this.disposeRunner=new Zs("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const n in t.uniforms){const i=t.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){const i=Il.from(e,t);return new Yo(i,n)}}class P5{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let a=0;a<e;a++)n[a]=a;this.defaultGroupCache[e]=Js.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Il(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Sr,default:this.defaultGroupCache[e]};return new Yo(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+=`if(vTextureId < ${n}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class qE{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function M5(){return!Ml.apple.device}function I5(r){let e=!0;const t=tt.ADAPTER.getNavigator();if(Ml.tablet||Ml.phone){if(Ml.apple.device){const n=t.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ml.android.device){const n=t.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?r:4}class r0{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var D5=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,O5=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const mm=class Ws extends r0{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=wD,this.vertexSize=6,this.state=Jo.for2d(),this.size=Ws.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??I5(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??M5(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Qt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return O5}static get defaultFragmentTemplate(){return D5}setShaderGenerator({vertex:e=Ws.defaultVertexSrc,fragment:t=Ws.defaultFragmentTemplate}={}){this.shaderGenerator=new P5(e,t)}contextChange(){const e=this.renderer.gl;tt.PREFER_ENV===oh.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ws.defaultMaxTextures),this.maxTextures=o5(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Ws,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new $E);for(;t.length<i;)t.push(new qE);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,n=Ws._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count;let u=++Ft._globalBatch,f=0,p=n[0],g=0;i.copyBoundTextures(a,t);for(let v=0;v<this._bufferSize;++v){const b=e[v];e[v]=null,b._batchEnabled!==u&&(p.count>=t&&(i.boundArray(p,a,u,t),this.buildDrawCalls(p,g,v),g=v,p=n[++f],++u),b._batchEnabled=u,b.touched=l,p.elements[p.count++]=b)}p.count>0&&(i.boundArray(p,a,u,t),this.buildDrawCalls(p,g,this._bufferSize),++f,++u);for(let v=0;v<a.length;v++)a[v]=null;Ft._globalBatch=u}buildDrawCalls(e,t,n){const{_bufferedElements:i,_attributeBuffer:a,_indexBuffer:l,vertexSize:u}=this,f=Ws._drawCallPool;let p=this._dcIndex,g=this._aIndex,v=this._iIndex,b=f[p];b.start=this._iIndex,b.texArray=e;for(let x=t;x<n;++x){const S=i[x],E=S._texture.baseTexture,A=SD[E.alphaMode?1:0][S.blendMode];i[x]=null,t<x&&b.blend!==A&&(b.size=v-b.start,t=x,b=f[++p],b.texArray=e,b.start=v),this.packInterleavedGeometry(S,a,l,g,v),g+=S.vertexData.length/2*u,v+=S.indices.length,b.blend=A}t<n&&(b.size=v-b.start,++p),this._dcIndex=p,this._aIndex=g,this._iIndex=v}bindAndClearTexArray(e){const t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:n}=this;Ws.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:n}=this.renderer,i=Ws._drawCallPool;let a=null;for(let l=0;l<e;l++){const{texArray:u,type:f,size:p,start:g,blend:v}=i[l];a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=v,n.set(this.state),t.drawElements(f,p,t.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ws.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=a_(Math.ceil(e/8)),n=xP(t),i=t*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._aBuffers[i];return a||(this._aBuffers[i]=a=new HE(i*this.vertexSize*4)),a}getIndexBuffer(e){const t=a_(Math.ceil(e/12)),n=xP(t),i=t*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._iBuffers[n];return a||(this._iBuffers[n]=a=new Uint16Array(i)),a}packInterleavedGeometry(e,t,n,i,a){const{uint32View:l,float32View:u}=t,f=i/this.vertexSize,p=e.uvs,g=e.indices,v=e.vertexData,b=e._texture.baseTexture._batchLocation,x=Math.min(e.worldAlpha,1),S=kr.shared.setValue(e._tintRGB).toPremultiplied(x,e._texture.baseTexture.alphaMode>0);for(let E=0;E<v.length;E+=2)u[i++]=v[E],u[i++]=v[E+1],u[i++]=p[E],u[i++]=p[E+1],l[i++]=S,u[i++]=b;for(let E=0;E<g.length;E++)n[a++]=f+g[E]}};mm.defaultBatchSize=4096,mm.extension={name:"batch",type:Qe.RendererPlugin},mm._drawCallPool=[],mm._textureArrayPool=[];let Iu=mm;ct.add(Iu);var F5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,L5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const QE=class gm extends Yo{constructor(e,t,n){const i=Il.from(e||gm.defaultVertexSrc,t||gm.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=gm.defaultResolution,this.multisample=gm.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Jo}apply(e,t,n,i,a){e.applyFilter(this,t,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return L5}static get defaultFragmentSrc(){return F5}};QE.defaultResolution=1,QE.defaultMultisample=Nn.NONE;let ta=QE;class l_{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new kr(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:n,backgroundAlpha:i}=e,a=n??t;a!==void 0&&(this.color=a),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}l_.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},l_.extension={type:[Qe.RendererSystem,Qe.CanvasRendererSystem],name:"background"};ct.add(l_);class DD{constructor(e){this.renderer=e,this.emptyRenderer=new r0(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:n}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,n,i){const{elements:a,ids:l,count:u}=e;let f=0;for(let p=0;p<u;p++){const g=a[p],v=g._batchLocation;if(v>=0&&v<i&&t[v]===g){l[p]=v;continue}for(;f<i;){const b=t[f];if(b&&b._batchEnabled===n&&b._batchLocation===f){f++;continue}l[p]=f,g._batchLocation=f,t[f]=g;break}}}destroy(){this.renderer=null}}DD.extension={type:Qe.RendererSystem,name:"batch"};ct.add(DD);let DP=0;class u_{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=DP++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=DP++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(tt.PREFER_ENV>=oh.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}u_.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},u_.extension={type:Qe.RendererSystem,name:"context"};ct.add(u_);class KE{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Zs("disposeFramebuffer"),this.multisample=Nn.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new Ft(null,{scaleMode:Pl.NEAREST,resolution:1,mipmap:qo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ft(null,{scaleMode:Pl.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:qo.OFF,format:Ge.DEPTH_COMPONENT,type:mt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],a=i.resolution;i.setSize(e/a,t/a)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class OD extends Ft{constructor(e={}){if(typeof e=="number"){const t=arguments[0],n=arguments[1],i=arguments[2],a=arguments[3];e={width:t,height:n,scaleMode:i,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Nn.NONE),super(null,e),this.mipmap=qo.OFF,this.valid=!0,this._clear=new kr([0,0,0,0]),this.framebuffer=new KE(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Bl extends Bm{constructor(e){const t=e,n=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,i=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){n===void 0&&!t.startsWith("data:")?e.crossOrigin=i5(t):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,t,n,i){const a=e.gl,l=t.realWidth,u=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ma.UNPACK),!this.noSubImage&&t.target===a.TEXTURE_2D&&n.width===l&&n.height===u?a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,n.type,i):(n.width=l,n.height=u,a.texImage2D(t.target,0,n.internalFormat,t.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class FD extends Bl{constructor(e,t){if(t=t||{},typeof e=="string"){const n=new Image;Bl.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??tt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,n)=>{const i=this.source;this.url=i.src;const a=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?a():(i.onload=a,i.onerror=l=>{n(l),this.onError.emit(l)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ma.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let i=!0;const a=t._glTextures;for(const l in a){const u=a[l];if(u!==n&&u.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class c1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const i=t.width,a=t.height;if(n){const l=e.width/2/i,u=e.height/2/a,f=e.x/i+l,p=e.y/a+u;n=Kr.add(n,Kr.NW),this.x0=f+l*Kr.uX(n),this.y0=p+u*Kr.uY(n),n=Kr.add(n,2),this.x1=f+l*Kr.uX(n),this.y1=p+u*Kr.uY(n),n=Kr.add(n,2),this.x2=f+l*Kr.uX(n),this.y2=p+u*Kr.uY(n),n=Kr.add(n,2),this.x3=f+l*Kr.uX(n),this.y3=p+u*Kr.uY(n)}else this.x0=e.x/i,this.y0=e.y/a,this.x1=(e.x+e.width)/i,this.y1=e.y/a,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/a,this.x3=e.x/i,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}c1.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const OP=new c1;function hy(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}class je extends kl{constructor(e,t,n,i,a,l,u){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Bt(0,0,1,1)),e instanceof je&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=OP,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=l?new $t(l.x,l.y):new $t(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t?.url&&Fo[t.url]&&je.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,je.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),n=new je(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===OP&&(this._uvs=new c1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},n=tt.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let a=null;if(i)a=e;else if(e instanceof Ft){if(!e.cacheId){const u=t?.pixiIdPrefix||"pixiid";e.cacheId=`${u}-${ah()}`,Ft.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const u=t?.pixiIdPrefix||"pixiid";e._pixiId=`${u}_${ah()}`}a=e._pixiId}let l=Fo[a];if(i&&n&&!l)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!l&&!(e instanceof Ft)?(t.resolution||(t.resolution=Ll(e)),l=new je(new Ft(e,t)),l.baseTexture.cacheId=a,Ft.addToCache(l.baseTexture,a),je.addToCache(l,a)):!l&&e instanceof Ft&&(l=new je(e),je.addToCache(l,a)),l}static fromURL(e,t){const n=Object.assign({autoLoad:!1},t?.resourceOptions),i=je.from(e,Object.assign({resourceOptions:n},t),!1),a=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):a.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,n,i){return new je(Ft.fromBuffer(e,t,n,i))}static fromLoader(e,t,n,i){const a=new Ft(e,Object.assign({scaleMode:Ft.defaultOptions.scaleMode,resolution:Ll(t)},i)),{resource:l}=a;l instanceof FD&&(l.url=t);const u=new je(a);return n||(n=t),Ft.addToCache(u.baseTexture,n),je.addToCache(u,n),n!==t&&(Ft.addToCache(u.baseTexture,t),je.addToCache(u,t)),u.baseTexture.valid?Promise.resolve(u):new Promise(f=>{u.baseTexture.once("loaded",()=>f(u))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Fo[t]&&Fo[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),Fo[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Fo[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Fo[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)Fo[e.textureCacheIds[t]]===e&&delete Fo[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:n,width:i,height:a}=e,l=t+i>this.baseTexture.width,u=n+a>this.baseTexture.height;if(l||u){const f=l&&u?"and":"or",p=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,g=`Y: ${n} + ${a} = ${n+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${p} ${f} ${g}`)}this.valid=i&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return je._EMPTY||(je._EMPTY=new je(new Ft),hy(je._EMPTY),hy(je._EMPTY.baseTexture)),je._EMPTY}static get WHITE(){if(!je._WHITE){const e=tt.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),je._WHITE=new je(Ft.from(e)),hy(je._WHITE),hy(je._WHITE.baseTexture)}return je._WHITE}}class lh extends je{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,n=!0){const i=this.baseTexture.resolution,a=Math.round(e*i)/i,l=Math.round(t*i)/i;this.valid=a>0&&l>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=l,n&&this.baseTexture.resize(a,l),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new lh(new OD(e))}}class LD{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,n=Nn.NONE){const i=new OD(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new lh(i)}getOptimalTexture(e,t,n=1,i=Nn.NONE){let a;e=Math.max(Math.ceil(e*n-1e-6),1),t=Math.max(Math.ceil(t*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=a_(e),t=a_(t),a=((e&65535)<<16|t&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);let l=this.texturePool[a].pop();return l||(l=this.createTexture(e,t,i)),l.filterPoolKey=a,l.setResolution(n),l}getFilterTexture(e,t,n){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||Nn.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const n=this.texturePool[t];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}LD.SCREEN_KEY=-1;class B5 extends Vu{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class BD extends Vu{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Tn(this.vertices),this.uvBuffer=new Tn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+t.width/e.width,this.uvs[3]=i,this.uvs[4]=n+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=n,this.uvs[7]=i+t.height/e.height,n=t.x,i=t.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+t.width,this.vertices[3]=i,this.vertices[4]=n+t.width,this.vertices[5]=i+t.height,this.vertices[6]=n,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class N5{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Nn.NONE,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.bindingSourceFrame=new Bt,this.bindingDestinationFrame=new Bt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const dy=[new $t,new $t,new $t,new $t],XS=new Sr;class ND{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new LD,this.statePool=[],this.quad=new B5,this.quadUv=new BD,this.tempRect=new Bt,this.activeState={},this.globalUniforms=new Js({outputFrame:new Bt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const n=this.renderer,i=this.defaultFilterStack,a=this.statePool.pop()||new N5,l=n.renderTexture;let u,f;if(l.current){const A=l.current;u=A.resolution,f=A.multisample}else u=n.resolution,f=n.multisample;let p=t[0].resolution||u,g=t[0].multisample??f,v=t[0].padding,b=t[0].autoFit,x=t[0].legacy??!0;for(let A=1;A<t.length;A++){const P=t[A];p=Math.min(p,P.resolution||u),g=Math.min(g,P.multisample??f),v=this.useMaxPadding?Math.max(v,P.padding):v+P.padding,b=b&&P.autoFit,x=x||(P.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),i.push(a),a.resolution=p,a.multisample=g,a.legacy=x,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(v);const S=this.tempRect.copyFrom(l.sourceFrame);n.projection.transform&&this.transformAABB(XS.copyFrom(n.projection.transform).invert(),S),b?(a.sourceFrame.fit(S),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(S)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,l.current?l.current.resolution:n.resolution,l.sourceFrame,l.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,p,g),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const E=this.tempRect;E.x=0,E.y=0,E.width=a.sourceFrame.width,E.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,E),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const a=i.inputSize,l=i.inputPixel,u=i.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],l[0]=Math.round(a[0]*t.resolution),l[1]=Math.round(a[1]*t.resolution),l[2]=1/l[0],l[3]=1/l[1],u[0]=.5*l[2],u[1]=.5*l[3],u[2]=t.sourceFrame.width*a[2]-.5*l[2],u[3]=t.sourceFrame.height*a[3]-.5*l[3],t.legacy){const p=i.filterArea;p[0]=t.destinationFrame.width,p[1]=t.destinationFrame.height,p[2]=t.sourceFrame.x,p[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const f=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,f.renderTexture,Vo.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let p=t.renderTexture,g=this.getOptimalFilterTexture(p.width,p.height,t.resolution);g.filterFrame=p.filterFrame;let v=0;for(v=0;v<n.length-1;++v){v===1&&t.multisample>1&&(g=this.getOptimalFilterTexture(p.width,p.height,t.resolution),g.filterFrame=p.filterFrame),n[v].apply(this,p,g,Vo.CLEAR,t);const b=p;p=g,g=b}n[v].apply(this,p,f.renderTexture,Vo.BLEND,t),v>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(p),this.returnFilterTexture(g)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Vo.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const l=this.tempRect;l.x=0,l.y=0,l.width=e.filterFrame.width,l.height=e.filterFrame.height,n.bind(e,e.filterFrame,l)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=i.stateId&1||this.forceClear;(t===Vo.CLEAR||t===Vo.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,i){const a=this.renderer;a.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(us.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(us.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:a}=t._texture,l=e.set(i.width,0,0,i.height,n.x,n.y),u=t.worldTransform.copyTo(Sr.TEMP_MATRIX);return u.invert(),l.prepend(u),l.scale(1/a.width,1/a.height),l.translate(t.anchor.x,t.anchor.y),l}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,n=1,i=Nn.NONE){return this.texturePool.getOptimalTexture(e,t,n,i)}getFilterTexture(e,t,n){if(typeof e=="number"){const a=e;e=t,t=a}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||Nn.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const n=dy[0],i=dy[1],a=dy[2],l=dy[3];n.set(t.left,t.top),i.set(t.left,t.bottom),a.set(t.right,t.top),l.set(t.right,t.bottom),e.apply(n,n),e.apply(i,i),e.apply(a,a),e.apply(l,l);const u=Math.min(n.x,i.x,a.x,l.x),f=Math.min(n.y,i.y,a.y,l.y),p=Math.max(n.x,i.x,a.x,l.x),g=Math.max(n.y,i.y,a.y,l.y);t.x=u,t.y=f,t.width=p-u,t.height=g-f}roundFrame(e,t,n,i,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){const{a:l,b:u,c:f,d:p}=a;if((Math.abs(u)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(p)>1e-4))return}a=a?XS.copyFrom(a):XS.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,e),e.ceil(t),this.transformAABB(a.invert(),e)}}}ND.extension={type:Qe.RendererSystem,name:"filter"};ct.add(ND);class U5{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Nn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const k5=new Bt;class UD{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new KE(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Bt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;tt.PREFER_ENV===oh.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,n=0){const{gl:i}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let l=0;l<e.colorTextures.length;l++){const u=e.colorTextures[l];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const l=t.width>>n,u=t.height>>n,f=l/t.width;this.setViewport(t.x*f,t.y*f,l,u)}else{const l=e.width>>n,u=e.height>>n;this.setViewport(0,0,l,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,i){const a=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==e||a.y!==t)&&(a.x=e,a.y=t,a.width=n,a.height=i,this.gl.viewport(e,t,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,i,a=NE.COLOR|NE.DEPTH){const{gl:l}=this;l.clearColor(e,t,n,i),l.clear(a)}initFramebuffer(e){const{gl:t}=this,n=new U5(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){t.bindRenderbuffer(t.RENDERBUFFER,n.stencil);let l;this.renderer.context.webGLVersion===1?l=t.DEPTH_STENCIL:e.depth&&e.stencil?l=t.DEPTH24_STENCIL8:e.depth?l=t.DEPTH_COMPONENT24:l=t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,l,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,l,e.width,e.height)}const i=e.colorTextures;let a=i.length;t.drawBuffers||(a=Math.min(a,1));for(let l=0;l<a;l++){const u=i[l],f=u.parentTextureArray||u;this.renderer.texture.bind(f,0),l===0&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let l=a.length;n.drawBuffers||(l=Math.min(l,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let f=0;f<l;f++){const p=a[f],g=p.parentTextureArray||p;this.renderer.texture.bind(g,0),f===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,p.target,g._glTextures[this.CONTEXT_UID].texture,t),u.push(n.COLOR_ATTACHMENT0+f))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const f=e.depthTexture;this.renderer.texture.bind(f,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let f,p;this.renderer.context.webGLVersion===1?(f=n.DEPTH_STENCIL_ATTACHMENT,p=n.DEPTH_STENCIL):e.depth&&e.stencil?(f=n.DEPTH_STENCIL_ATTACHMENT,p=n.DEPTH24_STENCIL8):e.depth?(f=n.DEPTH_ATTACHMENT,p=n.DEPTH_COMPONENT24):(f=n.STENCIL_ATTACHMENT,p=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,p,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,p,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,f,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let n=Nn.NONE;if(e<=1||t===null)return n;for(let i=0;i<t.length;i++)if(t[i]<=e){n=t[i];break}return n===1&&(n=Nn.NONE),n}blit(e,t,n){const{current:i,renderer:a,gl:l,CONTEXT_UID:u}=this;if(a.context.webGLVersion!==2||!i)return;const f=i.glFramebuffers[u];if(!f)return;if(!e){if(!f.msaaBuffer)return;const g=i.colorTextures[0];if(!g)return;f.blitFramebuffer||(f.blitFramebuffer=new KE(i.width,i.height),f.blitFramebuffer.addColorTexture(0,g)),e=f.blitFramebuffer,e.colorTextures[0]!==g&&(e.colorTextures[0]=g,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=k5,t.width=i.width,t.height=i.height),n||(n=t);const p=t.width===n.width&&t.height===n.height;this.bind(e),l.bindFramebuffer(l.READ_FRAMEBUFFER,f.framebuffer),l.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,l.COLOR_BUFFER_BIT,p?l.NEAREST:l.LINEAR),l.bindFramebuffer(l.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,a=this.gl,l=t.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,l);let u,f;this.renderer.context.webGLVersion===1?(u=a.DEPTH_STENCIL_ATTACHMENT,f=a.DEPTH_STENCIL):e.depth?(u=a.DEPTH_STENCIL_ATTACHMENT,f=a.DEPTH24_STENCIL8):(u=a.STENCIL_ATTACHMENT,f=a.STENCIL_INDEX8),t.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,t.multisample,f,n,i):a.renderbufferStorage(a.RENDERBUFFER,f,n,i),a.framebufferRenderbuffer(a.FRAMEBUFFER,u,a.RENDERBUFFER,l)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Bt}destroy(){this.renderer=null}}UD.extension={type:Qe.RendererSystem,name:"framebuffer"};ct.add(UD);const YS={5126:4,5123:2,5121:1};class kD{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;tt.PREFER_ENV===oh.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,a)=>n.vertexAttribDivisorANGLE(i,a),e.drawElementsInstanced=(i,a,l,u,f)=>n.drawElementsInstancedANGLE(i,a,l,u,f),e.drawArraysInstanced=(i,a,l,u)=>n.drawArraysInstancedANGLE(i,a,l,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);const l=i[t.program.id]||this.initGeometryVao(e,t,a);this._activeGeometry=e,this._activeVao!==l&&(this._activeVao=l,this.hasVao?n.bindVertexArray(l):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];t.update(i)}}checkCompatibility(e,t){const n=e.attributes,i=t.attributeData;for(const a in i)if(!n[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,t){const n=e.attributes,i=t.attributeData,a=["g",e.id];for(const l in n)i[l]&&a.push(l,i[l].location);return a.join("-")}initGeometryVao(e,t,n=!0){const i=this.gl,a=this.CONTEXT_UID,l=this.renderer.buffer,u=t.program;u.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,u);const f=this.getSignature(e,u),p=e.glVertexArrayObjects[this.CONTEXT_UID];let g=p[f];if(g)return p[u.id]=g,g;const v=e.buffers,b=e.attributes,x={},S={};for(const E in v)x[E]=0,S[E]=0;for(const E in b)!b[E].size&&u.attributeData[E]?b[E].size=u.attributeData[E].size:b[E].size||console.warn(`PIXI Geometry attribute '${E}' size cannot be determined (likely the bound shader does not have the attribute)`),x[b[E].buffer]+=b[E].size*YS[b[E].type];for(const E in b){const A=b[E],P=A.size;A.stride===void 0&&(x[A.buffer]===P*YS[A.type]?A.stride=0:A.stride=x[A.buffer]),A.start===void 0&&(A.start=S[A.buffer],S[A.buffer]+=P*YS[A.type])}g=i.createVertexArray(),i.bindVertexArray(g);for(let E=0;E<v.length;E++){const A=v[E];l.bind(A),n&&A._glBuffers[a].refCount++}return this.activateVao(e,u),p[u.id]=g,p[f]=g,i.bindVertexArray(null),l.unbind(Xo.ARRAY_BUFFER),g}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,a=e.buffers,l=this.renderer?.buffer;if(e.disposeRunner.remove(this),!!n){if(l)for(let u=0;u<a.length;u++){const f=a[u]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!t&&l.dispose(a[u],t))}if(!t){for(const u in n)if(u[0]==="g"){const f=n[u];this._activeVao===f&&this.unbind(),i.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){const n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,l=e.buffers,u=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let f=null;for(const p in u){const g=u[p],v=l[g.buffer],b=v._glBuffers[i];if(t.attributeData[p]){f!==b&&(a.bind(v),f=b);const x=t.attributeData[p].location;if(n.enableVertexAttribArray(x),n.vertexAttribPointer(x,g.size,g.type||n.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)n.vertexAttribDivisor(x,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,n,i){const{gl:a}=this,l=this._activeGeometry;if(l.indexBuffer){const u=l.indexBuffer.data.BYTES_PER_ELEMENT,f=u===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?l.instanced?a.drawElementsInstanced(e,t||l.indexBuffer.data.length,f,(n||0)*u,i||1):a.drawElements(e,t||l.indexBuffer.data.length,f,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else l.instanced?a.drawArraysInstanced(e,n,t||l.getSize(),i||1):a.drawArrays(e,n,t||l.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}kD.extension={type:Qe.RendererSystem,name:"geometry"};ct.add(kD);const FP=new Sr;class h1{constructor(e,t){this._texture=e,this.mapCoord=new Sr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const a=e[i],l=e[i+1];t[i]=a*n.a+l*n.c+n.tx,t[i+1]=a*n.b+l*n.d+n.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=t.orig,a=t.trim;a&&(FP.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(FP));const l=t.baseTexture,u=this.uClampFrame,f=this.clampMargin/l.resolution,p=this.clampOffset;return u[0]=(t._frame.x+f+p)/l.width,u[1]=(t._frame.y+f+p)/l.height,u[2]=(t._frame.x+t._frame.width-f+p)/l.width,u[3]=(t._frame.y+t._frame.height-f+p)/l.height,this.uClampOffset[0]=p/l.realWidth,this.uClampOffset[1]=p/l.realHeight,this.isSimple=t._frame.width===l.width&&t._frame.height===l.height&&t.rotate===0,!0}}var z5=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,G5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class H5 extends ta{constructor(e,t,n){let i=null;typeof e!="string"&&t===void 0&&n===void 0&&(i=e,e=void 0,t=void 0,n=void 0),super(e||G5,t||z5,n),this.maskSprite=i,this.maskMatrix=new Sr}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,i){const a=this._maskSprite,l=a._texture;l.valid&&(l.uvMatrix||(l.uvMatrix=new h1(l,0)),l.uvMatrix.update(),this.uniforms.npmAlpha=l.baseTexture.alphaMode?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(l.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=l.uvMatrix.uClampFrame,e.applyFilter(this,t,n,i))}}class V5{constructor(e=null){this.type=Zn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ta.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Zn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class zD{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){const a=this.maskDataPool.pop()||new V5;a.pooled=!0,a.maskObject=t,n=a}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Zn.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Zn.SCISSOR:this.renderer.scissor.push(n);break;case Zn.STENCIL:this.renderer.stencil.push(n);break;case Zn.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Zn.COLOR:this.pushColorMask(n);break}n.type===Zn.SPRITE&&this.maskStack.push(n)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Zn.SCISSOR:this.renderer.scissor.pop(t);break;case Zn.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Zn.SPRITE:this.popSpriteMask(t);break;case Zn.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Zn.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Zn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Zn.SCISSOR:e.type=Zn.STENCIL:e.type=Zn.COLOR}pushSpriteMask(e){const{maskObject:t}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new H5])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;const a=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}zD.extension={type:Qe.RendererSystem,name:"mask"};ct.add(zD);class GD{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const LP=new Sr,BP=[],HD=class Vy extends GD{constructor(e){super(e),this.glConst=tt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,a=i.renderTexture,l=n.getBounds(!0,BP.pop()??new Bt);this.roundFrameToPixels(l,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),t&&l.fit(t),e._scissorRectLocal=l}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:n,c:i,d:a}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Vy.isMatrixRotated(t.worldTransform)||Vy.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,t,n,i,a){Vy.isMatrixRotated(a)||(a=a?LP.copyFrom(a):LP.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(a,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&BP.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};HD.extension={type:Qe.RendererSystem,name:"scissor"};let j5=HD;ct.add(j5);class VD extends GD{constructor(e){super(e),this.glConst=tt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(e._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}VD.extension={type:Qe.RendererSystem,name:"stencil"};ct.add(VD);class jD{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Qt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Qt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Qt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}jD.extension={type:[Qe.RendererSystem,Qe.CanvasRendererSystem],name:"_plugin"};ct.add(jD);class $D{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Sr,this.transform=null}update(e,t,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,t,n,i){const a=this.projectionMatrix,l=i?-1:1;a.identity(),a.a=1/t.width*2,a.d=l*(1/t.height*2),a.tx=-1-t.x*a.a,a.ty=-l-t.y*a.d}setTransform(e){}destroy(){this.renderer=null}}$D.extension={type:Qe.RendererSystem,name:"projection"};ct.add($D);const $5=new Ym,NP=new Bt;class WD{constructor(e){this.renderer=e,this._tempMatrix=new Sr}generateTexture(e,t){const{region:n,...i}=t||{},a=n?.copyTo(NP)||e.getLocalBounds(NP,!0),l=i.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/l),a.height=Math.max(a.height,1/l),i.width=a.width,i.height=a.height,i.resolution=l,i.multisample??(i.multisample=this.renderer.multisample);const u=lh.create(i);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const f=e.transform;return e.transform=$5,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=f,u}destroy(){}}WD.extension={type:[Qe.RendererSystem,Qe.CanvasRendererSystem],name:"textureGenerator"};ct.add(WD);const kc=new Bt,im=new Bt;class XD{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.viewportFrame=new Bt}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,n){const i=this.renderer;this.current=e;let a,l,u;e?(a=e.baseTexture,u=a.resolution,t||(kc.width=e.frame.width,kc.height=e.frame.height,t=kc),n||(im.x=e.frame.x,im.y=e.frame.y,im.width=t.width,im.height=t.height,n=im),l=a.framebuffer):(u=i.resolution,t||(kc.width=i._view.screen.width,kc.height=i._view.screen.height,t=kc),n||(n=kc,n.width=t.width,n.height=t.height));const f=this.viewportFrame;f.x=n.x*u,f.y=n.y*u,f.width=n.width*u,f.height=n.height*u,e||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(l,f),this.renderer.projection.update(n,t,u,!l),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=kr.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const a=this.destinationFrame,l=this.current?this.current.baseTexture:this.renderer._view.screen,u=a.width!==l.width||a.height!==l.height;if(u){let{x:f,y:p,width:g,height:v}=this.viewportFrame;f=Math.round(f),p=Math.round(p),g=Math.round(g),v=Math.round(v),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(f,p,g,v)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}XD.extension={type:Qe.RendererSystem,name:"renderTexture"};ct.add(XD);class W5{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function X5(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const a=e.getActiveAttrib(r,i);if(a.name.startsWith("gl_"))continue;const l=ID(e,a.type),u={type:l,name:a.name,size:MD(l),location:e.getAttribLocation(r,a.name)};t[a.name]=u}return t}function Y5(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const a=e.getActiveUniform(r,i),l=a.name.replace(/\[.*?\]$/,""),u=!!a.name.match(/\[.*?\]$/),f=ID(e,a.type);t[l]={name:l,index:i,type:f,size:a.size,isArray:u,value:RD(f,a.size)}}return t}function q5(r,e){const t=RP(r,r.VERTEX_SHADER,e.vertexSrc),n=RP(r,r.FRAGMENT_SHADER,e.fragmentSrc),i=r.createProgram();r.attachShader(i,t),r.attachShader(i,n);const a=e.extra?.transformFeedbackVaryings;if(a&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(i,a.names,a.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||T5(r,i,t,n),e.attributeData=X5(i,r),e.uniformData=Y5(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((f,p)=>f>p?1:-1);for(let f=0;f<u.length;f++)e.attributeData[u[f]].location=f,r.bindAttribLocation(i,f,u[f]);r.linkProgram(i)}r.deleteShader(t),r.deleteShader(n);const l={};for(const u in e.uniformData){const f=e.uniformData[u];l[u]={location:r.getUniformLocation(i,u),value:RD(f.type,f.size)}}return new W5(i,l)}function Q5(r,e,t,n,i){t.buffer.update(i)}const K5={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},YD={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Z5(r){const e=r.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let t=0,n=0,i=0;for(let a=0;a<e.length;a++){const l=e[a];if(t=YD[l.data.type],l.data.size>1&&(t=Math.max(t,16)*l.data.size),l.dataLen=t,n%t!==0&&n<16){const u=n%t%16;n+=u,i+=u}n+t>16?(i=Math.ceil(i/16)*16,l.offset=i,i+=t,n=t):(l.offset=i,n+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function J5(r,e){const t=[];for(const n in r)e[n]&&t.push(e[n]);return t.sort((n,i)=>n.index-i.index),t}function ez(r,e){if(!r.autoManage)return{size:0,syncFunc:Q5};const t=J5(r.uniforms,e),{uboElements:n,size:i}=Z5(t),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let l=0;l<n.length;l++){const u=n[l],f=r.uniforms[u.data.name],p=u.data.name;let g=!1;for(let v=0;v<Yd.length;v++){const b=Yd[v];if(b.codeUbo&&b.test(u.data,f)){a.push(`offset = ${u.offset/4};`,Yd[v].codeUbo(u.data.name,f)),g=!0;break}}if(!g)if(u.data.size>1){const v=MD(u.data.type),b=Math.max(YD[u.data.type]/16,1),x=v/b,S=(4-x%4)%4;a.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*b}; i++)
                {
                    for(var j = 0; j < ${x}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${S};
                }

                `)}else{const v=K5[u.data.type];a.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${u.offset/4};
                ${v};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let tz=0;const fy={textureCount:0,uboCount:0};class qD{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=tz++}systemCheck(){if(!w5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),t||(fy.textureCount=0,fy.uboCount=0,this.syncUniformGroup(e.uniformGroup,fy)),i}setUniforms(e){const t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=x5(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,fy,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const l=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[l];if(u||(u=this._uboCache[l]=ez(e,this.shader.program.uniformData)),e.autoManage){const f=new Float32Array(u.size/4);e.buffer.update(f)}return t.uniformGroups[e.id]=u.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){const i=e.uniforms,a=[`${n}-`];for(const l in i)a.push(l),t[l]&&a.push(t[l].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,n=e.program,i=q5(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}qD.extension={type:Qe.RendererSystem,name:"shader"};ct.add(qD);class c_{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}c_.defaultOptions={hello:!1},c_.extension={type:[Qe.RendererSystem,Qe.CanvasRendererSystem],name:"startup"};ct.add(c_);function rz(r,e=[]){return e[wt.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.ADD]=[r.ONE,r.ONE],e[wt.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.NONE]=[0,0],e[wt.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[wt.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[wt.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[wt.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[wt.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[wt.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[wt.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[wt.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[wt.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[wt.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[wt.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}const nz=0,iz=1,az=2,sz=3,oz=4,lz=5,QD=class ZE{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=wt.NONE,this._blendEq=!1,this.map=[],this.map[nz]=this.setBlend,this.map[iz]=this.setOffset,this.map[az]=this.setCullFace,this.map[sz]=this.setDepthTest,this.map[oz]=this.setFrontFace,this.map[lz]=this.setDepthMask,this.checks=[],this.defaultState=new Jo,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=rz(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(ZE.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(ZE.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};QD.extension={type:Qe.RendererSystem,name:"state"};let uz=QD;ct.add(uz);class cz extends kl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(i=>e.systems[i]),n=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Zs(t)})}addSystem(e,t){const n=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=n,this._systemsHash[t]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,t){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const a=n.find(l=>this._systemsHash[l]===i);i[e.name](t[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const vm=class jy{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=jy.defaultMaxIdle,this.checkCountMax=jy.defaultCheckCountMax,this.mode=jy.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==s1.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let n=!1;for(let i=0;i<t.length;i++){const a=t[i];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[i]=null,n=!0)}if(n){let i=0;for(let a=0;a<t.length;a++)t[a]!==null&&(t[i++]=t[a]);t.length=i}}unload(e){const t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};vm.defaultMode=s1.AUTO,vm.defaultMaxIdle=3600,vm.defaultCheckCountMax=600,vm.extension={type:Qe.RendererSystem,name:"textureGC"};let Qc=vm;ct.add(Qc);class qS{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=mt.UNSIGNED_BYTE,this.internalFormat=Ge.RGBA,this.samplerType=0}}function hz(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[r.RGB]:et.FLOAT,[r.RGBA]:et.FLOAT,[r.ALPHA]:et.FLOAT,[r.LUMINANCE]:et.FLOAT,[r.LUMINANCE_ALPHA]:et.FLOAT,[r.R8]:et.FLOAT,[r.R8_SNORM]:et.FLOAT,[r.RG8]:et.FLOAT,[r.RG8_SNORM]:et.FLOAT,[r.RGB8]:et.FLOAT,[r.RGB8_SNORM]:et.FLOAT,[r.RGB565]:et.FLOAT,[r.RGBA4]:et.FLOAT,[r.RGB5_A1]:et.FLOAT,[r.RGBA8]:et.FLOAT,[r.RGBA8_SNORM]:et.FLOAT,[r.RGB10_A2]:et.FLOAT,[r.RGB10_A2UI]:et.FLOAT,[r.SRGB8]:et.FLOAT,[r.SRGB8_ALPHA8]:et.FLOAT,[r.R16F]:et.FLOAT,[r.RG16F]:et.FLOAT,[r.RGB16F]:et.FLOAT,[r.RGBA16F]:et.FLOAT,[r.R32F]:et.FLOAT,[r.RG32F]:et.FLOAT,[r.RGB32F]:et.FLOAT,[r.RGBA32F]:et.FLOAT,[r.R11F_G11F_B10F]:et.FLOAT,[r.RGB9_E5]:et.FLOAT,[r.R8I]:et.INT,[r.R8UI]:et.UINT,[r.R16I]:et.INT,[r.R16UI]:et.UINT,[r.R32I]:et.INT,[r.R32UI]:et.UINT,[r.RG8I]:et.INT,[r.RG8UI]:et.UINT,[r.RG16I]:et.INT,[r.RG16UI]:et.UINT,[r.RG32I]:et.INT,[r.RG32UI]:et.UINT,[r.RGB8I]:et.INT,[r.RGB8UI]:et.UINT,[r.RGB16I]:et.INT,[r.RGB16UI]:et.UINT,[r.RGB32I]:et.INT,[r.RGB32UI]:et.UINT,[r.RGBA8I]:et.INT,[r.RGBA8UI]:et.UINT,[r.RGBA16I]:et.INT,[r.RGBA16UI]:et.UINT,[r.RGBA32I]:et.INT,[r.RGBA32UI]:et.UINT,[r.DEPTH_COMPONENT16]:et.FLOAT,[r.DEPTH_COMPONENT24]:et.FLOAT,[r.DEPTH_COMPONENT32F]:et.FLOAT,[r.DEPTH_STENCIL]:et.FLOAT,[r.DEPTH24_STENCIL8]:et.FLOAT,[r.DEPTH32F_STENCIL8]:et.FLOAT}:e={[r.RGB]:et.FLOAT,[r.RGBA]:et.FLOAT,[r.ALPHA]:et.FLOAT,[r.LUMINANCE]:et.FLOAT,[r.LUMINANCE_ALPHA]:et.FLOAT,[r.DEPTH_STENCIL]:et.FLOAT},e}function dz(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[mt.UNSIGNED_BYTE]:{[Ge.RGBA]:r.RGBA8,[Ge.RGB]:r.RGB8,[Ge.RG]:r.RG8,[Ge.RED]:r.R8,[Ge.RGBA_INTEGER]:r.RGBA8UI,[Ge.RGB_INTEGER]:r.RGB8UI,[Ge.RG_INTEGER]:r.RG8UI,[Ge.RED_INTEGER]:r.R8UI,[Ge.ALPHA]:r.ALPHA,[Ge.LUMINANCE]:r.LUMINANCE,[Ge.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[mt.BYTE]:{[Ge.RGBA]:r.RGBA8_SNORM,[Ge.RGB]:r.RGB8_SNORM,[Ge.RG]:r.RG8_SNORM,[Ge.RED]:r.R8_SNORM,[Ge.RGBA_INTEGER]:r.RGBA8I,[Ge.RGB_INTEGER]:r.RGB8I,[Ge.RG_INTEGER]:r.RG8I,[Ge.RED_INTEGER]:r.R8I},[mt.UNSIGNED_SHORT]:{[Ge.RGBA_INTEGER]:r.RGBA16UI,[Ge.RGB_INTEGER]:r.RGB16UI,[Ge.RG_INTEGER]:r.RG16UI,[Ge.RED_INTEGER]:r.R16UI,[Ge.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[mt.SHORT]:{[Ge.RGBA_INTEGER]:r.RGBA16I,[Ge.RGB_INTEGER]:r.RGB16I,[Ge.RG_INTEGER]:r.RG16I,[Ge.RED_INTEGER]:r.R16I},[mt.UNSIGNED_INT]:{[Ge.RGBA_INTEGER]:r.RGBA32UI,[Ge.RGB_INTEGER]:r.RGB32UI,[Ge.RG_INTEGER]:r.RG32UI,[Ge.RED_INTEGER]:r.R32UI,[Ge.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[mt.INT]:{[Ge.RGBA_INTEGER]:r.RGBA32I,[Ge.RGB_INTEGER]:r.RGB32I,[Ge.RG_INTEGER]:r.RG32I,[Ge.RED_INTEGER]:r.R32I},[mt.FLOAT]:{[Ge.RGBA]:r.RGBA32F,[Ge.RGB]:r.RGB32F,[Ge.RG]:r.RG32F,[Ge.RED]:r.R32F,[Ge.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[mt.HALF_FLOAT]:{[Ge.RGBA]:r.RGBA16F,[Ge.RGB]:r.RGB16F,[Ge.RG]:r.RG16F,[Ge.RED]:r.R16F},[mt.UNSIGNED_SHORT_5_6_5]:{[Ge.RGB]:r.RGB565},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Ge.RGBA]:r.RGBA4},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Ge.RGBA]:r.RGB5_A1},[mt.UNSIGNED_INT_2_10_10_10_REV]:{[Ge.RGBA]:r.RGB10_A2,[Ge.RGBA_INTEGER]:r.RGB10_A2UI},[mt.UNSIGNED_INT_10F_11F_11F_REV]:{[Ge.RGB]:r.R11F_G11F_B10F},[mt.UNSIGNED_INT_5_9_9_9_REV]:{[Ge.RGB]:r.RGB9_E5},[mt.UNSIGNED_INT_24_8]:{[Ge.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[mt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ge.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:e={[mt.UNSIGNED_BYTE]:{[Ge.RGBA]:r.RGBA,[Ge.RGB]:r.RGB,[Ge.ALPHA]:r.ALPHA,[Ge.LUMINANCE]:r.LUMINANCE,[Ge.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[mt.UNSIGNED_SHORT_5_6_5]:{[Ge.RGB]:r.RGB},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Ge.RGBA]:r.RGBA},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Ge.RGBA]:r.RGBA}},e}class KD{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ft,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=dz(e),this.samplerTypes=hz(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new qS(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new qS(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){const{gl:n}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let a=e-1;a>=0;--a){const l=t[a];l&&l._glTextures[i].samplerType!==et.FLOAT&&this.renderer.texture.unbind(l)}}initTexture(e){const t=new qS(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??et.FLOAT,this.webGLVersion===2&&e.type===mt.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const n=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(n,e,t))t.samplerType!==et.FLOAT&&(this.hasIntegerTextures=!0);else{const i=e.realWidth,a=e.realHeight,l=n.gl;(t.width!==i||t.height!==a||t.dirtyId<0)&&(t.width=i,t.height=a,l.texImage2D(e.target,0,t.internalFormat,i,a,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const i=this.managedTextures.indexOf(e);i!==-1&&Xd(this.managedTextures,i,1)}}updateTextureStyle(e){const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===qo.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=Dl.CLAMP:t.wrapMode=e.wrapMode,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const n=this.gl;if(t.mipmap&&e.mipmap!==qo.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Pl.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Pl.LINEAR){const a=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Pl.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Pl.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}KD.extension={type:Qe.RendererSystem,name:"texture"};ct.add(KD);class ZD{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:n,renderer:i}=this;t&&i.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:n,CONTEXT_UID:i}=this,a=t.createTransformFeedback();e._glTransformFeedbacks[i]=a,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a);for(let l=0;l<e.buffers.length;l++){const u=e.buffers[l];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,l,u._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,t){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let l=0;l<e.buffers.length;l++){const u=e.buffers[l];if(!u)continue;const f=u._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!t&&a.dispose(u,t))}n&&(t||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}ZD.extension={type:Qe.RendererSystem,name:"transformFeedback"};ct.add(ZD);class h_{constructor(e){this.renderer=e}init(e){this.screen=new Bt(0,0,e.width,e.height),this.element=e.view||tt.ADAPTER.createCanvas(),this.resolution=e.resolution||tt.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}h_.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},h_.extension={type:[Qe.RendererSystem,Qe.CanvasRendererSystem],name:"_view"};ct.add(h_);tt.PREFER_ENV=oh.WEBGL2;tt.STRICT_TEXTURE_CACHE=!1;tt.RENDER_OPTIONS={...u_.defaultOptions,...l_.defaultOptions,...h_.defaultOptions,...c_.defaultOptions};Object.defineProperties(tt,{WRAP_MODE:{get(){return Ft.defaultOptions.wrapMode},set(r){Qt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ft.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return Ft.defaultOptions.scaleMode},set(r){Qt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ft.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return Ft.defaultOptions.mipmap},set(r){Qt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ft.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return Ft.defaultOptions.anisotropicLevel},set(r){Qt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ft.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return Qt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ta.defaultResolution},set(r){ta.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return Qt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ta.defaultMultisample},set(r){ta.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return Iu.defaultMaxTextures},set(r){Qt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Iu.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return Iu.defaultBatchSize},set(r){Qt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Iu.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return Iu.canUploadSameBuffer},set(r){Qt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Iu.canUploadSameBuffer=r}},GC_MODE:{get(){return Qc.defaultMode},set(r){Qt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Qc.defaultMode=r}},GC_MAX_IDLE:{get(){return Qc.defaultMaxIdle},set(r){Qt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Qc.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return Qc.defaultCheckCountMax},set(r){Qt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Qc.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return Il.defaultVertexPrecision},set(r){Qt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Il.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return Il.defaultFragmentPrecision},set(r){Qt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Il.defaultFragmentPrecision=r}}});var ju=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(ju||{});class QS{constructor(e,t=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const JD=class Da{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new QS(null,null,1/0),this.deltaMS=1/Da.targetFPMS,this.elapsedMS=1/Da.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,n=ju.NORMAL){return this._addListener(new QS(e,t,n))}addOnce(e,t,n=ju.NORMAL){return this._addListener(new QS(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(!t)e.connect(n);else{for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n.match(e,t)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Da.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,Da.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Da._shared){const e=Da._shared=new Da;e.autoStart=!0,e._protected=!0}return Da._shared}static get system(){if(!Da._system){const e=Da._system=new Da;e.autoStart=!0,e._protected=!0}return Da._system}};JD.targetFPMS=.06;let kn=JD;Object.defineProperties(tt,{TARGET_FPMS:{get(){return kn.targetFPMS},set(r){Qt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),kn.targetFPMS=r}}});class d1{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,ju.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?kn.shared:new kn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}d1.extension=Qe.Application;ct.add(d1);const eO=[];ct.handleByList(Qe.Renderer,eO);function fz(r){for(const e of eO)if(e.test(r))return new e(r);throw new Error("Unable to auto-detect a suitable renderer.")}var pz=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mz=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const gz=pz,tO=mz;class rO{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=Nn.HIGH?this.multisample=Nn.HIGH:t>=Nn.MEDIUM?this.multisample=Nn.MEDIUM:t>=Nn.LOW?this.multisample=Nn.LOW:this.multisample=Nn.NONE}destroy(){}}rO.extension={type:Qe.RendererSystem,name:"_multisample"};ct.add(rO);class vz{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class nO{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const a=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,a.buffer)}}bindBufferRange(e,t,n){const{gl:i,CONTEXT_UID:a}=this;n=n||0;const l=e._glBuffers[a]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,l.buffer,n*256,256)}update(e){const{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const a=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,a)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(t||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new vz(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}nO.extension={type:Qe.RendererSystem,name:"buffer"};ct.add(nO);class iO{constructor(e){this.renderer=e}render(e,t){const n=this.renderer;let i,a,l,u;if(t&&(i=t.renderTexture,a=t.clear,l=t.transform,u=t.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=l,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const f=e.enableTempParent();e.updateTransform(),e.disableTempParent(f)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(a??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(t.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}iO.extension={type:Qe.RendererSystem,name:"objectRenderer"};ct.add(iO);const $y=class JE extends cz{constructor(e){super(),this.type=uD.WEBGL,e=Object.assign({},tt.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Js({projectionMatrix:new Sr},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:JE.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(Qt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=JE.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e?.forceCanvas?!1:z4()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Qt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Qt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Qt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Qt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Qt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Qt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Qt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Qt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};$y.extension={type:Qe.Renderer,priority:1},$y.__plugins={},$y.__systems={};let f1=$y;ct.handleByMap(Qe.RendererPlugin,f1.__plugins);ct.handleByMap(Qe.RendererSystem,f1.__systems);ct.add(f1);class aO extends Bm{constructor(e,t){const{width:n,height:i}=t||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const l=new Ft;this.items.push(l),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Bm?this.addResourceAt(e[n],n):this.addResourceAt(CD(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:n}=this.items[0];return this.resize(t,n),this.update(),Promise.resolve(this)}),this._load}}class yz extends aO{constructor(e,t){const{width:n,height:i}=t||{};let a,l;Array.isArray(e)?(a=e,l=e.length):l=e,super(l,{width:n,height:i}),a&&this.initFromArray(a,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Wd.TEXTURE_2D_ARRAY}upload(e,t,n){const{length:i,itemDirtyIds:a,items:l}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,t.format,n.type,null);for(let f=0;f<i;f++){const p=l[f];a[f]<p.dirtyId&&(a[f]=p.dirtyId,p.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,f,p.resource.width,p.resource.height,1,t.format,n.type,p.resource.source))}return!0}}class _z extends Bl{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const sO=class ym extends aO{constructor(e,t){const{width:n,height:i,autoLoad:a,linkBaseTexture:l}=t||{};if(e&&e.length!==ym.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let u=0;u<ym.SIDES;u++)this.items[u].target=Wd.TEXTURE_CUBE_MAP_POSITIVE_X+u;this.linkBaseTexture=l!==!1,e&&this.initFromArray(e,t),a!==!1&&this.load()}bind(e){super.bind(e),e.target=Wd.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Wd.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,n){const i=this.itemDirtyIds;for(let a=0;a<ym.SIDES;a++){const l=this.items[a];(i[a]<l.dirtyId||n.dirtyId<t.dirtyId)&&(l.valid&&l.resource?(l.resource.upload(e,l,n),i[a]=l.dirtyId):i[a]<-1&&(e.gl.texImage2D(l.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),i[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===ym.SIDES}};sO.SIDES=6;let bz=sO;class zd extends Bl{constructor(e,t){t=t||{};let n,i,a;typeof e=="string"?(n=zd.EMPTY,i=e,a=!0):(n=e,i=null,a=!1),super(n),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??a,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const n=await tt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const a=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ma.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(n){if(this.destroyed)return;t(n),this.onError.emit(n)}}),this._load)}upload(e,t,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return zd._EMPTY=zd._EMPTY??tt.ADAPTER.createCanvas(0,0),zd._EMPTY}}const eT=class Wy extends Bl{constructor(e,t){t=t||{},super(tt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Wy.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Bl.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,n=e.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,a=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*t,a=this._overrideHeight||this._overrideWidth/t*n),i=Math.round(i),a=Math.round(a);const l=this.source;l.width=i,l.height=a,l._pixiId=`canvas_${ah()}`,l.getContext("2d").drawImage(e,0,0,t,n,0,0,i,a),this._resolve(),this._resolve=null}}static getSize(e){const t=Wy.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Wy.SVG_XML.test(e)}};eT.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,eT.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let tT=eT;class xz extends Bl{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const rT=class nT extends Bl{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");t.autoLoad!==!1&&n.setAttribute("preload","auto"),t.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),t.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),t.loop===!0&&n.setAttribute("loop",""),t.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Bl.crossOrigin(n,i,t.crossorigin);for(let a=0;a<e.length;++a){const l=document.createElement("source");let{src:u,mime:f}=e[a];if(u=u||e[a],u.startsWith("data:"))f=u.slice(5,u.indexOf(";"));else if(!u.startsWith("blob:")){const p=u.split("?").shift().toLowerCase(),g=p.slice(p.lastIndexOf(".")+1);f=f||nT.MIME_TYPES[g]||`video/${g}`}l.src=u,f&&(l.type=f),n.appendChild(l)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=kn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(kn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(kn.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(kn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||nT.TYPES.includes(t)}};rT.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],rT.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let oO=rT;VE.push(zd,FD,_z,oO,xz,tT,Z_,bz,yz);class d_{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Bt.EMPTY:(e=e||new Bt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:n,b:i,c:a,d:l,tx:u,ty:f}=e,p=n*t.x+a*t.y+u,g=i*t.x+l*t.y+f;this.minX=Math.min(this.minX,p),this.maxX=Math.max(this.maxX,p),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(e){let t=this.minX,n=this.minY,i=this.maxX,a=this.maxY,l=e[0],u=e[1];t=l<t?l:t,n=u<n?u:n,i=l>i?l:i,a=u>a?u:a,l=e[2],u=e[3],t=l<t?l:t,n=u<n?u:n,i=l>i?l:i,a=u>a?u:a,l=e[4],u=e[5],t=l<t?l:t,n=u<n?u:n,i=l>i?l:i,a=u>a?u:a,l=e[6],u=e[7],t=l<t?l:t,n=u<n?u:n,i=l>i?l:i,a=u>a?u:a,this.minX=t,this.minY=n,this.maxX=i,this.maxY=a}addFrame(e,t,n,i,a){this.addFrameMatrix(e.worldTransform,t,n,i,a)}addFrameMatrix(e,t,n,i,a){const l=e.a,u=e.b,f=e.c,p=e.d,g=e.tx,v=e.ty;let b=this.minX,x=this.minY,S=this.maxX,E=this.maxY,A=l*t+f*n+g,P=u*t+p*n+v;b=A<b?A:b,x=P<x?P:x,S=A>S?A:S,E=P>E?P:E,A=l*i+f*n+g,P=u*i+p*n+v,b=A<b?A:b,x=P<x?P:x,S=A>S?A:S,E=P>E?P:E,A=l*t+f*a+g,P=u*t+p*a+v,b=A<b?A:b,x=P<x?P:x,S=A>S?A:S,E=P>E?P:E,A=l*i+f*a+g,P=u*i+p*a+v,b=A<b?A:b,x=P<x?P:x,S=A>S?A:S,E=P>E?P:E,this.minX=b,this.minY=x,this.maxX=S,this.maxY=E}addVertexData(e,t,n){let i=this.minX,a=this.minY,l=this.maxX,u=this.maxY;for(let f=t;f<n;f+=2){const p=e[f],g=e[f+1];i=p<i?p:i,a=g<a?g:a,l=p>l?p:l,u=g>u?g:u}this.minX=i,this.minY=a,this.maxX=l,this.maxY=u}addVertices(e,t,n,i){this.addVerticesMatrix(e.worldTransform,t,n,i)}addVerticesMatrix(e,t,n,i,a=0,l=a){const u=e.a,f=e.b,p=e.c,g=e.d,v=e.tx,b=e.ty;let x=this.minX,S=this.minY,E=this.maxX,A=this.maxY;for(let P=n;P<i;P+=2){const L=t[P],D=t[P+1],N=u*L+p*D+v,M=g*D+f*L+b;x=Math.min(x,N-a),E=Math.max(E,N+a),S=Math.min(S,M-l),A=Math.max(A,M+l)}this.minX=x,this.minY=S,this.maxX=E,this.maxY=A}addBounds(e){const t=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,t){const n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,l=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=a&&i<=l){const u=this.minX,f=this.minY,p=this.maxX,g=this.maxY;this.minX=n<u?n:u,this.minY=i<f?i:f,this.maxX=a>p?a:p,this.maxY=l>g?l:g}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,l=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=a&&i<=l){const u=this.minX,f=this.minY,p=this.maxX,g=this.maxY;this.minX=n<u?n:u,this.minY=i<f?i:f,this.maxX=a>p?a:p,this.maxY=l>g?l:g}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,i,a,l){e-=a,t-=l,n+=a,i+=l,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class Hr extends kl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Ym,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new d_,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const i=t[n];Object.defineProperty(Hr.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Bt),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new d_);const t=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=n?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const l=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-a,l}toGlobal(e,t,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,i){return t&&(e=t.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,n=1,i=1,a=0,l=0,u=0,f=0,p=0){return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=i||1,this.rotation=a,this.skew.x=l,this.skew.y=u,this.pivot.x=f,this.pivot.y=p,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Sz),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*p5}set angle(e){this.transform.rotation=e*m5}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class Sz extends Hr{constructor(){super(...arguments),this.sortDirty=null}}Hr.prototype.displayObjectUpdateTransform=Hr.prototype.updateTransform;const Ez=new Sr;function Tz(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}const lO=class iT extends Hr{constructor(){super(),this.children=[],this.sortableChildren=iT.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),i=this.getChildIndex(t);this.children[n]=t,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Xd(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,Xd(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Xd(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const n=e,i=t,a=i-n;let l;if(a>0&&a<=i){l=this.children.splice(n,a);for(let u=0;u<l.length;++u)l[u].parent=null,l[u].transform&&(l[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let u=0;u<l.length;++u)l[u].emit("removed",this),this.emit("childRemoved",l[u],this,u);return l}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){const i=this.children[t];i._lastSortedIndex=t,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Tz),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const n=super.getLocalBounds(e);if(!t)for(let i=0,a=this.children.length;i<a;++i){const l=this.children[i];l.visible&&l.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==iT.prototype._render&&(n=this.getBounds(!0));const a=e.projection.transform;if(a&&(i?(i=Ez.copyFrom(i),i.prepend(a)):i=a),n&&t.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let l=0,u=this.children.length;l<u;++l){const f=this.children[l],p=f.cullable;f.cullable=p||!this.cullArea,f.render(e),f.cullable=p}}render(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}}renderAdvanced(e){const t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<t.length;a++)t[a].enabled&&this._enabledFilters.push(t[a])}const i=t&&this._enabledFilters?.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Zn.NONE));if(i&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e?.children,n=this.removeChildren(0,this.children.length);if(t)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};lO.defaultSortableChildren=!1;let Jn=lO;Jn.prototype.containerUpdateTransform=Jn.prototype.updateTransform;Object.defineProperties(tt,{SORTABLE_CHILDREN:{get(){return Jn.defaultSortableChildren},set(r){Qt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Jn.defaultSortableChildren=r}}});var n0=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(n0||{});const am=new $t,Cz=new Uint16Array([0,1,2,0,2,3]);let el=class uO extends Jn{constructor(e){super(),this._anchor=new ds(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new kr(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=wt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||je.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Cz,this.pluginName="batch",this.isSprite=!0,this._roundPixels=tt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Lu(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Lu(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,n=t.a,i=t.b,a=t.c,l=t.d,u=t.tx,f=t.ty,p=this.vertexData,g=e.trim,v=e.orig,b=this._anchor;let x=0,S=0,E=0,A=0;if(g?(S=g.x-b._x*v.width,x=S+g.width,A=g.y-b._y*v.height,E=A+g.height):(S=-b._x*v.width,x=S+v.width,A=-b._y*v.height,E=A+v.height),p[0]=n*S+a*A+u,p[1]=l*A+i*S+f,p[2]=n*x+a*A+u,p[3]=l*A+i*x+f,p[4]=n*x+a*E+u,p[5]=l*E+i*x+f,p[6]=n*S+a*E+u,p[7]=l*E+i*S+f,this._roundPixels){const P=tt.RESOLUTION;for(let L=0;L<p.length;++L)p[L]=Math.round(p[L]*P)/P}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,n=e.orig,i=this._anchor,a=this.transform.worldTransform,l=a.a,u=a.b,f=a.c,p=a.d,g=a.tx,v=a.ty,b=-i._x*n.width,x=b+n.width,S=-i._y*n.height,E=S+n.height;if(t[0]=l*b+f*S+g,t[1]=p*S+u*b+v,t[2]=l*x+f*S+g,t[3]=p*S+u*x+v,t[4]=l*x+f*E+g,t[5]=p*E+u*x+v,t[6]=l*b+f*E+g,t[7]=p*E+u*b+v,this._roundPixels){const A=tt.RESOLUTION;for(let P=0;P<t.length;++P)t[P]=Math.round(t[P]*A)/A}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new d_),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,am);const t=this._texture.orig.width,n=this._texture.orig.height,i=-t*this.anchor.x;let a=0;return am.x>=i&&am.x<i+t&&(a=-n*this.anchor.y,am.y>=a&&am.y<a+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e?.texture){const t=typeof e=="boolean"?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const n=e instanceof je?e:je.from(e,t);return new uO(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=Lu(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=Lu(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||je.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};const py={willReadFrequently:!0},Lo=class ft{static get experimentalLetterSpacingSupported(){let e=ft._experimentalLetterSpacingSupported;if(e!==void 0){const t=tt.ADAPTER.getCanvasRenderingContext2D().prototype;e=ft._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,n,i,a,l,u,f,p){this.text=e,this.style=t,this.width=n,this.height=i,this.lines=a,this.lineWidths=l,this.lineHeight=u,this.maxLineWidth=f,this.fontProperties=p}static measureText(e,t,n,i=ft._canvas){n=n??t.wordWrap;const a=t.toFontString(),l=ft.measureFont(a);l.fontSize===0&&(l.fontSize=t.fontSize,l.ascent=t.fontSize);const u=i.getContext("2d",py);u.font=a;const f=(n?ft.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),p=new Array(f.length);let g=0;for(let S=0;S<f.length;S++){const E=ft._measureText(f[S],t.letterSpacing,u);p[S]=E,g=Math.max(g,E)}let v=g+t.strokeThickness;t.dropShadow&&(v+=t.dropShadowDistance);const b=t.lineHeight||l.fontSize+t.strokeThickness;let x=Math.max(b,l.fontSize+t.strokeThickness*2)+t.leading+(f.length-1)*(b+t.leading);return t.dropShadow&&(x+=t.dropShadowDistance),new ft(e,t,v,x,f,p,b+t.leading,g,l)}static _measureText(e,t,n){let i=!1;ft.experimentalLetterSpacingSupported&&(ft.experimentalLetterSpacing?(n.letterSpacing=`${t}px`,n.textLetterSpacing=`${t}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let a=n.measureText(e).width;return a>0&&(i?a-=t:a+=(ft.graphemeSegmenter(e).length-1)*t),a}static wordWrap(e,t,n=ft._canvas){const i=n.getContext("2d",py);let a=0,l="",u="";const f=Object.create(null),{letterSpacing:p,whiteSpace:g}=t,v=ft.collapseSpaces(g),b=ft.collapseNewlines(g);let x=!v;const S=t.wordWrapWidth+p,E=ft.tokenize(e);for(let A=0;A<E.length;A++){let P=E[A];if(ft.isNewline(P)){if(!b){u+=ft.addLine(l),x=!v,l="",a=0;continue}P=" "}if(v){const D=ft.isBreakingSpace(P),N=ft.isBreakingSpace(l[l.length-1]);if(D&&N)continue}const L=ft.getFromCache(P,p,f,i);if(L>S)if(l!==""&&(u+=ft.addLine(l),l="",a=0),ft.canBreakWords(P,t.breakWords)){const D=ft.wordWrapSplit(P);for(let N=0;N<D.length;N++){let M=D[N],$=M,U=1;for(;D[N+U];){const re=D[N+U];if(!ft.canBreakChars($,re,P,N,t.breakWords))M+=re;else break;$=re,U++}N+=U-1;const V=ft.getFromCache(M,p,f,i);V+a>S&&(u+=ft.addLine(l),x=!1,l="",a=0),l+=M,a+=V}}else{l.length>0&&(u+=ft.addLine(l),l="",a=0);const D=A===E.length-1;u+=ft.addLine(P,!D),x=!1,l="",a=0}else L+a>S&&(x=!1,u+=ft.addLine(l),l="",a=0),(l.length>0||!ft.isBreakingSpace(P)||x)&&(l+=P,a+=L)}return u+=ft.addLine(l,!1),u}static addLine(e,t=!0){return e=ft.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,n,i){let a=n[e];return typeof a!="number"&&(a=ft._measureText(e,t,i)+t,n[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const n=e[t];if(!ft.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ft._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:ft._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let n="";if(typeof e!="string")return t;for(let i=0;i<e.length;i++){const a=e[i],l=e[i+1];if(ft.isBreakingSpace(a,l)||ft.isNewline(a)){n!==""&&(t.push(n),n=""),t.push(a);continue}n+=a}return n!==""&&t.push(n),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,i,a){return!0}static wordWrapSplit(e){return ft.graphemeSegmenter(e)}static measureFont(e){if(ft._fonts[e])return ft._fonts[e];const t={ascent:0,descent:0,fontSize:0},n=ft._canvas,i=ft._context;i.font=e;const a=ft.METRICS_STRING+ft.BASELINE_SYMBOL,l=Math.ceil(i.measureText(a).width);let u=Math.ceil(i.measureText(ft.BASELINE_SYMBOL).width);const f=Math.ceil(ft.HEIGHT_MULTIPLIER*u);if(u=u*ft.BASELINE_MULTIPLIER|0,l===0||f===0)return ft._fonts[e]=t,t;n.width=l,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,l,f),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,u);const p=i.getImageData(0,0,l,f).data,g=p.length,v=l*4;let b=0,x=0,S=!1;for(b=0;b<u;++b){for(let E=0;E<v;E+=4)if(p[x+E]!==255){S=!0;break}if(!S)x+=v;else break}for(t.ascent=u-b,x=g-v,S=!1,b=f;b>u;--b){for(let E=0;E<v;E+=4)if(p[x+E]!==255){S=!0;break}if(!S)x-=v;else break}return t.descent=b-u,t.fontSize=t.ascent+t.descent,ft._fonts[e]=t,t}static clearMetrics(e=""){e?delete ft._fonts[e]:ft._fonts={}}static get _canvas(){if(!ft.__canvas){let e;try{const t=new OffscreenCanvas(0,0);if(t.getContext("2d",py)?.measureText)return ft.__canvas=t,t;e=tt.ADAPTER.createCanvas()}catch{e=tt.ADAPTER.createCanvas()}e.width=e.height=10,ft.__canvas=e}return ft.__canvas}static get _context(){return ft.__context||(ft.__context=ft._canvas.getContext("2d",py)),ft.__context}};Lo.METRICS_STRING="|q",Lo.BASELINE_SYMBOL="M",Lo.BASELINE_MULTIPLIER=1.4,Lo.HEIGHT_MULTIPLIER=2,Lo.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const r=new Intl.Segmenter;return e=>[...r.segment(e)].map(t=>t.segment)}return r=>[...r]})(),Lo.experimentalLetterSpacing=!1,Lo._fonts={},Lo._newlines=[10,13],Lo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Du=Lo;const wz=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],cO=class _m{constructor(e){this.styleID=0,this.reset(),ZS(this,e,e)}clone(){const e={};return ZS(e,this,_m.defaultStyle),new _m(e)}reset(){ZS(this,_m.defaultStyle,_m.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=KS(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=KS(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Az(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=KS(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let n=t.length-1;n>=0;n--){let i=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!wz.includes(i)&&(i=`"${i}"`),t[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};cO.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n0.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let $u=cO;function KS(r){const e=kr.shared,t=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(r)?r.map(t):t(r)}function Az(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function ZS(r,e,t){for(const n in t)Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]}const Rz={texture:!0,children:!1,baseTexture:!0},hO=class aT extends el{constructor(e,t,n){let i=!1;n||(n=tt.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const a=je.from(n);a.orig=new Bt,a.trim=new Bt,super(a),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=aT.defaultResolution??tt.RESOLUTION,this._autoResolution=aT.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return Du.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Qt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Du.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Du.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=i.width,l=i.height,u=i.lines,f=i.lineHeight,p=i.lineWidths,g=i.maxLineWidth,v=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+t.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;let b,x;const S=t.dropShadow?2:1;for(let E=0;E<S;++E){const A=t.dropShadow&&E===0,P=A?Math.ceil(Math.max(1,l)+t.padding*2):0,L=P*this._resolution;if(A){n.fillStyle="black",n.strokeStyle="black";const N=t.dropShadowColor,M=t.dropShadowBlur*this._resolution,$=t.dropShadowDistance*this._resolution;n.shadowColor=kr.shared.setValue(N).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=M,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*$,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*$+L}else n.fillStyle=this._generateFillStyle(t,u,i),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let D=(f-v.fontSize)/2;f-v.fontSize<0&&(D=0);for(let N=0;N<u.length;N++)b=t.strokeThickness/2,x=t.strokeThickness/2+N*f+v.ascent+D,t.align==="right"?b+=g-p[N]:t.align==="center"&&(b+=(g-p[N])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(u[N],b+t.padding,x+t.padding-P,!0),t.fill&&this.drawLetterSpacing(u[N],b+t.padding,x+t.padding-P)}this.updateTexture()}drawLetterSpacing(e,t,n,i=!1){const a=this._style.letterSpacing;let l=!1;if(Du.experimentalLetterSpacingSupported&&(Du.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,l=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||l){i?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);return}let u=t;const f=Du.graphemeSegmenter(e);let p=this.context.measureText(e).width,g=0;for(let v=0;v<f.length;++v){const b=f[v];i?this.context.strokeText(b,u,n):this.context.fillText(b,u,n);let x="";for(let S=v+1;S<f.length;++S)x+=f[S];g=this.context.measureText(x).width,u+=p-g+a,p=g}}updateTexture(){const e=this.canvas;if(this._style.trim){const l=n5(e);l.data&&(e.width=l.width,e.height=l.height,this.context.putImageData(l.data,0,0))}const t=this._texture,n=this._style,i=n.trim?0:n.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-i*2,t.orig.height=t._frame.height-i*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let a;const l=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,f=this.canvas.width/this._resolution-l-u*2,p=this.canvas.height/this._resolution-l-u*2,g=i.slice(),v=e.fillGradientStops.slice();if(!v.length){const b=g.length+1;for(let x=1;x<b;++x)v.push(x/b)}if(g.unshift(i[0]),v.unshift(0),g.push(i[i.length-1]),v.push(1),e.fillGradientType===n0.LINEAR_VERTICAL){a=this.context.createLinearGradient(f/2,u,f/2,p+u);const b=n.fontProperties.fontSize+e.strokeThickness;for(let x=0;x<t.length;x++){const S=n.lineHeight*(x-1)+b,E=n.lineHeight*x;let A=E;x>0&&S>E&&(A=(E+S)/2);const P=E+b,L=n.lineHeight*(x+1);let D=P;x+1<t.length&&L<P&&(D=(P+L)/2);const N=(D-A)/p;for(let M=0;M<g.length;M++){let $=0;typeof v[M]=="number"?$=v[M]:$=M/g.length;let U=Math.min(1,Math.max(0,A/p+$*N));U=Number(U.toFixed(5)),a.addColorStop(U,g[M])}}}else{a=this.context.createLinearGradient(u,p/2,f+u,p/2);const b=g.length+1;let x=1;for(let S=0;S<g.length;S++){let E;typeof v[S]=="number"?E=v[S]:E=x/b,a.addColorStop(E,g[S]),x++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Rz,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=Lu(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=Lu(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof $u?this._style=e:this._style=new $u(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};hO.defaultAutoResolution=!0;let i0=hO;class f_{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Xy{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in t){const l=t[a].match(/^[a-z]+/gm)[0],u=t[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),f={};for(const p in u){const g=u[p].split("="),v=g[0],b=g[1].replace(/"/gm,""),x=parseFloat(b),S=isNaN(x)?b:x;f[v]=S}n[l].push(f)}const i=new f_;return n.info.forEach(a=>i.info.push({face:a.face,size:parseInt(a.size,10)})),n.common.forEach(a=>i.common.push({lineHeight:parseInt(a.lineHeight,10)})),n.page.forEach(a=>i.page.push({id:parseInt(a.id,10),file:a.file})),n.char.forEach(a=>i.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),n.kerning.forEach(a=>i.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),n.distanceField.forEach(a=>i.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),i}}class sT{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new f_,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),l=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),f=e.getElementsByTagName("distanceField");for(let p=0;p<n.length;p++)t.info.push({face:n[p].getAttribute("face"),size:parseInt(n[p].getAttribute("size"),10)});for(let p=0;p<i.length;p++)t.common.push({lineHeight:parseInt(i[p].getAttribute("lineHeight"),10)});for(let p=0;p<a.length;p++)t.page.push({id:parseInt(a[p].getAttribute("id"),10)||0,file:a[p].getAttribute("file")});for(let p=0;p<l.length;p++){const g=l[p];t.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let p=0;p<u.length;p++)t.kerning.push({first:parseInt(u[p].getAttribute("first"),10),second:parseInt(u[p].getAttribute("second"),10),amount:parseInt(u[p].getAttribute("amount"),10)});for(let p=0;p<f.length;p++)t.distanceField.push({fieldType:f[p].getAttribute("fieldType"),distanceRange:parseInt(f[p].getAttribute("distanceRange"),10)});return t}}class oT{static test(e){return typeof e=="string"&&e.includes("<font>")?sT.test(tt.ADAPTER.parseXML(e)):!1}static parse(e){return sT.parse(tt.ADAPTER.parseXML(e))}}const JS=[Xy,sT,oT];function Pz(r){for(let e=0;e<JS.length;e++)if(JS[e].test(r))return JS[e];return null}function Mz(r,e,t,n,i,a){const l=t.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let u;const f=t.dropShadow?t.dropShadowDistance:0,p=t.padding||0,g=r.width/n-f-p*2,v=r.height/n-f-p*2,b=l.slice(),x=t.fillGradientStops.slice();if(!x.length){const S=b.length+1;for(let E=1;E<S;++E)x.push(E/S)}if(b.unshift(l[0]),x.unshift(0),b.push(l[l.length-1]),x.push(1),t.fillGradientType===n0.LINEAR_VERTICAL){u=e.createLinearGradient(g/2,p,g/2,v+p);let S=0;const E=(a.fontProperties.fontSize+t.strokeThickness)/v;for(let A=0;A<i.length;A++){const P=a.lineHeight*A;for(let L=0;L<b.length;L++){let D=0;typeof x[L]=="number"?D=x[L]:D=L/b.length;const N=P/v+D*E;let M=Math.max(S,N);M=Math.min(M,1),u.addColorStop(M,b[L]),S=M}}}else{u=e.createLinearGradient(p,v/2,g+p,v/2);const S=b.length+1;let E=1;for(let A=0;A<b.length;A++){let P;typeof x[A]=="number"?P=x[A]:P=E/S,u.addColorStop(P,b[A]),E++}}return u}function Iz(r,e,t,n,i,a,l){const u=t.text,f=t.fontProperties;e.translate(n,i),e.scale(a,a);const p=l.strokeThickness/2,g=-(l.strokeThickness/2);if(e.font=l.toFontString(),e.lineWidth=l.strokeThickness,e.textBaseline=l.textBaseline,e.lineJoin=l.lineJoin,e.miterLimit=l.miterLimit,e.fillStyle=Mz(r,e,l,a,[u],t),e.strokeStyle=l.stroke,l.dropShadow){const v=l.dropShadowColor,b=l.dropShadowBlur*a,x=l.dropShadowDistance*a;e.shadowColor=kr.shared.setValue(v).setAlpha(l.dropShadowAlpha).toRgbaString(),e.shadowBlur=b,e.shadowOffsetX=Math.cos(l.dropShadowAngle)*x,e.shadowOffsetY=Math.sin(l.dropShadowAngle)*x}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;l.stroke&&l.strokeThickness&&e.strokeText(u,p,g+t.lineHeight-f.descent),l.fill&&e.fillText(u,p,g+t.lineHeight-f.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Yy(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function dO(r){return Array.from?Array.from(r):r.split("")}function Dz(r){typeof r=="string"&&(r=[r]);const e=[];for(let t=0,n=r.length;t<n;t++){const i=r[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const a=i[0].charCodeAt(0),l=i[1].charCodeAt(0);if(l<a)throw new Error("[BitmapFont]: Invalid character range.");for(let u=a,f=l;u<=f;u++)e.push(String.fromCharCode(u))}else e.push(...dO(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Ru=class Bo{constructor(e,t,n){const[i]=e.info,[a]=e.common,[l]=e.page,[u]=e.distanceField,f=Ll(l.file),p={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=a.lineHeight/f,this.chars={},this.pageTextures=p;for(let g=0;g<e.page.length;g++){const{id:v,file:b}=e.page[g];p[v]=t instanceof Array?t[g]:t[b],u?.fieldType&&u.fieldType!=="none"&&(p[v].baseTexture.alphaMode=ma.NO_PREMULTIPLIED_ALPHA,p[v].baseTexture.mipmap=qo.OFF)}for(let g=0;g<e.char.length;g++){const{id:v,page:b}=e.char[g];let{x,y:S,width:E,height:A,xoffset:P,yoffset:L,xadvance:D}=e.char[g];x/=f,S/=f,E/=f,A/=f,P/=f,L/=f,D/=f;const N=new Bt(x+p[b].frame.x/f,S+p[b].frame.y/f,E,A);this.chars[v]={xOffset:P,yOffset:L,xAdvance:D,kerning:{},texture:new je(p[b].baseTexture,N),page:b}}for(let g=0;g<e.kerning.length;g++){let{first:v,second:b,amount:x}=e.kerning[g];v/=f,b/=f,x/=f,this.chars[b]&&(this.chars[b].kerning[v]=x)}this.distanceFieldRange=u?.distanceRange,this.distanceFieldType=u?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,n){let i;if(e instanceof f_)i=e;else{const l=Pz(e);if(!l)throw new Error("Unrecognized data format for font.");i=l.parse(e)}t instanceof je&&(t=[t]);const a=new Bo(i,t,n);return Bo.available[a.font]=a,a}static uninstall(e){const t=Bo.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Bo.available[e]}static from(e,t,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:a,resolution:l,textureWidth:u,textureHeight:f,...p}=Object.assign({},Bo.defaultOptions,n),g=Dz(i),v=t instanceof $u?t:new $u(t),b=u,x=new f_;x.info[0]={face:v.fontFamily,size:v.fontSize},x.common[0]={lineHeight:v.fontSize};let S=0,E=0,A,P,L,D=0;const N=[];for(let $=0;$<g.length;$++){A||(A=tt.ADAPTER.createCanvas(),A.width=u,A.height=f,P=A.getContext("2d"),L=new Ft(A,{resolution:l,...p}),N.push(new je(L)),x.page.push({id:N.length-1,file:""}));const U=g[$],V=Du.measureText(U,v,!1,A),re=V.width,O=Math.ceil(V.height),Q=Math.ceil((v.fontStyle==="italic"?2:1)*re);if(E>=f-O*l){if(E===0)throw new Error(`[BitmapFont] textureHeight ${f}px is too small (fontFamily: '${v.fontFamily}', fontSize: ${v.fontSize}px, char: '${U}')`);--$,A=null,P=null,L=null,E=0,S=0,D=0;continue}if(D=Math.max(O+V.fontProperties.descent,D),Q*l+S>=b){if(S===0)throw new Error(`[BitmapFont] textureWidth ${u}px is too small (fontFamily: '${v.fontFamily}', fontSize: ${v.fontSize}px, char: '${U}')`);--$,E+=D*l,E=Math.ceil(E),S=0,D=0;continue}Iz(A,P,V,S,E,l,v);const q=Yy(V.text);x.char.push({id:q,page:N.length-1,x:S/l,y:E/l,width:Q,height:O,xoffset:0,yoffset:0,xadvance:re-(v.dropShadow?v.dropShadowDistance:0)-(v.stroke?v.strokeThickness:0)}),S+=(Q+2*a)*l,S=Math.ceil(S)}if(!n?.skipKerning)for(let $=0,U=g.length;$<U;$++){const V=g[$];for(let re=0;re<U;re++){const O=g[re],Q=P.measureText(V).width,q=P.measureText(O).width,ae=P.measureText(V+O).width-(Q+q);ae&&x.kerning.push({first:Yy(V),second:Yy(O),amount:ae})}}const M=new Bo(x,N,!0);return Bo.available[e]!==void 0&&Bo.uninstall(e),Bo.available[e]=M,M}};Ru.ALPHA=[["a","z"],["A","Z"]," "],Ru.NUMERIC=[["0","9"]],Ru.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Ru.ASCII=[[" ","~"]],Ru.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Ru.ALPHANUMERIC},Ru.available={};let Pu=Ru;class Oz{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const eE=new $t,UP=new th,fO=class pO extends Jn{constructor(e,t,n,i=us.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=n||Jo.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=tt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===us.TRIANGLES&&t.length<pO.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const i=this.transform.worldTransform,a=i.a,l=i.b,u=i.c,f=i.d,p=i.tx,g=i.ty,v=this.vertexData;for(let b=0;b<v.length/2;b++){const x=t[b*2],S=t[b*2+1];v[b*2]=a*x+u*S+p,v[b*2+1]=l*x+f*S+g}if(this._roundPixels){const b=tt.RESOLUTION;for(let x=0;x<v.length;++x)v[x]=Math.round(v[x]*b)/b}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Oz(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,eE);const t=this.geometry.getBuffer("aVertexPosition").data,n=UP.points,i=this.geometry.getIndex().data,a=i.length,l=this.drawMode===4?3:1;for(let u=0;u+2<a;u+=l){const f=i[u]*2,p=i[u+1]*2,g=i[u+2]*2;if(n[0]=t[f],n[1]=t[f+1],n[2]=t[p],n[3]=t[p+1],n[4]=t[g],n[5]=t[g+1],UP.contains(eE.x,eE.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};fO.BATCHABLE_SIZE=100;let Nm=fO;class a0 extends Vu{constructor(e,t,n){super();const i=new Tn(e),a=new Tn(t,!0),l=new Tn(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,mt.FLOAT).addAttribute("aTextureCoord",a,2,!1,mt.FLOAT).addIndex(l),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Fz=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Lz=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Um extends Yo{constructor(e,t){const n={uSampler:e,alpha:1,uTextureMatrix:Sr.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(n,t.uniforms),super(t.program||Il.from(Lz,Fz),n),this._colorDirty=!1,this.uvMatrix=new h1(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new kr(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;kr.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var Bz=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Nz=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const kP=[],zP=[],GP=[],mO=class gO extends Jn{constructor(e,t={}){super();const{align:n,tint:i,maxWidth:a,letterSpacing:l,fontName:u,fontSize:f}=Object.assign({},gO.styleDefaults,t);if(!Pu.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new kr(i),this._font=void 0,this._fontName=u,this._fontSize=f,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=l,this._anchor=new ds(()=>{this.dirty=!0},this,0,0),this._roundPixels=tt.ROUND_PIXELS,this.dirty=!0,this._resolution=tt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=Pu.available[this._fontName],t=this.fontSize,n=t/e.size,i=new $t,a=[],l=[],u=[],f=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",p=dO(f),g=this._maxWidth*e.size/t,v=e.distanceFieldType==="none"?kP:zP;let b=null,x=0,S=0,E=0,A=-1,P=0,L=0,D=0,N=0;for(let Q=0;Q<p.length;Q++){const q=p[Q],ae=Yy(q);if(/(?:\s)/.test(q)&&(A=Q,P=x,N++),q==="\r"||q===`
`){l.push(x),u.push(-1),S=Math.max(S,x),++E,++L,i.x=0,i.y+=e.lineHeight,b=null,N=0;continue}const oe=e.chars[ae];if(!oe)continue;b&&oe.kerning[b]&&(i.x+=oe.kerning[b]);const Ie=GP.pop()||{texture:je.EMPTY,line:0,charCode:0,prevSpaces:0,position:new $t};Ie.texture=oe.texture,Ie.line=E,Ie.charCode=ae,Ie.position.x=Math.round(i.x+oe.xOffset+this._letterSpacing/2),Ie.position.y=Math.round(i.y+oe.yOffset),Ie.prevSpaces=N,a.push(Ie),x=Ie.position.x+Math.max(oe.xAdvance-oe.xOffset,oe.texture.orig.width),i.x+=oe.xAdvance+this._letterSpacing,D=Math.max(D,oe.yOffset+oe.texture.height),b=ae,A!==-1&&g>0&&i.x>g&&(++L,Xd(a,1+A-L,1+Q-A),Q=A,A=-1,l.push(P),u.push(a.length>0?a[a.length-1].prevSpaces:0),S=Math.max(S,P),E++,i.x=0,i.y+=e.lineHeight,b=null,N=0)}const M=p[p.length-1];M!=="\r"&&M!==`
`&&(/(?:\s)/.test(M)&&(x=P),l.push(x),S=Math.max(S,x),u.push(-1));const $=[];for(let Q=0;Q<=E;Q++){let q=0;this._align==="right"?q=S-l[Q]:this._align==="center"?q=(S-l[Q])/2:this._align==="justify"&&(q=u[Q]<0?0:(S-l[Q])/u[Q]),$.push(q)}const U=a.length,V={},re=[],O=this._activePagesMeshData;v.push(...O);for(let Q=0;Q<U;Q++){const q=a[Q].texture,ae=q.baseTexture.uid;if(!V[ae]){let oe=v.pop();if(!oe){const G=new a0;let W,k;e.distanceFieldType==="none"?(W=new Um(je.EMPTY),k=wt.NORMAL):(W=new Um(je.EMPTY,{program:Il.from(Nz,Bz),uniforms:{uFWidth:0}}),k=wt.NORMAL_NPM);const J=new Nm(G,W);J.blendMode=k,oe={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:J,vertices:null,uvs:null,indices:null}}oe.index=0,oe.indexCount=0,oe.vertexCount=0,oe.uvsCount=0,oe.total=0;const{_textureCache:Ie}=this;Ie[ae]=Ie[ae]||new je(q.baseTexture),oe.mesh.texture=Ie[ae],oe.mesh.tint=this._tintColor.value,re.push(oe),V[ae]=oe}V[ae].total++}for(let Q=0;Q<O.length;Q++)re.includes(O[Q])||this.removeChild(O[Q].mesh);for(let Q=0;Q<re.length;Q++)re[Q].mesh.parent!==this&&this.addChild(re[Q].mesh);this._activePagesMeshData=re;for(const Q in V){const q=V[Q],ae=q.total;if(!(q.indices?.length>6*ae)||q.vertices.length<Nm.BATCHABLE_SIZE*2)q.vertices=new Float32Array(8*ae),q.uvs=new Float32Array(8*ae),q.indices=new Uint16Array(6*ae);else{const oe=q.total,Ie=q.vertices;for(let G=oe*4*2;G<Ie.length;G++)Ie[G]=0}q.mesh.size=6*ae}for(let Q=0;Q<U;Q++){const q=a[Q];let ae=q.position.x+$[q.line]*(this._align==="justify"?q.prevSpaces:1);this._roundPixels&&(ae=Math.round(ae));const oe=ae*n,Ie=q.position.y*n,G=q.texture,W=V[G.baseTexture.uid],k=G.frame,J=G._uvs,F=W.index++;W.indices[F*6+0]=0+F*4,W.indices[F*6+1]=1+F*4,W.indices[F*6+2]=2+F*4,W.indices[F*6+3]=0+F*4,W.indices[F*6+4]=2+F*4,W.indices[F*6+5]=3+F*4,W.vertices[F*8+0]=oe,W.vertices[F*8+1]=Ie,W.vertices[F*8+2]=oe+k.width*n,W.vertices[F*8+3]=Ie,W.vertices[F*8+4]=oe+k.width*n,W.vertices[F*8+5]=Ie+k.height*n,W.vertices[F*8+6]=oe,W.vertices[F*8+7]=Ie+k.height*n,W.uvs[F*8+0]=J.x0,W.uvs[F*8+1]=J.y0,W.uvs[F*8+2]=J.x1,W.uvs[F*8+3]=J.y1,W.uvs[F*8+4]=J.x2,W.uvs[F*8+5]=J.y2,W.uvs[F*8+6]=J.x3,W.uvs[F*8+7]=J.y3}this._textWidth=S*n,this._textHeight=(i.y+e.lineHeight)*n;for(const Q in V){const q=V[Q];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const W=this._textWidth*this.anchor.x,k=this._textHeight*this.anchor.y;for(let J=0;J<q.total;J++)q.vertices[G++]-=W,q.vertices[G++]-=k,q.vertices[G++]-=W,q.vertices[G++]-=k,q.vertices[G++]-=W,q.vertices[G++]-=k,q.vertices[G++]-=W,q.vertices[G++]-=k}this._maxLineHeight=D*n;const ae=q.mesh.geometry.getBuffer("aVertexPosition"),oe=q.mesh.geometry.getBuffer("aTextureCoord"),Ie=q.mesh.geometry.getIndex();ae.data=q.vertices,oe.data=q.uvs,Ie.data=q.indices,ae.update(),oe.update(),Ie.update()}for(let Q=0;Q<a.length;Q++)GP.push(a[Q]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:n,size:i}=Pu.available[this._fontName];if(n!=="none"){const{a,b:l,c:u,d:f}=this.worldTransform,p=Math.sqrt(a*a+l*l),g=Math.sqrt(u*u+f*f),v=(Math.abs(p)+Math.abs(g))/2,b=this.fontSize/i,x=e._view.resolution;for(const S of this._activePagesMeshData)S.mesh.shader.uniforms.uFWidth=v*t*b*x}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Pu.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Pu.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Pu.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n=Pu.available[this._fontName].distanceFieldType==="none"?kP:zP;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>t[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=je.EMPTY});for(const i in t)t[i].destroy(),delete t[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};mO.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let vO=mO;const HP={loader:Qe.LoadParser,resolver:Qe.ResolveParser,cache:Qe.CacheParser,detection:Qe.DetectionParser};ct.handle(Qe.Asset,r=>{const e=r.ref;Object.entries(HP).filter(([t])=>!!e[t]).forEach(([t,n])=>ct.add(Object.assign(e[t],{extension:e[t].extension??n})))},r=>{const e=r.ref;Object.keys(HP).filter(t=>!!e[t]).forEach(t=>ct.remove(e[t]))});class Uz{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function df(r,e){if(Array.isArray(e)){for(const t of e)if(r.startsWith(`data:${t}`))return!0;return!1}return r.startsWith(`data:${e}`)}function Yu(r,e){const t=r.split("?")[0],n=oi.extname(t).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const qs=(r,e,t=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(n=>typeof n=="string"||t?e(n):n):r),lT=(r,e)=>{const t=e.split("?")[1];return t&&(r+=`?${t}`),r};function yO(r,e,t,n,i){const a=e[t];for(let l=0;l<a.length;l++){const u=a[l];t<e.length-1?yO(r.replace(n[t],u),e,t+1,n,i):i.push(r.replace(n[t],u))}}function kz(r){const e=/\{(.*?)\}/g,t=r.match(e),n=[];if(t){const i=[];t.forEach(a=>{const l=a.substring(1,a.length-1).split(",");i.push(l)}),yO(r,i,0,t,n)}else n.push(r);return n}const p_=r=>!Array.isArray(r);class zz{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const n=qs(e);let i;for(let u=0;u<this.parsers.length;u++){const f=this.parsers[u];if(f.test(t)){i=f.getCacheableAssets(n,t);break}}i||(i={},n.forEach(u=>{i[u]=t}));const a=Object.keys(i),l={cacheKeys:a,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,l)}),a.forEach(u=>{const f=i?i[u]:t;this._cache.has(u)&&this._cache.get(u)!==f&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),t instanceof je){const u=t;n.forEach(f=>{u.baseTexture!==je.EMPTY.baseTexture&&Ft.addToCache(u.baseTexture,f),je.addToCache(u,f)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(n=>{this._cache.delete(n)}),t.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Zc=new zz;class Gz{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{let i=null,a=null;if(t.loadParser&&(a=this._parserHash[t.loadParser],a||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!a){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&u.test?.(e,t,this)){a=u;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await a.load(e,t,this),n.parser=a;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await u.testParse?.(i,t,this)&&(i=await u.parse(i,t,this)||i,n.parser=u)}return i})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const i={},a=p_(e),l=qs(e,p=>({alias:[p],src:p})),u=l.length,f=l.map(async p=>{const g=oi.toAbsolute(p.src);if(!i[p.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,p)),i[p.src]=await this.promiseCache[g].promise,t&&t(++n/u)}catch(v){throw delete this.promiseCache[g],delete i[p.src],new Error(`[Loader.load] Failed to load ${g}.
${v}`)}});return await Promise.all(f),a?i[l[0].src]:i}async unload(e){const t=qs(e,n=>({alias:[n],src:n})).map(async n=>{const i=oi.toAbsolute(n.src),a=this.promiseCache[i];if(a){const l=await a.promise;delete this.promiseCache[i],a.parser?.unload?.(l,n,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var eo=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(eo||{});const Hz=".json",Vz="application/json",jz={extension:{type:Qe.LoadParser,priority:eo.Low},name:"loadJson",test(r){return df(r,Vz)||Yu(r,Hz)},async load(r){return await(await tt.ADAPTER.fetch(r)).json()}};ct.add(jz);const $z=".txt",Wz="text/plain",Xz={name:"loadTxt",extension:{type:Qe.LoadParser,priority:eo.Low},test(r){return df(r,Wz)||Yu(r,$z)},async load(r){return await(await tt.ADAPTER.fetch(r)).text()}};ct.add(Xz);const Yz=["normal","bold","100","200","300","400","500","600","700","800","900"],qz=[".ttf",".otf",".woff",".woff2"],Qz=["font/ttf","font/otf","font/woff","font/woff2"],Kz=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Zz(r){const e=oi.extname(r),t=oi.basename(r,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let n=t.length>0;for(const a of t)if(!a.match(Kz)){n=!1;break}let i=t.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const Jz=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function eG(r){return Jz.test(r)?r:encodeURI(r)}const tG={extension:{type:Qe.LoadParser,priority:eo.Low},name:"loadWebFont",test(r){return df(r,Qz)||Yu(r,qz)},async load(r,e){const t=tt.ADAPTER.getFontFaceSet();if(t){const n=[],i=e.data?.family??Zz(r),a=e.data?.weights?.filter(u=>Yz.includes(u))??["normal"],l=e.data??{};for(let u=0;u<a.length;u++){const f=a[u],p=new FontFace(i,`url(${eG(r)})`,{...l,weight:f});await p.load(),t.add(p),n.push(p)}return n.length===1?n[0]:n}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(e=>tt.ADAPTER.getFontFaceSet().delete(e))}};ct.add(tG);const rG=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let qd=null,uT=class{constructor(){qd||(qd=URL.createObjectURL(new Blob([rG],{type:"application/javascript"}))),this.worker=new Worker(qd)}};uT.revokeObjectURL=function(){qd&&(URL.revokeObjectURL(qd),qd=null)};const nG=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Qd=null;class _O{constructor(){Qd||(Qd=URL.createObjectURL(new Blob([nG],{type:"application/javascript"}))),this.worker=new Worker(Qd)}}_O.revokeObjectURL=function(){Qd&&(URL.revokeObjectURL(Qd),Qd=null)};let VP=0,tE;class iG{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new uT;t.addEventListener("message",n=>{t.terminate(),uT.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){tE===void 0&&(tE=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<tE&&(this._createdWorkers++,e=new _O().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((i,a)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:a})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),n=t.id;this.resolveHash[VP]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:VP++,id:n})}}const jP=new iG;function qm(r,e,t){r.resource.internal=!0;const n=new je(r),i=()=>{delete e.promiseCache[t],Zc.has(t)&&Zc.remove(t)};return n.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const aG=[".jpeg",".jpg",".png",".webp",".avif"],sG=["image/jpeg","image/png","image/webp","image/avif"];async function oG(r){const e=await tt.ADAPTER.fetch(r);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const s0={name:"loadTextures",extension:{type:Qe.LoadParser,priority:eo.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return df(r,sG)||Yu(r,aG)},async load(r,e,t){const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await jP.isImageBitmapSupported()?i=await jP.loadImageBitmap(r):i=await oG(r):i=await new Promise((u,f)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=r,p.complete?u(p):(p.onload=()=>u(p),p.onerror=g=>f(g))});const a={...e.data};a.resolution??(a.resolution=Ll(r)),n&&a.resourceOptions?.ownsImageBitmap===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const l=new Ft(i,a);return l.resource.src=r,qm(l,t,r)},unload(r){r.destroy(!0)}};ct.add(s0);const lG=".svg",uG="image/svg+xml",cG={extension:{type:Qe.LoadParser,priority:eo.High},name:"loadSVG",test(r){return df(r,uG)||Yu(r,lG)},async testParse(r){return tT.test(r)},async parse(r,e,t){const n=new tT(r,e?.data?.resourceOptions);await n.load();const i=new Ft(n,{resolution:Ll(r),...e?.data});return i.resource.src=e.src,qm(i,t,e.src)},async load(r,e){return(await tt.ADAPTER.fetch(r)).text()},unload:s0.unload};ct.add(cG);const hG=[".mp4",".m4v",".webm",".ogv"],dG=["video/mp4","video/webm","video/ogg"],fG={name:"loadVideo",extension:{type:Qe.LoadParser,priority:eo.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(r){return df(r,dG)||Yu(r,hG)},async load(r,e,t){let n;const i=await(await tt.ADAPTER.fetch(r)).blob(),a=URL.createObjectURL(i);try{const l={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...e?.data?.resourceOptions,autoLoad:!0},u=new oO(a,l);await u.load();const f=new Ft(u,{alphaMode:await k4(),resolution:Ll(r),...e?.data});f.resource.src=r,n=qm(f,t,r),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(l){throw URL.revokeObjectURL(a),l}return n},unload(r){r.destroy(!0)}};ct.add(fG);class pG{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}}getAlias(e){const{alias:t,name:n,src:i,srcs:a}=e;return qs(t||n||i||a,l=>typeof l=="string"?l:Array.isArray(l)?l.map(u=>u?.src??u?.srcs??u):l?.src||l?.srcs?l.src??l.srcs:l,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const n=[];Array.isArray(t)?t.forEach(i=>{const a=i.src??i.srcs,l=i.alias??i.name;let u;if(typeof l=="string"){const f=this._createBundleAssetId(e,l);n.push(f),u=[l,f]}else{const f=l.map(p=>this._createBundleAssetId(e,p));n.push(...f),u=[...l,...f]}this.add({...i,alias:u,src:a})}):Object.keys(t).forEach(i=>{const a=[i,this._createBundleAssetId(e,i)];if(typeof t[i]=="string")this.add({alias:a,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:a,src:t[i]});else{const l=t[i],u=l.src??l.srcs;this.add({...l,alias:a,src:Array.isArray(u)?u:[u]})}n.push(...a)}),this._bundles[e]=n}add(e,t,n,i,a){const l=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Qt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),l.push({alias:e,src:t,data:n,format:i,loadParser:a})):Array.isArray(e)?l.push(...e):l.push(e);let u;u=f=>{this.hasKey(f)&&console.warn(`[Resolver] already has key: ${f} overwriting`)},qs(l).forEach(f=>{const{src:p,srcs:g}=f;let{data:v,format:b,loadParser:x}=f;const S=qs(p||g).map(P=>typeof P=="string"?kz(P):Array.isArray(P)?P:[P]),E=this.getAlias(f);Array.isArray(E)?E.forEach(u):u(E);const A=[];S.forEach(P=>{P.forEach(L=>{let D={};if(typeof L!="object"){D.src=L;for(let N=0;N<this._parsers.length;N++){const M=this._parsers[N];if(M.test(L)){D=M.parse(L);break}}}else v=L.data??v,b=L.format??b,x=L.loadParser??x,D={...D,...L};if(!E)throw new Error(`[Resolver] alias is undefined for this asset: ${D.src}`);D=this.buildResolvedAsset(D,{aliases:E,data:v,format:b,loadParser:x}),A.push(D)})}),E.forEach(P=>{this._assetMap[P]=A})})}resolveBundle(e){const t=p_(e);e=qs(e);const n={};return e.forEach(i=>{const a=this._bundles[i];if(a){const l=this.resolve(a),u={};for(const f in l){const p=l[f];u[this._extractAssetIdFromBundle(i,f)]=p}n[i]=u}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const n={};for(const i in t)n[i]=t[i].src;return n}return t.src}resolve(e){const t=p_(e);e=qs(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let a=this._assetMap[i];const l=a[0],u=this._getPreferredOrder(a);u?.priority.forEach(f=>{u.params[f].forEach(p=>{const g=a.filter(v=>v[f]?v[f]===p:!1);g.length&&(a=g)})}),this._resolverHash[i]=a[0]??l}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const n=e[0],i=this._preferredOrder.find(a=>a.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:n,data:i,loadParser:a,format:l}=t;return(this._basePath||this._rootPath)&&(e.src=oi.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=a??e.loadParser,e.format=l??e.format??oi.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class mG{constructor(){this._detections=[],this._initialized=!1,this.resolver=new pG,this.loader=new Gz,this.cache=Zc,this._backgroundLoader=new Uz(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const t=e.texturePreference?.resolution??1,n=typeof t=="number"?[t]:t,i=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,n,i,a){this.resolver.add(e,t,n,i,a)}async load(e,t){this._initialized||await this.init();const n=p_(e),i=qs(e).map(u=>{if(typeof u!="string"){const f=this.resolver.getAlias(u);return f.some(p=>!this.resolver.hasKey(p))&&this.add(u),Array.isArray(f)?f[0]:f}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),a=this.resolver.resolve(i),l=await this._mapLoadToResolve(a,t);return n?l[i[0]]:l}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),a={},l=Object.keys(i);let u=0,f=0;const p=()=>{t?.(++u/f)},g=l.map(v=>{const b=i[v];return f+=Object.keys(b).length,this._mapLoadToResolve(b,p).then(x=>{a[v]=x})});return await Promise.all(g),n?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Zc.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=Zc.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(n,t);this._backgroundLoader.active=!0;const l={};return n.forEach((u,f)=>{const p=a[u.src],g=[u.src];u.alias&&g.push(...u.alias),l[i[f]]=p,Zc.set(g,p)}),l}async unload(e){this._initialized||await this.init();const t=qs(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=qs(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(n=>{Zc.remove(n.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((n,i)=>t.indexOf(n)===i),t}get detections(){return this._detections}get preferWorkers(){return s0.config.preferWorkers}set preferWorkers(e){Qt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(n=>n in e).forEach(n=>{t.config[n]=e[n]})})}}const my=new mG;ct.handleByList(Qe.LoadParser,my.loader.parsers).handleByList(Qe.ResolveParser,my.resolver.parsers).handleByList(Qe.CacheParser,my.cache.parsers).handleByList(Qe.DetectionParser,my.detections);const gG={extension:Qe.CacheParser,test:r=>Array.isArray(r)&&r.every(e=>e instanceof je),getCacheableAssets:(r,e)=>{const t={};return r.forEach(n=>{e.forEach((i,a)=>{t[n+(a===0?"":a+1)]=i})}),t}};ct.add(gG);async function bO(r){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(r)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const vG={extension:{type:Qe.DetectionParser,priority:1},test:async()=>bO("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(e=>e!=="avif")};ct.add(vG);const yG={extension:{type:Qe.DetectionParser,priority:0},test:async()=>bO("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(e=>e!=="webp")};ct.add(yG);const $P=["png","jpg","jpeg"],_G={extension:{type:Qe.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...$P],remove:async r=>r.filter(e=>!$P.includes(e))};ct.add(_G);const bG="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function p1(r){return bG?!1:document.createElement("video").canPlayType(r)!==""}const xG={extension:{type:Qe.DetectionParser,priority:0},test:async()=>p1("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(e=>e!=="webm")};ct.add(xG);const SG={extension:{type:Qe.DetectionParser,priority:0},test:async()=>p1("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(e=>e!=="mp4"&&e!=="m4v")};ct.add(SG);const EG={extension:{type:Qe.DetectionParser,priority:0},test:async()=>p1("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(e=>e!=="ogv")};ct.add(EG);const TG={extension:Qe.ResolveParser,test:s0.test,parse:r=>({resolution:parseFloat(tt.RETINA_PREFIX.exec(r)?.[1]??"1"),format:oi.extname(r).slice(1),src:r})};ct.add(TG);const CG=[".xml",".fnt"],wG={extension:{type:Qe.LoadParser,priority:eo.Normal},name:"loadBitmapFont",test(r){return CG.includes(oi.extname(r).toLowerCase())},async testParse(r){return Xy.test(r)||oT.test(r)},async parse(r,e,t){const n=Xy.test(r)?Xy.parse(r):oT.parse(r),{src:i}=e,{page:a}=n,l=[];for(let p=0;p<a.length;++p){const g=a[p].file;let v=oi.join(oi.dirname(i),g);v=lT(v,i),l.push(v)}const u=await t.load(l),f=l.map(p=>u[p]);return Pu.install(n,f,!0)},async load(r,e){return(await tt.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};ct.add(wG);const m_={build(r){const e=r.points;let t,n,i,a,l,u;if(r.type===Ei.CIRC){const S=r.shape;t=S.x,n=S.y,l=u=S.radius,i=a=0}else if(r.type===Ei.ELIP){const S=r.shape;t=S.x,n=S.y,l=S.width,u=S.height,i=a=0}else{const S=r.shape,E=S.width/2,A=S.height/2;t=S.x+E,n=S.y+A,l=u=Math.max(0,Math.min(S.radius,Math.min(E,A))),i=E-l,a=A-u}if(!(l>=0&&u>=0&&i>=0&&a>=0)){e.length=0;return}const f=Math.ceil(2.3*Math.sqrt(l+u)),p=f*8+(i?4:0)+(a?4:0);if(e.length=p,p===0)return;if(f===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=n+a,e[2]=e[4]=t-i,e[5]=e[7]=n-a;return}let g=0,v=f*4+(i?2:0)+2,b=v,x=p;{const S=i+l,E=a,A=t+S,P=t-S,L=n+E;if(e[g++]=A,e[g++]=L,e[--v]=L,e[--v]=P,a){const D=n-E;e[b++]=P,e[b++]=D,e[--x]=D,e[--x]=A}}for(let S=1;S<f;S++){const E=Math.PI/2*(S/f),A=i+Math.cos(E)*l,P=a+Math.sin(E)*u,L=t+A,D=t-A,N=n+P,M=n-P;e[g++]=L,e[g++]=N,e[--v]=N,e[--v]=D,e[b++]=D,e[b++]=M,e[--x]=M,e[--x]=L}{const S=i,E=a+u,A=t+S,P=t-S,L=n+E,D=n-E;e[g++]=A,e[g++]=L,e[--x]=D,e[--x]=A,i&&(e[g++]=P,e[g++]=L,e[--x]=D,e[--x]=P)}},triangulate(r,e){const t=r.points,n=e.points,i=e.indices;if(t.length===0)return;let a=n.length/2;const l=a;let u,f;if(r.type!==Ei.RREC){const g=r.shape;u=g.x,f=g.y}else{const g=r.shape;u=g.x+g.width/2,f=g.y+g.height/2}const p=r.matrix;n.push(r.matrix?p.a*u+p.c*f+p.tx:u,r.matrix?p.b*u+p.d*f+p.ty:f),a++,n.push(t[0],t[1]);for(let g=2;g<t.length;g+=2)n.push(t[g],t[g+1]),i.push(a++,l,a);i.push(l+1,l,a)}};function WP(r,e=!1){const t=r.length;if(t<6)return;let n=0;for(let i=0,a=r[t-2],l=r[t-1];i<t;i+=2){const u=r[i],f=r[i+1];n+=(u-a)*(f+l),a=u,l=f}if(!e&&n>0||e&&n<=0){const i=t/2;for(let a=i+i%2;a<t;a+=2){const l=t-a-2,u=t-a-1,f=a,p=a+1;[r[l],r[f]]=[r[f],r[l]],[r[u],r[p]]=[r[p],r[u]]}}}const xO={build(r){r.points=r.shape.points.slice()},triangulate(r,e){let t=r.points;const n=r.holes,i=e.points,a=e.indices;if(t.length>=6){WP(t,!1);const l=[];for(let p=0;p<n.length;p++){const g=n[p];WP(g.points,!0),l.push(t.length/2),t=t.concat(g.points)}const u=J3(t,l,2);if(!u)return;const f=i.length/2;for(let p=0;p<u.length;p+=3)a.push(u[p]+f),a.push(u[p+1]+f),a.push(u[p+2]+f);for(let p=0;p<t.length;p++)i.push(t[p])}}},AG={build(r){const e=r.shape,t=e.x,n=e.y,i=e.width,a=e.height,l=r.points;l.length=0,i>=0&&a>=0&&l.push(t,n,t+i,n,t+i,n+a,t,n+a)},triangulate(r,e){const t=r.points,n=e.points;if(t.length===0)return;const i=n.length/2;n.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},RG={build(r){m_.build(r)},triangulate(r,e){m_.triangulate(r,e)}};var ss=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(ss||{}),Bu=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(Bu||{});const af={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,e=20){if(!this.adaptive||!r||isNaN(r))return e;let t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class XP{static curveTo(e,t,n,i,a,l){const u=l[l.length-2],f=l[l.length-1]-t,p=u-e,g=i-t,v=n-e,b=Math.abs(f*v-p*g);if(b<1e-8||a===0)return(l[l.length-2]!==e||l[l.length-1]!==t)&&l.push(e,t),null;const x=f*f+p*p,S=g*g+v*v,E=f*g+p*v,A=a*Math.sqrt(x)/b,P=a*Math.sqrt(S)/b,L=A*E/x,D=P*E/S,N=A*v+P*p,M=A*g+P*f,$=p*(P+L),U=f*(P+L),V=v*(A+D),re=g*(A+D),O=Math.atan2(U-M,$-N),Q=Math.atan2(re-M,V-N);return{cx:N+e,cy:M+t,radius:a,startAngle:O,endAngle:Q,anticlockwise:p*g>v*f}}static arc(e,t,n,i,a,l,u,f,p){const g=u-l,v=af._segmentsCount(Math.abs(g)*a,Math.ceil(Math.abs(g)/o_)*40),b=g/(v*2),x=b*2,S=Math.cos(b),E=Math.sin(b),A=v-1,P=A%1/A;for(let L=0;L<=A;++L){const D=L+P*L,N=b+l+x*D,M=Math.cos(N),$=-Math.sin(N);p.push((S*M+E*$)*a+n,(S*-$+E*M)*a+i)}}}class PG{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class m1{static curveLength(e,t,n,i,a,l,u,f){let p=0,g=0,v=0,b=0,x=0,S=0,E=0,A=0,P=0,L=0,D=0,N=e,M=t;for(let $=1;$<=10;++$)g=$/10,v=g*g,b=v*g,x=1-g,S=x*x,E=S*x,A=E*e+3*S*g*n+3*x*v*a+b*u,P=E*t+3*S*g*i+3*x*v*l+b*f,L=N-A,D=M-P,N=A,M=P,p+=Math.sqrt(L*L+D*D);return p}static curveTo(e,t,n,i,a,l,u){const f=u[u.length-2],p=u[u.length-1];u.length-=2;const g=af._segmentsCount(m1.curveLength(f,p,e,t,n,i,a,l));let v=0,b=0,x=0,S=0,E=0;u.push(f,p);for(let A=1,P=0;A<=g;++A)P=A/g,v=1-P,b=v*v,x=b*v,S=P*P,E=S*P,u.push(x*f+3*b*P*e+3*v*S*n+E*a,x*p+3*b*P*t+3*v*S*i+E*l)}}function YP(r,e,t,n,i,a,l,u){const f=r-t*i,p=e-n*i,g=r+t*a,v=e+n*a;let b,x;l?(b=n,x=-t):(b=-n,x=t);const S=f+b,E=p+x,A=g+b,P=v+x;return u.push(S,E,A,P),2}function zc(r,e,t,n,i,a,l,u){const f=t-r,p=n-e;let g=Math.atan2(f,p),v=Math.atan2(i-r,a-e);u&&g<v?g+=Math.PI*2:!u&&g>v&&(v+=Math.PI*2);let b=g;const x=v-g,S=Math.abs(x),E=Math.sqrt(f*f+p*p),A=(15*S*Math.sqrt(E)/Math.PI>>0)+1,P=x/A;if(b+=P,u){l.push(r,e,t,n);for(let L=1,D=b;L<A;L++,D+=P)l.push(r,e,r+Math.sin(D)*E,e+Math.cos(D)*E);l.push(r,e,i,a)}else{l.push(t,n,r,e);for(let L=1,D=b;L<A;L++,D+=P)l.push(r+Math.sin(D)*E,e+Math.cos(D)*E,r,e);l.push(i,a,r,e)}return A*2}function MG(r,e){const t=r.shape;let n=r.points||t.points.slice();const i=e.closePointEps;if(n.length===0)return;const a=r.lineStyle,l=new $t(n[0],n[1]),u=new $t(n[n.length-2],n[n.length-1]),f=t.type!==Ei.POLY||t.closeStroke,p=Math.abs(l.x-u.x)<i&&Math.abs(l.y-u.y)<i;if(f){n=n.slice(),p&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const W=(l.x+u.x)*.5,k=(u.y+l.y)*.5;n.unshift(W,k),n.push(W,k)}const g=e.points,v=n.length/2;let b=n.length;const x=g.length/2,S=a.width/2,E=S*S,A=a.miterLimit*a.miterLimit;let P=n[0],L=n[1],D=n[2],N=n[3],M=0,$=0,U=-(L-N),V=P-D,re=0,O=0,Q=Math.sqrt(U*U+V*V);U/=Q,V/=Q,U*=S,V*=S;const q=a.alignment,ae=(1-q)*2,oe=q*2;f||(a.cap===Bu.ROUND?b+=zc(P-U*(ae-oe)*.5,L-V*(ae-oe)*.5,P-U*ae,L-V*ae,P+U*oe,L+V*oe,g,!0)+2:a.cap===Bu.SQUARE&&(b+=YP(P,L,U,V,ae,oe,!0,g))),g.push(P-U*ae,L-V*ae,P+U*oe,L+V*oe);for(let W=1;W<v-1;++W){P=n[(W-1)*2],L=n[(W-1)*2+1],D=n[W*2],N=n[W*2+1],M=n[(W+1)*2],$=n[(W+1)*2+1],U=-(L-N),V=P-D,Q=Math.sqrt(U*U+V*V),U/=Q,V/=Q,U*=S,V*=S,re=-(N-$),O=D-M,Q=Math.sqrt(re*re+O*O),re/=Q,O/=Q,re*=S,O*=S;const k=D-P,J=L-N,F=D-M,H=$-N,Y=k*F+J*H,K=J*F-H*k,se=K<0;if(Math.abs(K)<.001*Math.abs(Y)){g.push(D-U*ae,N-V*ae,D+U*oe,N+V*oe),Y>=0&&(a.join===ss.ROUND?b+=zc(D,N,D-U*ae,N-V*ae,D-re*ae,N-O*ae,g,!1)+4:b+=2,g.push(D-re*oe,N-O*oe,D+re*ae,N+O*ae));continue}const me=(-U+P)*(-V+N)-(-U+D)*(-V+L),de=(-re+M)*(-O+N)-(-re+D)*(-O+$),_e=(k*de-F*me)/K,we=(H*me-J*de)/K,Pe=(_e-D)*(_e-D)+(we-N)*(we-N),ve=D+(_e-D)*ae,Ae=N+(we-N)*ae,fe=D-(_e-D)*oe,ke=N-(we-N)*oe,ut=Math.min(k*k+J*J,F*F+H*H),He=se?ae:oe,qe=ut+He*He*E,Kt=Pe<=qe;let cr=a.join;if(cr===ss.MITER&&Pe/E>A&&(cr=ss.BEVEL),Kt)switch(cr){case ss.MITER:{g.push(ve,Ae,fe,ke);break}case ss.BEVEL:{se?g.push(ve,Ae,D+U*oe,N+V*oe,ve,Ae,D+re*oe,N+O*oe):g.push(D-U*ae,N-V*ae,fe,ke,D-re*ae,N-O*ae,fe,ke),b+=2;break}case ss.ROUND:{se?(g.push(ve,Ae,D+U*oe,N+V*oe),b+=zc(D,N,D+U*oe,N+V*oe,D+re*oe,N+O*oe,g,!0)+4,g.push(ve,Ae,D+re*oe,N+O*oe)):(g.push(D-U*ae,N-V*ae,fe,ke),b+=zc(D,N,D-U*ae,N-V*ae,D-re*ae,N-O*ae,g,!1)+4,g.push(D-re*ae,N-O*ae,fe,ke));break}}else{switch(g.push(D-U*ae,N-V*ae,D+U*oe,N+V*oe),cr){case ss.MITER:{se?g.push(fe,ke,fe,ke):g.push(ve,Ae,ve,Ae),b+=2;break}case ss.ROUND:{se?b+=zc(D,N,D+U*oe,N+V*oe,D+re*oe,N+O*oe,g,!0)+2:b+=zc(D,N,D-U*ae,N-V*ae,D-re*ae,N-O*ae,g,!1)+2;break}}g.push(D-re*ae,N-O*ae,D+re*oe,N+O*oe),b+=2}}P=n[(v-2)*2],L=n[(v-2)*2+1],D=n[(v-1)*2],N=n[(v-1)*2+1],U=-(L-N),V=P-D,Q=Math.sqrt(U*U+V*V),U/=Q,V/=Q,U*=S,V*=S,g.push(D-U*ae,N-V*ae,D+U*oe,N+V*oe),f||(a.cap===Bu.ROUND?b+=zc(D-U*(ae-oe)*.5,N-V*(ae-oe)*.5,D-U*ae,N-V*ae,D+U*oe,N+V*oe,g,!1)+2:a.cap===Bu.SQUARE&&(b+=YP(D,N,U,V,ae,oe,!1,g)));const Ie=e.indices,G=af.epsilon*af.epsilon;for(let W=x;W<b+x-2;++W)P=g[W*2],L=g[W*2+1],D=g[(W+1)*2],N=g[(W+1)*2+1],M=g[(W+2)*2],$=g[(W+2)*2+1],!(Math.abs(P*(N-$)+D*($-L)+M*(L-N))<G)&&Ie.push(W,W+1,W+2)}function IG(r,e){let t=0;const n=r.shape,i=r.points||n.points,a=n.type!==Ei.POLY||n.closeStroke;if(i.length===0)return;const l=e.points,u=e.indices,f=i.length/2,p=l.length/2;let g=p;for(l.push(i[0],i[1]),t=1;t<f;t++)l.push(i[t*2],i[t*2+1]),u.push(g,g+1),g++;a&&u.push(g,p)}function qP(r,e){r.lineStyle.native?IG(r,e):MG(r,e)}class g1{static curveLength(e,t,n,i,a,l){const u=e-2*n+a,f=t-2*i+l,p=2*n-2*e,g=2*i-2*t,v=4*(u*u+f*f),b=4*(u*p+f*g),x=p*p+g*g,S=2*Math.sqrt(v+b+x),E=Math.sqrt(v),A=2*v*E,P=2*Math.sqrt(x),L=b/E;return(A*S+E*b*(S-P)+(4*x*v-b*b)*Math.log((2*E+L+S)/(L+P)))/(4*A)}static curveTo(e,t,n,i,a){const l=a[a.length-2],u=a[a.length-1],f=af._segmentsCount(g1.curveLength(l,u,e,t,n,i));let p=0,g=0;for(let v=1;v<=f;++v){const b=v/f;p=l+(e-l)*b,g=u+(t-u)*b,a.push(p+(e+(n-e)*b-p)*b,g+(t+(i-t)*b-g)*b)}}}const rE={[Ei.POLY]:xO,[Ei.CIRC]:m_,[Ei.ELIP]:m_,[Ei.RECT]:AG,[Ei.RREC]:RG},QP=[],gy=[];class g_{constructor(e,t=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new g_(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const wd=new $t,SO=class EO extends wD{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new d_,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),gy.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),QP.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,n=null,i=null){const a=new g_(e,t,n,i);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const n=new g_(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let n=0;n<t.length;++n){const i=t[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,wd):wd.copyFrom(e),i.shape.contains(wd.x,wd.y))){let a=!1;if(i.holes){for(let l=0;l<i.holes.length;l++)if(i.holes[l].shape.contains(wd.x,wd.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let f=this.shapeIndex;f<t.length;f++){this.shapeIndex++;const p=t[f],g=p.fillStyle,v=p.lineStyle;rE[p.type].build(p),p.matrix&&this.transformPoints(p.points,p.matrix),(g.visible||v.visible)&&this.processHoles(p.holes);for(let b=0;b<2;b++){const x=b===0?g:v;if(!x.visible)continue;const S=x.texture.baseTexture,E=this.indices.length,A=this.points.length/2;S.wrapMode=Dl.REPEAT,b===0?this.processFill(p):this.processLine(p);const P=this.points.length/2-A;P!==0&&(n&&!this._compareStyles(i,x)&&(n.end(E,A),n=null),n||(n=QP.pop()||new PG,n.begin(x,E,A),this.batches.push(n),i=x),this.addUvs(this.points,e,x.texture,A,P,x.matrix))}}const a=this.indices.length,l=this.points.length/2;if(n&&n.end(a,l),this.batches.length===0){this.batchable=!0;return}const u=l>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const n=this.graphicsData[e],i=n.fillStyle,a=n.lineStyle;if(i&&!i.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,n=e.length;t<n;t++){const i=e[t];for(let a=0;a<i.size;a++){const l=i.start+a;this.indicesUint16[l]=this.indicesUint16[l]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<EO.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ft._globalBatch;for(let v=0;v<this.drawCalls.length;v++)this.drawCalls[v].texArray.clear(),gy.push(this.drawCalls[v]);this.drawCalls.length=0;const t=this.colors,n=this.textureIds;let i=gy.pop();i||(i=new $E,i.texArray=new qE),i.texArray.count=0,i.start=0,i.size=0,i.type=us.TRIANGLES;let a=0,l=null,u=0,f=!1,p=us.TRIANGLES,g=0;this.drawCalls.push(i);for(let v=0;v<this.batches.length;v++){const b=this.batches[v],x=8,S=b.style,E=S.texture.baseTexture;f!==!!S.native&&(f=!!S.native,p=f?us.LINES:us.TRIANGLES,l=null,a=x,e++),l!==E&&(l=E,E._batchEnabled!==e&&(a===x&&(e++,a=0,i.size>0&&(i=gy.pop(),i||(i=new $E,i.texArray=new qE),this.drawCalls.push(i)),i.start=g,i.size=0,i.texArray.count=0,i.type=p),E.touched=1,E._batchEnabled=e,E._batchLocation=a,E.wrapMode=Dl.REPEAT,i.texArray.elements[i.texArray.count++]=E,a++)),i.size+=b.size,g+=b.size,u=E._batchLocation,this.addColors(t,S.color,S.alpha,b.attribSize,b.attribStart),this.addTextureIds(n,u,b.attribSize,b.attribStart)}Ft._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,n=this.colors,i=this.textureIds,a=new ArrayBuffer(e.length*3*4),l=new Float32Array(a),u=new Uint32Array(a);let f=0;for(let p=0;p<e.length/2;p++)l[f++]=e[p*2],l[f++]=e[p*2+1],l[f++]=t[p*2],l[f++]=t[p*2+1],u[f++]=n[p],l[f++]=i[p];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?xO.triangulate(e,this):rE[e.type].triangulate(e,this)}processLine(e){qP(e,this);for(let t=0;t<e.holes.length;t++)qP(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const n=e[t];rE[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){const i=e[n*2],a=e[n*2+1];e[n*2]=t.a*i+t.c*a+t.tx,e[n*2+1]=t.b*i+t.d*a+t.ty}}addColors(e,t,n,i,a=0){const l=kr.shared.setValue(t).toLittleEndianNumber(),u=kr.shared.setValue(l).toPremultiplied(n);e.length=Math.max(e.length,a+i);for(let f=0;f<i;f++)e[a+f]=u}addTextureIds(e,t,n,i=0){e.length=Math.max(e.length,i+n);for(let a=0;a<n;a++)e[i+a]=t}addUvs(e,t,n,i,a,l=null){let u=0;const f=t.length,p=n.frame;for(;u<a;){let v=e[(i+u)*2],b=e[(i+u)*2+1];if(l){const x=l.a*v+l.c*b+l.tx;b=l.b*v+l.d*b+l.ty,v=x}u++,t.push(v/p.width,b/p.height)}const g=n.baseTexture;(p.width<g.width||p.height<g.height)&&this.adjustUvs(t,n,f,a)}adjustUvs(e,t,n,i){const a=t.baseTexture,l=1e-6,u=n+i*2,f=t.frame,p=f.width/a.width,g=f.height/a.height;let v=f.x/f.width,b=f.y/f.height,x=Math.floor(e[n]+l),S=Math.floor(e[n+1]+l);for(let E=n+2;E<u;E+=2)x=Math.min(x,Math.floor(e[E]+l)),S=Math.min(S,Math.floor(e[E+1]+l));v-=x,b-=S;for(let E=n;E<u;E+=2)e[E]=(e[E]+v)*p,e[E+1]=(e[E+1]+b)*g}};SO.BATCHABLE_SIZE=100;let DG=SO;class o0{constructor(){this.color=16777215,this.alpha=1,this.texture=je.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new o0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=je.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class v1 extends o0{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Bu.BUTT,this.join=ss.MITER,this.miterLimit=10}clone(){const e=new v1;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Bu.BUTT,this.join=ss.MITER,this.miterLimit=10}}const nE={},cT=class qy extends Jn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new o0,this._lineStyle=new v1,this._matrix=null,this._holeMode=!1,this.state=Jo.for2d(),this._geometry=e||new DG,this._geometry.refCount++,this._transformID=-1,this._tintColor=new kr(16777215),this.blendMode=wt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new qy(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,n,i=.5,a=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:n,alignment:i,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:je.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Bu.BUTT,join:ss.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new th,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new th,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],a=n[n.length-1];return(i!==e||a!==t)&&n.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,i){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),g1.curveTo(e,t,n,i,a),this}bezierCurveTo(e,t,n,i,a,l){return this._initCurve(),m1.curveTo(e,t,n,i,a,l,this.currentPath.points),this}arcTo(e,t,n,i,a){this._initCurve(e,t);const l=this.currentPath.points,u=XP.curveTo(e,t,n,i,a,l);if(u){const{cx:f,cy:p,radius:g,startAngle:v,endAngle:b,anticlockwise:x}=u;this.arc(f,p,g,v,b,x)}return this}arc(e,t,n,i,a,l=!1){if(i===a)return this;if(!l&&a<=i?a+=o_:l&&i<=a&&(i+=o_),a-i===0)return this;const u=e+Math.cos(i)*n,f=t+Math.sin(i)*n,p=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const v=Math.abs(g[g.length-2]-u),b=Math.abs(g[g.length-1]-f);v<p&&b<p||g.push(u,f)}else this.moveTo(u,f),g=this.currentPath.points;return XP.arc(u,f,e,t,n,i,a,l,g),this}beginFill(e=0,t){return this.beginTextureFill({texture:je.WHITE,color:e,alpha:t})}normalizeColor(e){const t=kr.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:je.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,i){return this.drawShape(new Bt(e,t,n,i))}drawRoundedRect(e,t,n,i,a){return this.drawShape(new t0(e,t,n,i,a))}drawCircle(e,t,n){return this.drawShape(new J_(e,t,n))}drawEllipse(e,t,n,i){return this.drawShape(new e0(e,t,n,i))}drawPolygon(...e){let t,n=!0;const i=e[0];i.points?(n=i.closeStroke,t=i.points):Array.isArray(e[0])?t=e[0]:t=e;const a=new th(t);return a.closeStroke=n,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Ei.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const a=e.batches[i],l=a.style.color,u=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),f=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),p=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),g={vertexData:u,blendMode:t,indices:p,uvs:f,_batchRGB:kr.shared.setValue(l).toRgbArray(),_tintRGB:l,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[i]=g}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){const i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const t=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,a=t.uniforms,l=n.drawCalls;a.translationMatrix=this.transform.worldTransform,kr.shared.setValue(this._tintColor).premultiply(i).toArray(a.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let u=0,f=l.length;u<f;u++)this._renderDrawCallDirect(e,n.drawCalls[u])}_renderDrawCallDirect(e,t){const{texArray:n,type:i,size:a,start:l}=t,u=n.count;for(let f=0;f<u;f++)e.texture.bind(n.elements[f],f);e.geometry.draw(i,a,l)}_resolveDirectShader(e){let t=this.shader;const n=this.pluginName;if(!t){if(!nE[n]){const{maxTextures:i}=e.plugins[n],a=new Int32Array(i);for(let f=0;f<i;f++)a[f]=f;const l={tint:new Float32Array([1,1,1,1]),translationMatrix:new Sr,default:Js.from({uSamplers:a},!0)},u=e.plugins[n]._shader.program;nE[n]=new Yo(u,l)}t=nE[n]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:n,maxX:i,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,t,n,i,a)}containsPoint(e){return this.worldTransform.applyInverse(e,qy._TEMP_POINT),this._geometry.containsPoint(qy._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=kr.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,n=t.a,i=t.b,a=t.c,l=t.d,u=t.tx,f=t.ty,p=this._geometry.points,g=this.vertexData;let v=0;for(let b=0;b<p.length;b+=2){const x=p[b],S=p[b+1];g[v++]=n*x+a*S+u,g[v++]=l*S+i*x+f}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};cT.curves=af,cT._TEMP_POINT=new $t;let Uu=cT;class OG extends a0{constructor(e=100,t=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],n=[],i=[],a=this.segWidth-1,l=this.segHeight-1,u=this.width/a,f=this.height/l;for(let g=0;g<e;g++){const v=g%this.segWidth,b=g/this.segWidth|0;t.push(v*u,b*f),n.push(v/a,b/l)}const p=a*l;for(let g=0;g<p;g++){const v=g%a,b=g/a|0,x=b*this.segWidth+v,S=b*this.segWidth+v+1,E=(b+1)*this.segWidth+v,A=(b+1)*this.segWidth+v+1;i.push(x,S,E,S,A,E)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class FG extends a0{constructor(e=200,t,n=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const a=n.data,l=i.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let u=0,f=e[0];const p=this._width*this.textureScale,g=e.length;for(let b=0;b<g;b++){const x=b*4;if(this.textureScale>0){const S=f.x-e[b].x,E=f.y-e[b].y,A=Math.sqrt(S*S+E*E);f=e[b],u+=A/p}else u=b/(g-1);a[x]=u,a[x+1]=0,a[x+2]=u,a[x+3]=1}let v=0;for(let b=0;b<g-1;b++){const x=b*2;l[v++]=x,l[v++]=x+1,l[v++]=x+2,l[v++]=x+2,l[v++]=x+1,l[v++]=x+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],n,i=0,a=0;const l=this.buffers[0].data,u=e.length,f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let p=0;p<u;p++){const g=e[p],v=p*4;p<e.length-1?n=e[p+1]:n=g,a=-(n.x-t.x),i=n.y-t.y;const b=Math.sqrt(i*i+a*a);b<1e-6?(i=0,a=0):(i/=b,a/=b,i*=f,a*=f),l[v]=g.x+i,l[v+1]=g.y+a,l[v+2]=g.x-i,l[v+3]=g.y-a,t=g}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class LG extends Nm{constructor(e,t,n){const i=new OG(e.width,e.height,t,n),a=new Um(je.WHITE);super(i,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:n}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const vy=10;let TO=class extends LG{constructor(e,t,n,i,a){super(je.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??e.defaultBorders?.left??vy,this._rightWidth=i??e.defaultBorders?.right??vy,this._topHeight=n??e.defaultBorders?.top??vy,this._bottomHeight=a??e.defaultBorders?.bottom??vy,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(t,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}},CO=class extends Nm{constructor(e=je.EMPTY,t,n,i,a){const l=new a0(t,n,i);l.getBuffer("aVertexPosition").static=!1;const u=new Um(e);super(l,u,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}},wO=class extends Nm{constructor(e,t,n=0){const i=new FG(e.height,t,n),a=new Um(e);n>0&&(e.baseTexture.wrapMode=Dl.REPEAT),super(i,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}},AO=class extends Jn{constructor(e=1500,t,n=16384,i=!1){super();const a=16384;n>a&&(n=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=wt.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new kr(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}};class KP{constructor(e,t,n){this.geometry=new Vu,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let a=e[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||mt.FLOAT,offset:a.offset},t[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new Tn(J4(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let l=0;l<this.dynamicProperties.length;++l){const u=this.dynamicProperties[l];u.offset=t,t+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Tn(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let l=0;l<this.staticProperties.length;++l){const u=this.staticProperties[l];u.offset=i,i+=u.size,this.staticStride+=u.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Tn(this.staticData,!0,!1);for(let l=0;l<this.dynamicProperties.length;++l){const u=this.dynamicProperties[l];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===mt.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let l=0;l<this.staticProperties.length;++l){const u=this.staticProperties[l];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===mt.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,t,n){for(let i=0;i<this.dynamicProperties.length;i++){const a=this.dynamicProperties[i];a.uploadFunction(e,t,n,a.type===mt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let i=0;i<this.staticProperties.length;i++){const a=this.staticProperties[i];a.uploadFunction(e,t,n,a.type===mt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var BG=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,NG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class RO extends r0{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Sr,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:mt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Yo.from(NG,BG,{}),this.state=Jo.for2d()}render(e){const t=e.children,n=e._maxSize,i=e._batchSize,a=this.renderer;let l=t.length;if(l===0)return;l>n&&!e.autoResize&&(l=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const f=t[0]._texture.baseTexture,p=f.alphaMode>0;this.state.blendMode=ED(e.blendMode,p),a.state.set(this.state);const g=a.gl,v=e.worldTransform.copyTo(this.tempMatrix);v.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=v.toArray(!0),this.shader.uniforms.uColor=kr.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,p).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=f,this.renderer.shader.bind(this.shader);let b=!1;for(let x=0,S=0;x<l;x+=i,S+=1){let E=l-x;E>i&&(E=i),S>=u.length&&u.push(this._generateOneMoreBuffer(e));const A=u[S];A.uploadDynamic(t,x,E);const P=e._bufferUpdateIDs[S]||0;b=b||A._updateID<P,b&&(A._updateID=e._updateID,A.uploadStatic(t,x,E)),a.geometry.bind(A.geometry),g.drawElements(g.TRIANGLES,E*6,g.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],n=e._maxSize,i=e._batchSize,a=e._properties;for(let l=0;l<n;l+=i)t.push(new KP(this.properties,a,i));return t}_generateOneMoreBuffer(e){const t=e._batchSize,n=e._properties;return new KP(this.properties,n,t)}uploadVertices(e,t,n,i,a,l){let u=0,f=0,p=0,g=0;for(let v=0;v<n;++v){const b=e[t+v],x=b._texture,S=b.scale.x,E=b.scale.y,A=x.trim,P=x.orig;A?(f=A.x-b.anchor.x*P.width,u=f+A.width,g=A.y-b.anchor.y*P.height,p=g+A.height):(u=P.width*(1-b.anchor.x),f=P.width*-b.anchor.x,p=P.height*(1-b.anchor.y),g=P.height*-b.anchor.y),i[l]=f*S,i[l+1]=g*E,i[l+a]=u*S,i[l+a+1]=g*E,i[l+a*2]=u*S,i[l+a*2+1]=p*E,i[l+a*3]=f*S,i[l+a*3+1]=p*E,l+=a*4}}uploadPosition(e,t,n,i,a,l){for(let u=0;u<n;u++){const f=e[t+u].position;i[l]=f.x,i[l+1]=f.y,i[l+a]=f.x,i[l+a+1]=f.y,i[l+a*2]=f.x,i[l+a*2+1]=f.y,i[l+a*3]=f.x,i[l+a*3+1]=f.y,l+=a*4}}uploadRotation(e,t,n,i,a,l){for(let u=0;u<n;u++){const f=e[t+u].rotation;i[l]=f,i[l+a]=f,i[l+a*2]=f,i[l+a*3]=f,l+=a*4}}uploadUvs(e,t,n,i,a,l){for(let u=0;u<n;++u){const f=e[t+u]._texture._uvs;f?(i[l]=f.x0,i[l+1]=f.y0,i[l+a]=f.x1,i[l+a+1]=f.y1,i[l+a*2]=f.x2,i[l+a*2+1]=f.y2,i[l+a*3]=f.x3,i[l+a*3+1]=f.y3,l+=a*4):(i[l]=0,i[l+1]=0,i[l+a]=0,i[l+a+1]=0,i[l+a*2]=0,i[l+a*2+1]=0,i[l+a*3]=0,i[l+a*3+1]=0,l+=a*4)}}uploadTint(e,t,n,i,a,l){for(let u=0;u<n;++u){const f=e[t+u],p=kr.shared.setValue(f._tintRGB).toPremultiplied(f.alpha,f.texture.baseTexture.alphaMode>0);i[l]=p,i[l+a]=p,i[l+a*2]=p,i[l+a*3]=p,l+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}RO.extension={name:"particle",type:Qe.RendererPlugin};ct.add(RO);let v_=class hT extends el{constructor(e,t=!0){super(e[0]instanceof je?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(kn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(kn.shared.add(this.update,this,ju.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let n=0;n<e.length;++n)t.push(je.from(e[n]));return new hT(t)}static fromImages(e){const t=[];for(let n=0;n<e.length;++n)t.push(je.from(e[n]));return new hT(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof je)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(kn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(kn.shared.add(this.update,this),this._isConnectedToTicker=!0))}};const sm=new $t;let PO=class MO extends el{constructor(e,t=100,n=100){super(e),this.tileTransform=new Ym,this._width=t,this._height=n,this.uvMatrix=this.texture.uvMatrix||new h1(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,sm);const t=this._width,n=this._height,i=-t*this.anchor._x;if(sm.x>=i&&sm.x<i+t){const a=-n*this.anchor._y;if(sm.y>=a&&sm.y<a+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const n=e instanceof je?e:je.from(e,t);return new MO(n,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}};var UG=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,kG=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zG=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,ZP=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,GG=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const yy=new Sr;class IO extends r0{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new BD,this.state=Jo.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Yo.from(ZP,GG,t),this.shader=e.context.webGLVersion>1?Yo.from(kG,UG,t):Yo.from(ZP,zG,t)}render(e){const t=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,l=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-a,i[1]=i[3]=-l,i[2]=i[4]=1-a,i[5]=i[7]=1-l,n.invalidate();const u=e._texture,f=u.baseTexture,p=f.alphaMode>0,g=e.tileTransform.localTransform,v=e.uvMatrix;let b=f.isPowerOfTwo&&u.frame.width===f.width&&u.frame.height===f.height;b&&(f._glTextures[t.CONTEXT_UID]?b=f.wrapMode!==Dl.CLAMP:f.wrapMode===Dl.CLAMP&&(f.wrapMode=Dl.REPEAT));const x=b?this.simpleShader:this.shader,S=u.width,E=u.height,A=e._width,P=e._height;yy.set(g.a*S/A,g.b*S/P,g.c*E/A,g.d*E/P,g.tx/A,g.ty/P),yy.invert(),b?yy.prepend(v.mapCoord):(x.uniforms.uMapCoord=v.mapCoord.toArray(!0),x.uniforms.uClampFrame=v.uClampFrame,x.uniforms.uClampOffset=v.uClampOffset),x.uniforms.uTransform=yy.toArray(!0),x.uniforms.uColor=kr.shared.setValue(e.tint).premultiply(e.worldAlpha,p).toArray(x.uniforms.uColor),x.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),x.uniforms.uSampler=u,t.shader.bind(x),t.geometry.bind(n),this.state.blendMode=ED(e.blendMode,p),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}IO.extension={name:"tilingSprite",type:Qe.RendererPlugin};ct.add(IO);const DO=class dT{constructor(e){this.stage=new Jn,e=Object.assign({forceCanvas:!1},e),this.renderer=fz(e),dT._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(e,t){const n=dT._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};DO._plugins=[];let uh=DO;ct.handleByList(Qe.Application,uh._plugins);class OO{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,n;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:a}=this._resizeTo;t=i,n=a}this.renderer.resize(t,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}OO.extension=Qe.Application;ct.add(OO);function ka(r){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(r)}function HG(r,e){if(ka(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(ka(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function FO(r){var e=HG(r,"string");return ka(e)==="symbol"?e:String(e)}function En(r,e,t){return e=FO(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fT(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function VG(r){if(Array.isArray(r))return fT(r)}function jG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function $G(r,e){if(r){if(typeof r=="string")return fT(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fT(r,e)}}function WG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nl(r){return VG(r)||jG(r)||$G(r)||WG()}function hn(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];if(!r){var a;if(e===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;a=new Error(e.replace(/%s/g,function(){return String(n[l++])})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}var XG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YG(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function qG(r){return r==null}var QG=qG;function bm(r){var e=[];if(typeof r>"u")return e;if(typeof r=="string")e=r.split(",");else if(typeof r=="number")e=[r];else if(Array.isArray(r))e=Nl(r);else if(r!==null&&ka(r)==="object"){var t=r&&r?.x||0,n=r&&r?.y||0;e=[t,n]}else return e;return e.filter(function(i){return!QG(i)&&!isNaN(i)}).map(Number)}function JP(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function iE(r){return r instanceof $t||r instanceof ds}var y_=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function aE(r,e,t){if(iE(r[e])&&iE(t))r[e].copyFrom(t);else if(iE(r[e])){var n=bm(t);hn(typeof n<"u"&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),ka(t)),r[e].set(n.shift(),n.shift())}else r[e]=t}var KG=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(i){return typeof i=="function"})},ZG=function(e){return Object.prototype.toString.call(e)==="[object Object]"},LO=function(e){var t=e;if(!Array.isArray(t))if(ZG(e))t=Object.keys(e);else throw new Error("collection needs to be an Array or Object");var n={};return t.forEach(function(i){n[i]=!0}),function(i){return typeof n[i]<"u"}},BO=function(e){return function(){return!e.apply(void 0,arguments)}},Gc,pT="children",JG=(Gc={},En(Gc,pT,!0),En(Gc,"parent",!0),En(Gc,"worldAlpha",!0),En(Gc,"worldTransform",!0),En(Gc,"worldVisible",!0),Gc),mT={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Qo=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=function(p){return requestAnimationFrame(function(){var g,v;p==null||(g=p.__reactpixi)===null||g===void 0||(v=g.root)===null||v===void 0||v.emit("__REACT_PIXI_REQUEST_RENDER__")})},a=function(p,g){if(n.hasOwnProperty(p)){var v=g.typeofs.some(function(b){return ka(n[p])===b})||g.instanceofs.some(function(b){return n[p]instanceof b});return hn(v,"".concat(e," ").concat(p," prop is invalid")),n[p]}};if(n.texture)return hn(n.texture instanceof je,"".concat(e," texture needs to be typeof `Texture`")),n.texture;var l=a("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||a("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||a("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,je]});hn(!!l,"".concat(e," could not get texture from props"));var u=je.from(l);return u.__reactpixi={root:t},u.once("update",i),u.once("loaded",i),u.valid&&i(u),u},eH=BO(LO([].concat(Nl(Object.keys(JG)),Nl(y_))));function tl(r,e,t){var n=!1;if(hn(Hr.prototype.isPrototypeOf(r),"instance needs to be typeof `DisplayObject`, got `%s`",ka(r)),!t.ignoreEvents)for(var i=typeof r.removeListener=="function",a=typeof r.on=="function",l=0;l<y_.length;l++){var u=y_[l];e[u]!==t[u]&&(n=!0,typeof e[u]=="function"&&i&&r.removeListener(u,e[u]),typeof t[u]=="function"&&a&&r.on(u,t[u]))}var f=Object.keys(t||{});if(t.overwriteProps){for(var p=0;p<f.length;p++){var g=f[p];e[g]!==t[g]&&(n=!0,aE(r,g,t[g]))}return n}for(var v=f.filter(eH),b=0;b<v.length;b++){var x=v[b],S=t[x];t[x]!==e[x]&&(n=!0),S!==void 0?aE(r,x,S):x in mT?(console.warn("setting default value: ".concat(x,", from: ").concat(r[x]," to: ").concat(S," for"),r),n=!0,aE(r,x,mT[x])):console.warn("ignoring prop: ".concat(x,", from ").concat(r[x]," to ").concat(S," for"),r)}return n}var tH=function(e,t){var n=t.text,i=t.style;return new vO(n,i)},rH=tH,nH=function(){return new Jn},iH=nH;function aH(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function qu(r,e){if(r==null)return{};var t=aH(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var sH=["draw","geometry"],oH=function(e,t){var n=t.geometry;hn(!n||n instanceof Uu,"Graphics geometry needs to be a `Graphics`");var i=n?new Uu(n.geometry):new Uu;return i.applyProps=function(a,l,u){var f=u.draw;u.geometry;var p=qu(u,sH),g=tl(a,l,p);return l.draw!==f&&typeof f=="function"&&(g=!0,f.call(i,i)),g},i},lH=oH,uH=["image","texture"],cH=function(e,t){var n=t.leftWidth,i=n===void 0?10:n,a=t.topHeight,l=a===void 0?10:a,u=t.rightWidth,f=u===void 0?10:u,p=t.bottomHeight,g=p===void 0?10:p,v=Qo("NineSlicePlane",e,t),b=new TO(v,i,l,f,g);return b.applyProps=function(x,S,E){var A=E.image,P=E.texture,L=qu(E,uH),D=tl(x,S,L);return(A||P)&&(P!==S.texture&&(D=!0),x.texture=Qo("NineSlicePlane",e,E)),D},b},hH=cH;function eM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function _y(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(t),!0).forEach(function(n){En(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var dH=function(e,t){var n=t.maxSize,i=n===void 0?1500:n,a=t.batchSize,l=a===void 0?16384:a,u=t.autoResize,f=u===void 0?!1:u,p=_y(_y({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),t.properties||{}),g=_y(_y({},{children:!1,texture:!1,baseTexture:!1}),t.destroyOptions||{}),v=new AO(i,p,l,f);return v.willUnmount=function(b,x,S){b.destroy(g)},v},fH=dH,pH=["image","texture"],mH=function(e,t){var n=new el(Qo("Sprite",e,t));return n.applyProps=function(i,a,l){var u=l.image,f=l.texture,p=qu(l,pH),g=tl(i,a,p);return(f&&a.texture!==l.texture||u&&a.image!==l.image)&&(a.texture!==l.texture&&(g=!0),i.texture=Qo("Sprite",e,l)),g},n},gH=mH,vH=["textures","isPlaying","initialFrame","images"],yH=function(e,t){var n=t.textures,i=t.images,a=t.isPlaying,l=a===void 0?!0:a,u=t.initialFrame,f=function(v){return v.map(function(b){return hn(b instanceof je||b?.texture,"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),b})},p=i?v_.fromImages(i):new v_(f(n));return p[l?"gotoAndPlay":"gotoAndStop"](u||0),p.applyProps=function(g,v,b){var x=b.textures,S=b.isPlaying,E=b.initialFrame,A=b.images,P=qu(b,vH),L=tl(g,v,P);if(A&&v.images!==A){for(var D=[],N=0;N<A.length;++N)D.push(je.from(A[N]));g.textures=D,L=!0}if(x&&v.textures!==x&&(g.textures=f(x),L=!0),S!==v.isPlaying||E!==v.initialFrame){var M=typeof E=="number"?E:p.currentFrame||0;p[S?"gotoAndPlay":"gotoAndStop"](M),L=!0}return L},p},_H=yH,bH=function(e,t){var n=t.text,i=n===void 0?"":n,a=t.style,l=a===void 0?{}:a,u=t.isSprite,f=new i0(i,l);return u?(f.updateText(),new el(f.texture)):f},xH=bH,SH=["tileScale","tilePosition","image","texture"],EH=function(e,t){var n=t.width,i=n===void 0?100:n,a=t.height,l=a===void 0?100:a,u=Qo("TilingSprite",e,t),f=new PO(u,i,l);return f.applyProps=function(p,g,v){var b=v.tileScale,x=v.tilePosition,S=v.image,E=v.texture,A=qu(v,SH),P=tl(p,g,A);if(x){var L,D=bm(x);(L=p.tilePosition).set.apply(L,Nl(D)),P=!JP(bm(g.tilePosition),D)||P}if(b){var N,M=bm(b);(N=p.tileScale).set.apply(N,Nl(M)),P=!JP(bm(g.tileScale),M)||P}return(S||E)&&(E!==g.texture&&(P=!0),p.texture=Qo("Sprite",e,v)),P},f},TH=EH,CH=["image","texture"],wH=function(e,t){var n=Qo("Mesh",e,t),i=t.vertices,a=t.uvs,l=t.indices,u=t.drawMode,f=u===void 0?us.TRIANGLES:u,p=new CO(n,i,a,l,f);return p.applyProps=function(g,v,b){var x=b.image,S=b.texture,E=qu(b,CH),A=tl(g,v,E);return(x||S)&&(S!==v.texture&&(A=!0),g.texture=Qo("Mesh",e,b)),A},p},AH=wH,RH=["image","texture"],PH=function(e,t){var n=Qo("SimpleRope",e,t),i=t.points,a=new wO(n,i);return a.applyProps=function(l,u,f){var p=f.image,g=f.texture,v=qu(f,RH);hn(Array.isArray(f.points),"SimpleRope points needs to be %s","Array<Point>");var b=tl(l,u,v);return(p||g)&&(g!==u.texture&&(b=!0),l.texture=Qo("SimpleRope",e,f)),b},a},MH=PH,IH=Object.freeze({__proto__:null,BitmapText:rH,Container:iH,Graphics:lH,NineSlicePlane:hH,ParticleContainer:fH,Sprite:gH,Text:xH,TilingSprite:TH,SimpleMesh:AH,SimpleRope:MH,AnimatedSprite:_H});function tM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function rM(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(t),!0).forEach(function(n){En(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var va={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},DH=Object.keys(va).reduce(function(r,e){return rM(rM({},r),{},En({},e,IH[e]))},{}),NO={};function OH(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=DH[r],i,a;if(typeof n=="function"&&(i=n(t,e)),!i){var l=NO[r];l&&(i=l.create(e,{root:t}),i.didMount=l.didMount?l.didMount.bind(i):void 0,i.willUnmount=l.willUnmount?l.willUnmount.bind(i):void 0,i.applyProps=l.applyProps?l.applyProps.bind(i):void 0,i.config=l.config)}if(i){var u;i.__reactpixi={root:t},a=typeof((u=i)===null||u===void 0?void 0:u.applyProps)=="function"?i.applyProps:tl,a(i,{},e)}return i}function FH(r,e){return hn(!!r,"Expect type to be defined, got `%s`",r),hn(!va[r],"Component `%s` could not be created, already exists in default components.",r),NO[r]=e,r}var gT={},LH={get exports(){return gT},set exports(r){gT=r}},__={},BH={get exports(){return __},set exports(r){__=r}},sE={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nM;function NH(){return nM||(nM=1,function(r){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,t=5;function n(We,ot){var Lt=We.length;We.push(ot),l(We,ot,Lt)}function i(We){return We.length===0?null:We[0]}function a(We){if(We.length===0)return null;var ot=We[0],Lt=We.pop();return Lt!==ot&&(We[0]=Lt,u(We,Lt,0)),ot}function l(We,ot,Lt){for(var or=Lt;or>0;){var Ct=or-1>>>1,pn=We[Ct];if(f(pn,ot)>0)We[Ct]=ot,We[or]=pn,or=Ct;else return}}function u(We,ot,Lt){for(var or=Lt,Ct=We.length,pn=Ct>>>1;or<pn;){var Fr=(or+1)*2-1,ne=We[Fr],te=Fr+1,Rt=We[te];if(f(ne,ot)<0)te<Ct&&f(Rt,ne)<0?(We[or]=Rt,We[te]=ot,or=te):(We[or]=ne,We[Fr]=ot,or=Fr);else if(te<Ct&&f(Rt,ot)<0)We[or]=Rt,We[te]=ot,or=te;else return}}function f(We,ot){var Lt=We.sortIndex-ot.sortIndex;return Lt!==0?Lt:We.id-ot.id}var p=1,g=2,v=3,b=4,x=5,S=typeof performance=="object"&&typeof performance.now=="function";if(S){var E=performance;r.unstable_now=function(){return E.now()}}else{var A=Date,P=A.now();r.unstable_now=function(){return A.now()-P}}var L=1073741823,D=-1,N=250,M=5e3,$=1e4,U=L,V=[],re=[],O=1,Q=null,q=v,ae=!1,oe=!1,Ie=!1,G=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(We){for(var ot=i(re);ot!==null;){if(ot.callback===null)a(re);else if(ot.startTime<=We)a(re),ot.sortIndex=ot.expirationTime,n(V,ot);else return;ot=i(re)}}function F(We){if(Ie=!1,J(We),!oe)if(i(V)!==null)oe=!0,fn(H);else{var ot=i(re);ot!==null&&Ga(F,ot.startTime-We)}}function H(We,ot){oe=!1,Ie&&(Ie=!1,gs()),ae=!0;var Lt=q;try{var or;if(!e)return Y(We,ot)}finally{Q=null,q=Lt,ae=!1}}function Y(We,ot){var Lt=ot;for(J(Lt),Q=i(V);Q!==null&&!(Q.expirationTime>Lt&&(!We||Kt()));){var or=Q.callback;if(typeof or=="function"){Q.callback=null,q=Q.priorityLevel;var Ct=Q.expirationTime<=Lt,pn=or(Ct);Lt=r.unstable_now(),typeof pn=="function"?Q.callback=pn:Q===i(V)&&a(V),J(Lt)}else a(V);Q=i(V)}if(Q!==null)return!0;var Fr=i(re);return Fr!==null&&Ga(F,Fr.startTime-Lt),!1}function K(We,ot){switch(We){case p:case g:case v:case b:case x:break;default:We=v}var Lt=q;q=We;try{return ot()}finally{q=Lt}}function se(We){var ot;switch(q){case p:case g:case v:ot=v;break;default:ot=q;break}var Lt=q;q=ot;try{return We()}finally{q=Lt}}function me(We){var ot=q;return function(){var Lt=q;q=ot;try{return We.apply(this,arguments)}finally{q=Lt}}}function de(We,ot,Lt){var or=r.unstable_now(),Ct;if(typeof Lt=="object"&&Lt!==null){var pn=Lt.delay;typeof pn=="number"&&pn>0?Ct=or+pn:Ct=or}else Ct=or;var Fr;switch(We){case p:Fr=D;break;case g:Fr=N;break;case x:Fr=U;break;case b:Fr=$;break;case v:default:Fr=M;break}var ne=Ct+Fr,te={id:O++,callback:ot,priorityLevel:We,startTime:Ct,expirationTime:ne,sortIndex:-1};return Ct>or?(te.sortIndex=Ct,n(re,te),i(V)===null&&te===i(re)&&(Ie?gs():Ie=!0,Ga(F,Ct-or))):(te.sortIndex=ne,n(V,te),!oe&&!ae&&(oe=!0,fn(H))),te}function _e(){}function we(){!oe&&!ae&&(oe=!0,fn(H))}function Pe(){return i(V)}function ve(We){We.callback=null}function Ae(){return q}var fe=!1,ke=null,ut=-1,He=t,qe=-1;function Kt(){var We=r.unstable_now()-qe;return!(We<He)}function cr(){}function wn(We){if(We<0||We>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}We>0?He=Math.floor(1e3/We):He=t}var Or=function(){if(ke!==null){var We=r.unstable_now();qe=We;var ot=!0,Lt=!0;try{Lt=ke(ot,We)}finally{Lt?Wt():(fe=!1,ke=null)}}else fe=!1},Wt;if(typeof k=="function")Wt=function(){k(Or)};else if(typeof MessageChannel<"u"){var li=new MessageChannel,ra=li.port2;li.port1.onmessage=Or,Wt=function(){ra.postMessage(null)}}else Wt=function(){G(Or,0)};function fn(We){ke=We,fe||(fe=!0,Wt())}function Ga(We,ot){ut=G(function(){We(r.unstable_now())},ot)}function gs(){W(ut),ut=-1}var vs=cr,ro=null;r.unstable_IdlePriority=x,r.unstable_ImmediatePriority=p,r.unstable_LowPriority=b,r.unstable_NormalPriority=v,r.unstable_Profiling=ro,r.unstable_UserBlockingPriority=g,r.unstable_cancelCallback=ve,r.unstable_continueExecution=we,r.unstable_forceFrameRate=wn,r.unstable_getCurrentPriorityLevel=Ae,r.unstable_getFirstCallbackNode=Pe,r.unstable_next=se,r.unstable_pauseExecution=_e,r.unstable_requestPaint=vs,r.unstable_runWithPriority=K,r.unstable_scheduleCallback=de,r.unstable_shouldYield=Kt,r.unstable_wrapCallback=me,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}(sE)),sE}var iM;function UH(){return iM||(iM=1,function(r){r.exports=NH()}(BH)),__}var b_={},kH={get exports(){return b_},set exports(r){b_=r}};/**
 * @license React
 * react-reconciler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aM;function zH(){return aM||(aM=1,kH.exports=function(e){var t={},n=Tt,i=UH(),a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=!1;function u(s){l=s}function f(s){if(!l){for(var o=arguments.length,d=new Array(o>1?o-1:0),m=1;m<o;m++)d[m-1]=arguments[m];g("warn",s,d)}}function p(s){if(!l){for(var o=arguments.length,d=new Array(o>1?o-1:0),m=1;m<o;m++)d[m-1]=arguments[m];g("error",s,d)}}function g(s,o,d){{var m=a.ReactDebugCurrentFrame,y=m.getStackAddendum();y!==""&&(o+="%s",d=d.concat([y]));var C=d.map(function(R){return String(R)});C.unshift("Warning: "+o),Function.prototype.apply.call(console[s],console,C)}}var v=Object.assign;function b(s){return s._reactInternals}function x(s,o){s._reactInternals=o}var S=!1,E=!1,A=!1,P=!1,L=!0,D=!0,N=!0,M=0,$=1,U=2,V=3,re=4,O=5,Q=6,q=7,ae=8,oe=9,Ie=10,G=11,W=12,k=13,J=14,F=15,H=16,Y=17,K=18,se=19,me=21,de=22,_e=23,we=24,Pe=25,ve=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),He=Symbol.for("react.provider"),qe=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),cr=Symbol.for("react.suspense"),wn=Symbol.for("react.suspense_list"),Or=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),li=Symbol.for("react.scope"),ra=Symbol.for("react.debug_trace_mode"),fn=Symbol.for("react.offscreen"),Ga=Symbol.for("react.legacy_hidden"),gs=Symbol.for("react.cache"),vs=Symbol.for("react.tracing_marker"),ro=Symbol.iterator,We="@@iterator";function ot(s){if(s===null||typeof s!="object")return null;var o=ro&&s[ro]||s[We];return typeof o=="function"?o:null}function Lt(s,o,d){var m=s.displayName;if(m)return m;var y=o.displayName||o.name||"";return y!==""?d+"("+y+")":d}function or(s){return s.displayName||"Context"}function Ct(s){if(s==null)return null;if(typeof s.tag=="number"&&p("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case fe:return"Fragment";case Ae:return"Portal";case ut:return"Profiler";case ke:return"StrictMode";case cr:return"Suspense";case wn:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case qe:var o=s;return or(o)+".Consumer";case He:var d=s;return or(d._context)+".Provider";case Kt:return Lt(s,s.render,"ForwardRef");case Or:var m=s.displayName||null;return m!==null?m:Ct(s.type)||"Memo";case Wt:{var y=s,C=y._payload,R=y._init;try{return Ct(R(C))}catch{return null}}}return null}function pn(s,o,d){var m=o.displayName||o.name||"";return s.displayName||(m!==""?d+"("+m+")":d)}function Fr(s){return s.displayName||"Context"}function ne(s){var o=s.tag,d=s.type;switch(o){case we:return"Cache";case oe:var m=d;return Fr(m)+".Consumer";case Ie:var y=d;return Fr(y._context)+".Provider";case K:return"DehydratedFragment";case G:return pn(d,d.render,"ForwardRef");case q:return"Fragment";case O:return d;case re:return"Portal";case V:return"Root";case Q:return"Text";case H:return Ct(d);case ae:return d===ke?"StrictMode":"Mode";case de:return"Offscreen";case W:return"Profiler";case me:return"Scope";case k:return"Suspense";case se:return"SuspenseList";case Pe:return"TracingMarker";case $:case M:case Y:case U:case J:case F:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;break}return null}var te=0,Rt=1,xt=2,rt=4,vt=16,An=32,zi=64,St=128,Vr=256,Gi=512,Rn=1024,Lr=2048,ui=4096,na=8192,ys=16384,Ha=32767,_a=32768,Br=65536,_s=131072,no=1048576,Z=2097152,Fe=4194304,Xe=8388608,ht=16777216,kt=33554432,Zt=rt|Rn|0,Ot=xt|rt|vt|An|Gi|ui|na,Mt=rt|zi|Gi|na,hr=Lr|vt,Vt=Fe|Xe|Z,Nr=a.ReactCurrentOwner;function Zr(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{var m=o;do o=m,(o.flags&(xt|ui))!==te&&(d=o.return),m=o.return;while(m)}return o.tag===V?d:null}function io(s){return Zr(s)===s}function bs(s){{var o=Nr.current;if(o!==null&&o.tag===$){var d=o,m=d.stateNode;m._warnedAboutRefsInRender||p("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",ne(d)||"A component"),m._warnedAboutRefsInRender=!0}}var y=b(s);return y?Zr(y)===y:!1}function zn(s){if(Zr(s)!==s)throw new Error("Unable to find node on an unmounted component.")}function Va(s){var o=s.alternate;if(!o){var d=Zr(s);if(d===null)throw new Error("Unable to find node on an unmounted component.");return d!==s?null:s}for(var m=s,y=o;;){var C=m.return;if(C===null)break;var R=C.alternate;if(R===null){var B=C.return;if(B!==null){m=y=B;continue}break}if(C.child===R.child){for(var z=C.child;z;){if(z===m)return zn(C),s;if(z===y)return zn(C),o;z=z.sibling}throw new Error("Unable to find node on an unmounted component.")}if(m.return!==y.return)m=C,y=R;else{for(var X=!1,ee=C.child;ee;){if(ee===m){X=!0,m=C,y=R;break}if(ee===y){X=!0,y=C,m=R;break}ee=ee.sibling}if(!X){for(ee=R.child;ee;){if(ee===m){X=!0,m=R,y=C;break}if(ee===y){X=!0,y=R,m=C;break}ee=ee.sibling}if(!X)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(m.alternate!==y)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(m.tag!==V)throw new Error("Unable to find node on an unmounted component.");return m.stateNode.current===m?s:o}function rl(s){var o=Va(s);return o!==null?zl(o):null}function zl(s){if(s.tag===O||s.tag===Q)return s;for(var o=s.child;o!==null;){var d=zl(o);if(d!==null)return d;o=o.sibling}return null}function f0(s){var o=Va(s);return o!==null?ch(o):null}function ch(s){if(s.tag===O||s.tag===Q)return s;for(var o=s.child;o!==null;){if(o.tag!==re){var d=ch(o);if(d!==null)return d}o=o.sibling}return null}var Gl=Array.isArray;function Jr(s){return Gl(s)}var Er=e.getPublicInstance,Tr=e.getRootHostContext,ao=e.getChildHostContext,ei=e.prepareForCommit,Ti=e.resetAfterCommit,nl=e.createInstance,so=e.appendInitialChild,Ci=e.finalizeInitialChildren,hh=e.prepareUpdate,dh=e.shouldSetTextContent,gf=e.createTextInstance,Ju=e.scheduleTimeout,eg=e.cancelTimeout,Hi=e.noTimeout,fh=e.isPrimaryRenderer,p0=e.warnsIfNotActing,ci=e.supportsMutation,Hl=e.supportsPersistence,ti=e.supportsHydration,ph=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var m0=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var vf=e.getCurrentEventPriority,tg=e.detachDeletedInstance,yf=e.supportsMicrotasks,ec=e.scheduleMicrotask,oo=e.supportsTestSelectors,tr=e.findFiberRoot,rg=e.getBoundingRect,_f=e.getTextContent,Vl=e.isHiddenSubtree,g0=e.matchAccessibilityRole,v0=e.setFocusIfFocusable,Pn=e.setupIntersectionObserver,bf=e.appendChild,y0=e.appendChildToContainer,ng=e.commitTextUpdate,_0=e.commitMount,mh=e.commitUpdate,ja=e.insertBefore,ba=e.insertInContainerBefore,xs=e.removeChild,gh=e.removeChildFromContainer,vh=e.resetTextContent,ig=e.hideInstance,$a=e.hideTextInstance,jl=e.unhideInstance,$l=e.unhideTextInstance,yh=e.clearContainer,_h=e.cloneInstance,Vi=e.createContainerChildSet,ji=e.appendChildToContainerChildSet,il=e.finalizeContainerChildren,ia=e.replaceContainerChildren,Wa=e.cloneHiddenInstance,lo=e.cloneHiddenTextInstance,ag=e.canHydrateInstance,xf=e.canHydrateTextInstance,Sf=e.canHydrateSuspenseInstance,wi=e.isSuspenseInstancePending,Ai=e.isSuspenseInstanceFallback,Ur=e.getSuspenseInstanceFallbackErrorDetails,tc=e.registerSuspenseInstanceRetry,Ri=e.getNextHydratableSibling,sg=e.getFirstHydratableChild,og=e.getFirstHydratableChildWithinContainer,Ef=e.getFirstHydratableChildWithinSuspenseInstance,Tf=e.hydrateInstance,lg=e.hydrateTextInstance,bh=e.hydrateSuspenseInstance,ug=e.getNextHydratableInstanceAfterSuspenseInstance,Wl=e.commitHydratedContainer,Cf=e.commitHydratedSuspenseInstance,b0=e.clearSuspenseBoundary,xh=e.clearSuspenseBoundaryFromContainer,x0=e.shouldDeleteUnhydratedTailInstances,xa=e.didNotMatchHydratedContainerTextInstance,Sh=e.didNotMatchHydratedTextInstance,Eh=e.didNotHydrateInstanceWithinContainer,Xl=e.didNotHydrateInstanceWithinSuspenseInstance,wf=e.didNotHydrateInstance,Af=e.didNotFindHydratableInstanceWithinContainer,cg=e.didNotFindHydratableTextInstanceWithinContainer,Rf=e.didNotFindHydratableSuspenseInstanceWithinContainer,Pf=e.didNotFindHydratableInstanceWithinSuspenseInstance,Yl=e.didNotFindHydratableTextInstanceWithinSuspenseInstance,aa=e.didNotFindHydratableSuspenseInstanceWithinSuspenseInstance,al=e.didNotFindHydratableInstance,Mf=e.didNotFindHydratableTextInstance,hg=e.didNotFindHydratableSuspenseInstance,Xa=e.errorHydratingContainer,sa=0,Th,If,Ya,Ss,rc,Df,nc;function Of(){}Of.__reactDisabledLog=!0;function dg(){{if(sa===0){Th=console.log,If=console.info,Ya=console.warn,Ss=console.error,rc=console.group,Df=console.groupCollapsed,nc=console.groupEnd;var s={configurable:!0,enumerable:!0,value:Of,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}sa++}}function Ff(){{if(sa--,sa===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:v({},s,{value:Th}),info:v({},s,{value:If}),warn:v({},s,{value:Ya}),error:v({},s,{value:Ss}),group:v({},s,{value:rc}),groupCollapsed:v({},s,{value:Df}),groupEnd:v({},s,{value:nc})})}sa<0&&p("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ql=a.ReactCurrentDispatcher,Ch;function Es(s,o,d){{if(Ch===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);Ch=m&&m[1]||""}return`
`+Ch+s}}var wh=!1,Ql;{var ic=typeof WeakMap=="function"?WeakMap:Map;Ql=new ic}function Kl(s,o){if(!s||wh)return"";{var d=Ql.get(s);if(d!==void 0)return d}var m;wh=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var C;C=ql.current,ql.current=null,dg();try{if(o){var R=function(){throw Error()};if(Object.defineProperty(R.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(R,[])}catch(Ne){m=Ne}Reflect.construct(s,[],R)}else{try{R.call()}catch(Ne){m=Ne}s.call(R.prototype)}}else{try{throw Error()}catch(Ne){m=Ne}s()}}catch(Ne){if(Ne&&m&&typeof Ne.stack=="string"){for(var B=Ne.stack.split(`
`),z=m.stack.split(`
`),X=B.length-1,ee=z.length-1;X>=1&&ee>=0&&B[X]!==z[ee];)ee--;for(;X>=1&&ee>=0;X--,ee--)if(B[X]!==z[ee]){if(X!==1||ee!==1)do if(X--,ee--,ee<0||B[X]!==z[ee]){var ce=`
`+B[X].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),typeof s=="function"&&Ql.set(s,ce),ce}while(X>=1&&ee>=0);break}}}finally{wh=!1,ql.current=C,Ff(),Error.prepareStackTrace=y}var ye=s?s.displayName||s.name:"",Ce=ye?Es(ye):"";return typeof s=="function"&&Ql.set(s,Ce),Ce}function fg(s,o,d){return Kl(s,!0)}function Ah(s,o,d){return Kl(s,!1)}function Zl(s){var o=s.prototype;return!!(o&&o.isReactComponent)}function Rh(s,o,d){if(s==null)return"";if(typeof s=="function")return Kl(s,Zl(s));if(typeof s=="string")return Es(s);switch(s){case cr:return Es("Suspense");case wn:return Es("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case Kt:return Ah(s.render);case Or:return Rh(s.type,o,d);case Wt:{var m=s,y=m._payload,C=m._init;try{return Rh(C(y),o,d)}catch{}}}return""}var Jl=Object.prototype.hasOwnProperty,$i={},eu=a.ReactDebugCurrentFrame;function Ts(s){if(s){var o=s._owner,d=Rh(s.type,s._source,o?o.type:null);eu.setExtraStackFrame(d)}else eu.setExtraStackFrame(null)}function en(s,o,d,m,y){{var C=Function.call.bind(Jl);for(var R in s)if(C(s,R)){var B=void 0;try{if(typeof s[R]!="function"){var z=Error((m||"React class")+": "+d+" type `"+R+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[R]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw z.name="Invariant Violation",z}B=s[R](o,R,m,d,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(X){B=X}B&&!(B instanceof Error)&&(Ts(y),p("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",m||"React class",d,R,typeof B),Ts(null)),B instanceof Error&&!(B.message in $i)&&($i[B.message]=!0,Ts(y),p("Failed %s type: %s",d,B.message),Ts(null))}}}var ac=[],Cs;Cs=[];var qa=-1;function Qa(s){return{current:s}}function zt(s,o){if(qa<0){p("Unexpected pop.");return}o!==Cs[qa]&&p("Unexpected Fiber popped."),s.current=ac[qa],ac[qa]=null,Cs[qa]=null,qa--}function tn(s,o,d){qa++,ac[qa]=s.current,Cs[qa]=d,s.current=o}var sc;sc={};var hi={};Object.freeze(hi);var oa=Qa(hi),la=Qa(!1),ws=hi;function pr(s,o,d){return d&&Pi(o)?ws:oa.current}function mn(s,o,d){{var m=s.stateNode;m.__reactInternalMemoizedUnmaskedChildContext=o,m.__reactInternalMemoizedMaskedChildContext=d}}function zr(s,o){{var d=s.type,m=d.contextTypes;if(!m)return hi;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===o)return y.__reactInternalMemoizedMaskedChildContext;var C={};for(var R in m)C[R]=o[R];{var B=ne(s)||"Unknown";en(m,C,"context",B)}return y&&mn(s,o,C),C}}function sl(){return la.current}function Pi(s){{var o=s.childContextTypes;return o!=null}}function uo(s){zt(la,s),zt(oa,s)}function Lf(s){zt(la,s),zt(oa,s)}function Gn(s,o,d){{if(oa.current!==hi)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");tn(oa,o,s),tn(la,d,s)}}function Ph(s,o,d){{var m=s.stateNode,y=o.childContextTypes;if(typeof m.getChildContext!="function"){{var C=ne(s)||"Unknown";sc[C]||(sc[C]=!0,p("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",C,C))}return d}var R=m.getChildContext();for(var B in R)if(!(B in y))throw new Error((ne(s)||"Unknown")+'.getChildContext(): key "'+B+'" is not defined in childContextTypes.');{var z=ne(s)||"Unknown";en(y,R,"child context",z)}return v({},d,R)}}function tu(s){{var o=s.stateNode,d=o&&o.__reactInternalMemoizedMergedChildContext||hi;return ws=oa.current,tn(oa,d,s),tn(la,la.current,s),!0}}function Mh(s,o,d){{var m=s.stateNode;if(!m)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(d){var y=Ph(s,o,ws);m.__reactInternalMemoizedMergedChildContext=y,zt(la,s),zt(oa,s),tn(oa,y,s),tn(la,d,s)}else zt(la,s),tn(la,d,s)}}function Ka(s){{if(!io(s)||s.tag!==$)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var o=s;do{switch(o.tag){case V:return o.stateNode.context;case $:{var d=o.type;if(Pi(d))return o.stateNode.__reactInternalMemoizedMergedChildContext;break}}o=o.return}while(o!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Hn=0,ru=1,yt=0,Gt=1,ir=2,Wr=8,Sa=16,Bf=Math.clz32?Math.clz32:gg,pg=Math.log,mg=Math.LN2;function gg(s){var o=s>>>0;return o===0?32:31-(pg(o)/mg|0)|0}var Ih=31,Oe=0,gn=0,_t=1,As=2,Za=4,Rs=8,Ea=16,nu=32,ol=4194240,iu=64,oc=128,Dh=256,Oh=512,Fh=1024,Nf=2048,Lh=4096,Uf=8192,kf=16384,Bh=32768,Nh=65536,Uh=131072,au=262144,zf=524288,Gf=1048576,Hf=2097152,Ps=130023424,co=4194304,lc=8388608,Vf=16777216,kh=33554432,zh=67108864,jf=co,su=134217728,$f=268435455,uc=268435456,rn=536870912,Cr=1073741824;function vg(s){{if(s&_t)return"Sync";if(s&As)return"InputContinuousHydration";if(s&Za)return"InputContinuous";if(s&Rs)return"DefaultHydration";if(s&Ea)return"Default";if(s&nu)return"TransitionHydration";if(s&ol)return"Transition";if(s&Ps)return"Retry";if(s&su)return"SelectiveHydration";if(s&uc)return"IdleHydration";if(s&rn)return"Idle";if(s&Cr)return"Offscreen"}}var _r=-1,cc=iu,hc=co;function ou(s){switch(ho(s)){case _t:return _t;case As:return As;case Za:return Za;case Rs:return Rs;case Ea:return Ea;case nu:return nu;case iu:case oc:case Dh:case Oh:case Fh:case Nf:case Lh:case Uf:case kf:case Bh:case Nh:case Uh:case au:case zf:case Gf:case Hf:return s&ol;case co:case lc:case Vf:case kh:case zh:return s&Ps;case su:return su;case uc:return uc;case rn:return rn;case Cr:return Cr;default:return p("Should have found matching lanes. This is a bug in React."),s}}function lu(s,o){var d=s.pendingLanes;if(d===Oe)return Oe;var m=Oe,y=s.suspendedLanes,C=s.pingedLanes,R=d&$f;if(R!==Oe){var B=R&~y;if(B!==Oe)m=ou(B);else{var z=R&C;z!==Oe&&(m=ou(z))}}else{var X=d&~y;X!==Oe?m=ou(X):C!==Oe&&(m=ou(C))}if(m===Oe)return Oe;if(o!==Oe&&o!==m&&(o&y)===Oe){var ee=ho(m),ce=ho(o);if(ee>=ce||ee===Ea&&(ce&ol)!==Oe)return o}(m&Za)!==Oe&&(m|=d&Ea);var ye=s.entangledLanes;if(ye!==Oe)for(var Ce=s.entanglements,Ne=m&ye;Ne>0;){var Be=di(Ne),dt=1<<Be;m|=Ce[Be],Ne&=~dt}return m}function yg(s,o){for(var d=s.eventTimes,m=_r;o>0;){var y=di(o),C=1<<y,R=d[y];R>m&&(m=R),o&=~C}return m}function Wf(s,o){switch(s){case _t:case As:case Za:return o+250;case Rs:case Ea:case nu:case iu:case oc:case Dh:case Oh:case Fh:case Nf:case Lh:case Uf:case kf:case Bh:case Nh:case Uh:case au:case zf:case Gf:case Hf:return o+5e3;case co:case lc:case Vf:case kh:case zh:return _r;case su:case uc:case rn:case Cr:return _r;default:return p("Should have found matching lanes. This is a bug in React."),_r}}function _g(s,o){for(var d=s.pendingLanes,m=s.suspendedLanes,y=s.pingedLanes,C=s.expirationTimes,R=d;R>0;){var B=di(R),z=1<<B,X=C[B];X===_r?((z&m)===Oe||(z&y)!==Oe)&&(C[B]=Wf(z,o)):X<=o&&(s.expiredLanes|=z),R&=~z}}function bg(s){return ou(s.pendingLanes)}function ll(s){var o=s.pendingLanes&~Cr;return o!==Oe?o:o&Cr?Cr:Oe}function dc(s){return(s&_t)!==Oe}function uu(s){return(s&$f)!==Oe}function fc(s){return(s&Ps)===s}function Xf(s){var o=_t|Za|Ea;return(s&o)===Oe}function Yf(s){return(s&ol)===s}function pc(s,o){var d=As|Za|Rs|Ea;return(o&d)!==Oe}function qf(s,o){return(o&s.expiredLanes)!==Oe}function mc(s){return(s&ol)!==Oe}function Qf(){var s=cc;return cc<<=1,(cc&ol)===Oe&&(cc=iu),s}function Kf(){var s=hc;return hc<<=1,(hc&Ps)===Oe&&(hc=co),s}function ho(s){return s&-s}function fo(s){return ho(s)}function di(s){return 31-Bf(s)}function ua(s){return di(s)}function Mi(s,o){return(s&o)!==Oe}function ul(s,o){return(s&o)===o}function It(s,o){return s|o}function Mn(s,o){return s&~o}function xg(s,o){return s&o}function B1(s){return s}function Gh(s,o){return s!==gn&&s<o?s:o}function In(s){for(var o=[],d=0;d<Ih;d++)o.push(s);return o}function gc(s,o,d){s.pendingLanes|=o,o!==rn&&(s.suspendedLanes=Oe,s.pingedLanes=Oe);var m=s.eventTimes,y=ua(o);m[y]=d}function nt(s,o){s.suspendedLanes|=o,s.pingedLanes&=~o;for(var d=s.expirationTimes,m=o;m>0;){var y=di(m),C=1<<y;d[y]=_r,m&=~C}}function cl(s,o,d){s.pingedLanes|=s.suspendedLanes&o}function Sg(s,o){var d=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=Oe,s.pingedLanes=Oe,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o;for(var m=s.entanglements,y=s.eventTimes,C=s.expirationTimes,R=d;R>0;){var B=di(R),z=1<<B;m[B]=Oe,y[B]=_r,C[B]=_r,R&=~z}}function Hh(s,o){for(var d=s.entangledLanes|=o,m=s.entanglements,y=d;y;){var C=di(y),R=1<<C;R&o|m[C]&o&&(m[C]|=o),y&=~R}}function vc(s,o){var d=ho(o),m;switch(d){case Za:m=As;break;case Ea:m=Rs;break;case iu:case oc:case Dh:case Oh:case Fh:case Nf:case Lh:case Uf:case kf:case Bh:case Nh:case Uh:case au:case zf:case Gf:case Hf:case co:case lc:case Vf:case kh:case zh:m=nu;break;case rn:m=uc;break;default:m=gn;break}return(m&(s.suspendedLanes|o))!==gn?gn:m}function yc(s,o,d){if(Wi)for(var m=s.pendingUpdatersLaneMap;d>0;){var y=ua(d),C=1<<y,R=m[y];R.add(o),d&=~C}}function Vh(s,o){if(Wi)for(var d=s.pendingUpdatersLaneMap,m=s.memoizedUpdaters;o>0;){var y=ua(o),C=1<<y,R=d[y];R.size>0&&(R.forEach(function(B){var z=B.alternate;(z===null||!m.has(z))&&m.add(B)}),R.clear()),o&=~C}}function Zf(s,o){return null}var Ta=_t,cu=Za,hl=Ea,_c=rn,vn=gn;function nn(){return vn}function br(s){vn=s}function Jf(s,o){var d=vn;try{return vn=s,o()}finally{vn=d}}function Eg(s,o){return s!==0&&s<o?s:o}function Ca(s,o){return s>o?s:o}function ep(s,o){return s!==0&&s<o}function wa(s){var o=ho(s);return ep(Ta,o)?ep(cu,o)?uu(o)?hl:_c:cu:Ta}var Tg=i.unstable_scheduleCallback,Cg=i.unstable_cancelCallback,wg=i.unstable_shouldYield,Ag=i.unstable_requestPaint,yn=i.unstable_now,dl=i.unstable_ImmediatePriority,bc=i.unstable_UserBlockingPriority,Ms=i.unstable_NormalPriority,xc=i.unstable_IdlePriority,jh=i.unstable_yieldValue,Sc=i.unstable_setDisableYieldValue,po=null,Dn=null,Ye=null,Aa=!1,Wi=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function S0(s){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled)return!0;if(!o.supportsFiber)return p("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{L&&(s=v({},s,{getLaneLabelMap:Vn,injectProfilingHooks:an})),po=o.inject(s),Dn=o}catch(d){p("React instrumentation encountered an error: %s.",d)}return!!o.checkDCE}function $h(s,o){if(Dn&&typeof Dn.onScheduleFiberRoot=="function")try{Dn.onScheduleFiberRoot(po,s,o)}catch(d){Aa||(Aa=!0,p("React instrumentation encountered an error: %s",d))}}function tp(s,o){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{var d=(s.current.flags&St)===St;if(D){var m;switch(o){case Ta:m=dl;break;case cu:m=bc;break;case hl:m=Ms;break;case _c:m=xc;break;default:m=Ms;break}Dn.onCommitFiberRoot(po,s,m,d)}}catch(y){Aa||(Aa=!0,p("React instrumentation encountered an error: %s",y))}}function Xr(s){if(Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(po,s)}catch(o){Aa||(Aa=!0,p("React instrumentation encountered an error: %s",o))}}function Xt(s){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(po,s)}catch(o){Aa||(Aa=!0,p("React instrumentation encountered an error: %s",o))}}function Yt(s){if(typeof jh=="function"&&(Sc(s),u(s)),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(po,s)}catch(o){Aa||(Aa=!0,p("React instrumentation encountered an error: %s",o))}}function an(s){Ye=s}function Vn(){{for(var s=new Map,o=1,d=0;d<Ih;d++){var m=vg(o);s.set(o,m),o*=2}return s}}function Xi(s){Ye!==null&&typeof Ye.markCommitStarted=="function"&&Ye.markCommitStarted(s)}function fl(){Ye!==null&&typeof Ye.markCommitStopped=="function"&&Ye.markCommitStopped()}function Gr(s){Ye!==null&&typeof Ye.markComponentRenderStarted=="function"&&Ye.markComponentRenderStarted(s)}function Ja(){Ye!==null&&typeof Ye.markComponentRenderStopped=="function"&&Ye.markComponentRenderStopped()}function pl(s){Ye!==null&&typeof Ye.markComponentPassiveEffectMountStarted=="function"&&Ye.markComponentPassiveEffectMountStarted(s)}function Wh(){Ye!==null&&typeof Ye.markComponentPassiveEffectMountStopped=="function"&&Ye.markComponentPassiveEffectMountStopped()}function rp(s){Ye!==null&&typeof Ye.markComponentPassiveEffectUnmountStarted=="function"&&Ye.markComponentPassiveEffectUnmountStarted(s)}function Ec(){Ye!==null&&typeof Ye.markComponentPassiveEffectUnmountStopped=="function"&&Ye.markComponentPassiveEffectUnmountStopped()}function Yi(s){Ye!==null&&typeof Ye.markComponentLayoutEffectMountStarted=="function"&&Ye.markComponentLayoutEffectMountStarted(s)}function np(){Ye!==null&&typeof Ye.markComponentLayoutEffectMountStopped=="function"&&Ye.markComponentLayoutEffectMountStopped()}function Xh(s){Ye!==null&&typeof Ye.markComponentLayoutEffectUnmountStarted=="function"&&Ye.markComponentLayoutEffectUnmountStarted(s)}function Is(){Ye!==null&&typeof Ye.markComponentLayoutEffectUnmountStopped=="function"&&Ye.markComponentLayoutEffectUnmountStopped()}function hu(s,o,d){Ye!==null&&typeof Ye.markComponentErrored=="function"&&Ye.markComponentErrored(s,o,d)}function Rg(s,o,d){Ye!==null&&typeof Ye.markComponentSuspended=="function"&&Ye.markComponentSuspended(s,o,d)}function Yh(s){Ye!==null&&typeof Ye.markLayoutEffectsStarted=="function"&&Ye.markLayoutEffectsStarted(s)}function ip(){Ye!==null&&typeof Ye.markLayoutEffectsStopped=="function"&&Ye.markLayoutEffectsStopped()}function mo(s){Ye!==null&&typeof Ye.markPassiveEffectsStarted=="function"&&Ye.markPassiveEffectsStarted(s)}function qh(){Ye!==null&&typeof Ye.markPassiveEffectsStopped=="function"&&Ye.markPassiveEffectsStopped()}function Ds(s){Ye!==null&&typeof Ye.markRenderStarted=="function"&&Ye.markRenderStarted(s)}function Qh(){Ye!==null&&typeof Ye.markRenderYielded=="function"&&Ye.markRenderYielded()}function du(){Ye!==null&&typeof Ye.markRenderStopped=="function"&&Ye.markRenderStopped()}function ap(s){Ye!==null&&typeof Ye.markRenderScheduled=="function"&&Ye.markRenderScheduled(s)}function Kh(s,o){Ye!==null&&typeof Ye.markForceUpdateScheduled=="function"&&Ye.markForceUpdateScheduled(s,o)}function fu(s,o){Ye!==null&&typeof Ye.markStateUpdateScheduled=="function"&&Ye.markStateUpdateScheduled(s,o)}function ri(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var sn=typeof Object.is=="function"?Object.is:ri,on=null,ni=!1,Zh=!1;function Jh(s){on===null?on=[s]:on.push(s)}function sp(s){ni=!0,Jh(s)}function Os(){ni&&Ra()}function Ra(){if(!Zh&&on!==null){Zh=!0;var s=0,o=nn();try{var d=!0,m=on;for(br(Ta);s<m.length;s++){var y=m[s];do y=y(d);while(y!==null)}on=null,ni=!1}catch(C){throw on!==null&&(on=on.slice(s+1)),Tg(dl,Ra),C}finally{br(o),Zh=!1}}return null}function op(s){var o=s.current.memoizedState;return o.isDehydrated}var go=[],ca=0,Tc=null,Cc=0,Ii=[],fi=0,ml=null,Fs=1,es="";function Pg(s){return On(),(s.flags&no)!==te}function pu(s){return On(),Cc}function gl(){var s=es,o=Fs,d=o&~E0(o);return d.toString(32)+s}function vo(s,o){On(),go[ca++]=Cc,go[ca++]=Tc,Tc=s,Cc=o}function Rr(s,o,d){On(),Ii[fi++]=Fs,Ii[fi++]=es,Ii[fi++]=ml,ml=s;var m=Fs,y=es,C=wc(m)-1,R=m&~(1<<C),B=d+1,z=wc(o)+C;if(z>30){var X=C-C%5,ee=(1<<X)-1,ce=(R&ee).toString(32),ye=R>>X,Ce=C-X,Ne=wc(o)+Ce,Be=B<<Ce,dt=Be|ye,At=ce+y;Fs=1<<Ne|dt,es=At}else{var gt=B<<C,gr=gt|R,Jt=y;Fs=1<<z|gr,es=Jt}}function lp(s){On();var o=s.return;if(o!==null){var d=1,m=0;vo(s,d),Rr(s,d,m)}}function wc(s){return 32-Bf(s)}function E0(s){return 1<<wc(s)-1}function up(s){for(;s===Tc;)Tc=go[--ca],go[ca]=null,Cc=go[--ca],go[ca]=null;for(;s===ml;)ml=Ii[--fi],Ii[fi]=null,es=Ii[--fi],Ii[fi]=null,Fs=Ii[--fi],Ii[fi]=null}function Mg(){return On(),ml!==null?{id:Fs,overflow:es}:null}function T0(s,o){On(),Ii[fi++]=Fs,Ii[fi++]=es,Ii[fi++]=ml,Fs=o.id,es=o.overflow,ml=s}function On(){Le()||p("Expected to be hydrating. This is a bug in React. Please file an issue.")}var _n=null,bn=null,Di=!1,Oi=!1,Pa=null;function cp(){Di&&p("We should not be hydrating here. This is a bug in React. Please file a bug.")}function ed(){Oi=!0}function C0(){return Oi}function Ig(s){if(!ti)return!1;var o=s.stateNode.containerInfo;return bn=og(o),_n=s,Di=!0,Pa=null,Oi=!1,!0}function Dg(s,o,d){return ti?(bn=Ef(o),_n=s,Di=!0,Pa=null,Oi=!1,d!==null&&T0(s,d),!0):!1}function hp(s,o){switch(s.tag){case V:{Eh(s.stateNode.containerInfo,o);break}case O:{var d=(s.mode&Gt)!==yt;wf(s.type,s.memoizedProps,s.stateNode,o,d);break}case k:{var m=s.memoizedState;m.dehydrated!==null&&Xl(m.dehydrated,o);break}}}function dp(s,o){hp(s,o);var d=gN();d.stateNode=o,d.return=s;var m=s.deletions;m===null?(s.deletions=[d],s.flags|=vt):m.push(d)}function mu(s,o){{if(Oi)return;switch(s.tag){case V:{var d=s.stateNode.containerInfo;switch(o.tag){case O:var m=o.type,y=o.pendingProps;Af(d,m,y);break;case Q:var C=o.pendingProps;cg(d,C);break;case k:Rf(d);break}break}case O:{var R=s.type,B=s.memoizedProps,z=s.stateNode;switch(o.tag){case O:{var X=o.type,ee=o.pendingProps,ce=(s.mode&Gt)!==yt;al(R,B,z,X,ee,ce);break}case Q:{var ye=o.pendingProps,Ce=(s.mode&Gt)!==yt;Mf(R,B,z,ye,Ce);break}case k:{hg(R,B,z);break}}break}case k:{var Ne=s.memoizedState,Be=Ne.dehydrated;if(Be!==null)switch(o.tag){case O:var dt=o.type,At=o.pendingProps;Pf(Be,dt,At);break;case Q:var gt=o.pendingProps;Yl(Be,gt);break;case k:aa(Be);break}break}default:return}}}function Og(s,o){o.flags=o.flags&~ui|xt,mu(s,o)}function Fg(s,o){switch(s.tag){case O:{var d=s.type,m=s.pendingProps,y=ag(o,d,m);return y!==null?(s.stateNode=y,_n=s,bn=sg(y),!0):!1}case Q:{var C=s.pendingProps,R=xf(o,C);return R!==null?(s.stateNode=R,_n=s,bn=null,!0):!1}case k:{var B=Sf(o);if(B!==null){var z={dehydrated:B,treeContext:Mg(),retryLane:Cr};s.memoizedState=z;var X=vN(B);return X.return=s,s.child=X,_n=s,bn=null,!0}return!1}default:return!1}}function c(s){return(s.mode&Gt)!==yt&&(s.flags&St)===te}function h(s){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function _(s){if(Di){var o=bn;if(!o){c(s)&&(mu(_n,s),h()),Og(_n,s),Di=!1,_n=s;return}var d=o;if(!Fg(s,o)){c(s)&&(mu(_n,s),h()),o=Ri(d);var m=_n;if(!o||!Fg(s,o)){Og(_n,s),Di=!1,_n=s;return}dp(m,d)}}}function T(s,o,d){if(!ti)throw new Error("Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var m=s.stateNode,y=!Oi,C=Tf(m,s.type,s.memoizedProps,o,d,s,y);return s.updateQueue=C,C!==null}function w(s){if(!ti)throw new Error("Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var o=s.stateNode,d=s.memoizedProps,m=!Oi,y=lg(o,d,s,m);if(y){var C=_n;if(C!==null)switch(C.tag){case V:{var R=C.stateNode.containerInfo,B=(C.mode&Gt)!==yt;xa(R,o,d,B);break}case O:{var z=C.type,X=C.memoizedProps,ee=C.stateNode,ce=(C.mode&Gt)!==yt;Sh(z,X,ee,o,d,ce);break}}}return y}function I(s){if(!ti)throw new Error("Expected prepareToHydrateHostSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var o=s.memoizedState,d=o!==null?o.dehydrated:null;if(!d)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");bh(d,s)}function j(s){if(!ti)throw new Error("Expected skipPastDehydratedSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var o=s.memoizedState,d=o!==null?o.dehydrated:null;if(!d)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return ug(d)}function ie(s){for(var o=s.return;o!==null&&o.tag!==O&&o.tag!==V&&o.tag!==k;)o=o.return;_n=o}function he(s){if(!ti||s!==_n)return!1;if(!Di)return ie(s),Di=!0,!1;if(s.tag!==V&&(s.tag!==O||x0(s.type)&&!dh(s.type,s.memoizedProps))){var o=bn;if(o)if(c(s))Me(s),h();else for(;o;)dp(s,o),o=Ri(o)}return ie(s),s.tag===k?bn=j(s):bn=_n?Ri(s.stateNode):null,!0}function Se(){return Di&&bn!==null}function Me(s){for(var o=bn;o;)hp(s,o),o=Ri(o)}function Ve(){ti&&(_n=null,bn=null,Di=!1,Oi=!1)}function Re(){Pa!==null&&(Ow(Pa),Pa=null)}function Le(){return Di}function at(s){Pa===null?Pa=[s]:Pa.push(s)}var Nt=a.ReactCurrentBatchConfig,De=null;function ue(){return Nt.transition}function be(s,o){if(sn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),m=Object.keys(o);if(d.length!==m.length)return!1;for(var y=0;y<d.length;y++){var C=d[y];if(!Jl.call(o,C)||!sn(s[C],o[C]))return!1}return!0}function Ue(s){switch(s._debugOwner&&s._debugOwner.type,s._debugSource,s.tag){case O:return Es(s.type);case H:return Es("Lazy");case k:return Es("Suspense");case se:return Es("SuspenseList");case M:case U:case F:return Ah(s.type);case G:return Ah(s.type.render);case $:return fg(s.type);default:return""}}function pt(s){try{var o="",d=s;do o+=Ue(d),d=d.return;while(d);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ar=a.ReactDebugCurrentFrame,Ke=null,jt=!1;function jn(){{if(Ke===null)return null;var s=Ke._debugOwner;if(s!==null&&typeof s<"u")return ne(s)}return null}function lr(){return Ke===null?"":pt(Ke)}function jr(){ar.getCurrentStack=null,Ke=null,jt=!1}function Yr(s){ar.getCurrentStack=s===null?null:lr,Ke=s,jt=!1}function r2(){return Ke}function yo(s){jt=s}var Ls={recordUnsafeLifecycleWarnings:function(s,o){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(s,o){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var n2=function(s){for(var o=null,d=s;d!==null;)d.mode&Wr&&(o=d),d=d.return;return o},Ac=function(s){var o=[];return s.forEach(function(d){o.push(d)}),o.sort().join(", ")},fp=[],pp=[],mp=[],gp=[],vp=[],yp=[],Rc=new Set;Ls.recordUnsafeLifecycleWarnings=function(s,o){Rc.has(s.type)||(typeof o.componentWillMount=="function"&&o.componentWillMount.__suppressDeprecationWarning!==!0&&fp.push(s),s.mode&Wr&&typeof o.UNSAFE_componentWillMount=="function"&&pp.push(s),typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&mp.push(s),s.mode&Wr&&typeof o.UNSAFE_componentWillReceiveProps=="function"&&gp.push(s),typeof o.componentWillUpdate=="function"&&o.componentWillUpdate.__suppressDeprecationWarning!==!0&&vp.push(s),s.mode&Wr&&typeof o.UNSAFE_componentWillUpdate=="function"&&yp.push(s))},Ls.flushPendingUnsafeLifecycleWarnings=function(){var s=new Set;fp.length>0&&(fp.forEach(function(ye){s.add(ne(ye)||"Component"),Rc.add(ye.type)}),fp=[]);var o=new Set;pp.length>0&&(pp.forEach(function(ye){o.add(ne(ye)||"Component"),Rc.add(ye.type)}),pp=[]);var d=new Set;mp.length>0&&(mp.forEach(function(ye){d.add(ne(ye)||"Component"),Rc.add(ye.type)}),mp=[]);var m=new Set;gp.length>0&&(gp.forEach(function(ye){m.add(ne(ye)||"Component"),Rc.add(ye.type)}),gp=[]);var y=new Set;vp.length>0&&(vp.forEach(function(ye){y.add(ne(ye)||"Component"),Rc.add(ye.type)}),vp=[]);var C=new Set;if(yp.length>0&&(yp.forEach(function(ye){C.add(ne(ye)||"Component"),Rc.add(ye.type)}),yp=[]),o.size>0){var R=Ac(o);p(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,R)}if(m.size>0){var B=Ac(m);p(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,B)}if(C.size>0){var z=Ac(C);p(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,z)}if(s.size>0){var X=Ac(s);f(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,X)}if(d.size>0){var ee=Ac(d);f(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ee)}if(y.size>0){var ce=Ac(y);f(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ce)}};var Lg=new Map,N1=new Set;Ls.recordLegacyContextWarning=function(s,o){var d=n2(s);if(d===null){p("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!N1.has(s.type)){var m=Lg.get(d);(s.type.contextTypes!=null||s.type.childContextTypes!=null||o!==null&&typeof o.getChildContext=="function")&&(m===void 0&&(m=[],Lg.set(d,m)),m.push(s))}},Ls.flushLegacyContextWarning=function(){Lg.forEach(function(s,o){if(s.length!==0){var d=s[0],m=new Set;s.forEach(function(C){m.add(ne(C)||"Component"),N1.add(C.type)});var y=Ac(m);try{Yr(d),p(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,y)}finally{jr()}}})},Ls.discardPendingWarnings=function(){fp=[],pp=[],mp=[],gp=[],vp=[],yp=[],Lg=new Map}}function U1(s){{var o=typeof Symbol=="function"&&Symbol.toStringTag,d=o&&s[Symbol.toStringTag]||s.constructor.name||"Object";return d}}function k1(s){try{return w0(s),!1}catch{return!0}}function w0(s){return""+s}function i2(s){if(k1(s))return p("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",U1(s)),w0(s)}function a2(s,o){if(k1(s))return p("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",o,U1(s)),w0(s)}function Bs(s,o){if(s&&s.defaultProps){var d=v({},o),m=s.defaultProps;for(var y in m)d[y]===void 0&&(d[y]=m[y]);return d}return o}var Bg=Qa(null),_p;_p={};var Ng=null,td=null,A0=null,Ug=!1;function kg(){Ng=null,td=null,A0=null,Ug=!1}function z1(){Ug=!0}function G1(){Ug=!1}function H1(s,o,d){fh?(tn(Bg,o._currentValue,s),o._currentValue=d,o._currentRenderer!==void 0&&o._currentRenderer!==null&&o._currentRenderer!==_p&&p("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),o._currentRenderer=_p):(tn(Bg,o._currentValue2,s),o._currentValue2=d,o._currentRenderer2!==void 0&&o._currentRenderer2!==null&&o._currentRenderer2!==_p&&p("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),o._currentRenderer2=_p)}function R0(s,o){var d=Bg.current;zt(Bg,o),fh?s._currentValue=d:s._currentValue2=d}function P0(s,o,d){for(var m=s;m!==null;){var y=m.alternate;if(ul(m.childLanes,o)?y!==null&&!ul(y.childLanes,o)&&(y.childLanes=It(y.childLanes,o)):(m.childLanes=It(m.childLanes,o),y!==null&&(y.childLanes=It(y.childLanes,o))),m===d)break;m=m.return}m!==d&&p("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function s2(s,o,d){o2(s,o,d)}function o2(s,o,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=void 0,C=m.dependencies;if(C!==null){y=m.child;for(var R=C.firstContext;R!==null;){if(R.context===o){if(m.tag===$){var B=fo(d),z=vl(_r,B);z.tag=Gg;var X=m.updateQueue;if(X!==null){var ee=X.shared,ce=ee.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),ee.pending=z}}m.lanes=It(m.lanes,d);var ye=m.alternate;ye!==null&&(ye.lanes=It(ye.lanes,d)),P0(m.return,d,s),C.lanes=It(C.lanes,d);break}R=R.next}}else if(m.tag===Ie)y=m.type===s.type?null:m.child;else if(m.tag===K){var Ce=m.return;if(Ce===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Ce.lanes=It(Ce.lanes,d);var Ne=Ce.alternate;Ne!==null&&(Ne.lanes=It(Ne.lanes,d)),P0(Ce,d,s),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===s){y=null;break}var Be=y.sibling;if(Be!==null){Be.return=y.return,y=Be;break}y=y.return}m=y}}function rd(s,o){Ng=s,td=null,A0=null;var d=s.dependencies;if(d!==null){var m=d.firstContext;m!==null&&(Mi(d.lanes,o)&&Fp(),d.firstContext=null)}}function Fn(s){Ug&&p("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var o=fh?s._currentValue:s._currentValue2;if(A0!==s){var d={context:s,memoizedValue:o,next:null};if(td===null){if(Ng===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");td=d,Ng.dependencies={lanes:Oe,firstContext:d}}else td=td.next=d}return o}var Pc=null;function M0(s){Pc===null?Pc=[s]:Pc.push(s)}function l2(){if(Pc!==null){for(var s=0;s<Pc.length;s++){var o=Pc[s],d=o.interleaved;if(d!==null){o.interleaved=null;var m=d.next,y=o.pending;if(y!==null){var C=y.next;y.next=m,d.next=C}o.pending=d}}Pc=null}}function V1(s,o,d,m){var y=o.interleaved;return y===null?(d.next=d,M0(o)):(d.next=y.next,y.next=d),o.interleaved=d,zg(s,m)}function u2(s,o,d,m){var y=o.interleaved;y===null?(d.next=d,M0(o)):(d.next=y.next,y.next=d),o.interleaved=d}function c2(s,o,d,m){var y=o.interleaved;return y===null?(d.next=d,M0(o)):(d.next=y.next,y.next=d),o.interleaved=d,zg(s,m)}function qi(s,o){return zg(s,o)}var h2=zg;function zg(s,o){s.lanes=It(s.lanes,o);var d=s.alternate;d!==null&&(d.lanes=It(d.lanes,o)),d===null&&(s.flags&(xt|ui))!==te&&jw(s);for(var m=s,y=s.return;y!==null;)y.childLanes=It(y.childLanes,o),d=y.alternate,d!==null?d.childLanes=It(d.childLanes,o):(y.flags&(xt|ui))!==te&&jw(s),m=y,y=y.return;if(m.tag===V){var C=m.stateNode;return C}else return null}var j1=0,$1=1,Gg=2,I0=3,Hg=!1,D0,Vg;D0=!1,Vg=null;function O0(s){var o={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Oe},effects:null};s.updateQueue=o}function W1(s,o){var d=o.updateQueue,m=s.updateQueue;if(d===m){var y={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects};o.updateQueue=y}}function vl(s,o){var d={eventTime:s,lane:o,tag:j1,payload:null,callback:null,next:null};return d}function gu(s,o,d){var m=s.updateQueue;if(m===null)return null;var y=m.shared;if(Vg===y&&!D0&&(p("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),D0=!0),TB()){var C=y.pending;return C===null?o.next=o:(o.next=C.next,C.next=o),y.pending=o,h2(s,d)}else return c2(s,y,o,d)}function jg(s,o,d){var m=o.updateQueue;if(m!==null){var y=m.shared;if(mc(d)){var C=y.lanes;C=xg(C,s.pendingLanes);var R=It(C,d);y.lanes=R,Hh(s,R)}}}function F0(s,o){var d=s.updateQueue,m=s.alternate;if(m!==null){var y=m.updateQueue;if(d===y){var C=null,R=null,B=d.firstBaseUpdate;if(B!==null){var z=B;do{var X={eventTime:z.eventTime,lane:z.lane,tag:z.tag,payload:z.payload,callback:z.callback,next:null};R===null?C=R=X:(R.next=X,R=X),z=z.next}while(z!==null);R===null?C=R=o:(R.next=o,R=o)}else C=R=o;d={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:R,shared:y.shared,effects:y.effects},s.updateQueue=d;return}}var ee=d.lastBaseUpdate;ee===null?d.firstBaseUpdate=o:ee.next=o,d.lastBaseUpdate=o}function d2(s,o,d,m,y,C){switch(d.tag){case $1:{var R=d.payload;if(typeof R=="function"){z1();var B=R.call(C,m,y);{if(s.mode&Wr){Yt(!0);try{R.call(C,m,y)}finally{Yt(!1)}}G1()}return B}return R}case I0:s.flags=s.flags&~Br|St;case j1:{var z=d.payload,X;if(typeof z=="function"){z1(),X=z.call(C,m,y);{if(s.mode&Wr){Yt(!0);try{z.call(C,m,y)}finally{Yt(!1)}}G1()}}else X=z;return X==null?m:v({},m,X)}case Gg:return Hg=!0,m}return m}function $g(s,o,d,m){var y=s.updateQueue;Hg=!1,Vg=y.shared;var C=y.firstBaseUpdate,R=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var z=B,X=z.next;z.next=null,R===null?C=X:R.next=X,R=z;var ee=s.alternate;if(ee!==null){var ce=ee.updateQueue,ye=ce.lastBaseUpdate;ye!==R&&(ye===null?ce.firstBaseUpdate=X:ye.next=X,ce.lastBaseUpdate=z)}}if(C!==null){var Ce=y.baseState,Ne=Oe,Be=null,dt=null,At=null,gt=C;do{var gr=gt.lane,Jt=gt.eventTime;if(ul(m,gr)){if(At!==null){var Ee={eventTime:Jt,lane:gn,tag:gt.tag,payload:gt.payload,callback:gt.callback,next:null};At=At.next=Ee}Ce=d2(s,y,gt,Ce,o,d);var pe=gt.callback;if(pe!==null&&gt.lane!==gn){s.flags|=zi;var ze=y.effects;ze===null?y.effects=[gt]:ze.push(gt)}}else{var ge={eventTime:Jt,lane:gr,tag:gt.tag,payload:gt.payload,callback:gt.callback,next:null};At===null?(dt=At=ge,Be=Ce):At=At.next=ge,Ne=It(Ne,gr)}if(gt=gt.next,gt===null){if(B=y.shared.pending,B===null)break;var lt=B,Je=lt.next;lt.next=null,gt=Je,y.lastBaseUpdate=lt,y.shared.pending=null}}while(!0);At===null&&(Be=Ce),y.baseState=Be,y.firstBaseUpdate=dt,y.lastBaseUpdate=At;var qt=y.shared.interleaved;if(qt!==null){var Pt=qt;do Ne=It(Ne,Pt.lane),Pt=Pt.next;while(Pt!==qt)}else C===null&&(y.shared.lanes=Oe);Yp(Ne),s.lanes=Ne,s.memoizedState=Ce}Vg=null}function f2(s,o){if(typeof s!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+s));s.call(o)}function X1(){Hg=!1}function Wg(){return Hg}function Y1(s,o,d){var m=o.effects;if(o.effects=null,m!==null)for(var y=0;y<m.length;y++){var C=m[y],R=C.callback;R!==null&&(C.callback=null,f2(R,d))}}var L0={},q1=new n.Component().refs,B0,N0,U0,k0,z0,Q1,Xg,G0,H0,V0;{B0=new Set,N0=new Set,U0=new Set,k0=new Set,G0=new Set,z0=new Set,H0=new Set,V0=new Set;var K1=new Set;Xg=function(s,o){if(!(s===null||typeof s=="function")){var d=o+"_"+s;K1.has(d)||(K1.add(d),p("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",o,s))}},Q1=function(s,o){if(o===void 0){var d=Ct(s)||"Component";z0.has(d)||(z0.add(d),p("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",d))}},Object.defineProperty(L0,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(L0)}function j0(s,o,d,m){var y=s.memoizedState,C=d(m,y);{if(s.mode&Wr){Yt(!0);try{C=d(m,y)}finally{Yt(!1)}}Q1(o,C)}var R=C==null?y:v({},y,C);if(s.memoizedState=R,s.lanes===Oe){var B=s.updateQueue;B.baseState=R}}var $0={isMounted:bs,enqueueSetState:function(s,o,d){var m=b(s),y=Li(),C=Eu(m),R=vl(y,C);R.payload=o,d!=null&&(Xg(d,"setState"),R.callback=d);var B=gu(m,R,C);B!==null&&(Bn(B,m,C,y),jg(B,m,C)),fu(m,C)},enqueueReplaceState:function(s,o,d){var m=b(s),y=Li(),C=Eu(m),R=vl(y,C);R.tag=$1,R.payload=o,d!=null&&(Xg(d,"replaceState"),R.callback=d);var B=gu(m,R,C);B!==null&&(Bn(B,m,C,y),jg(B,m,C)),fu(m,C)},enqueueForceUpdate:function(s,o){var d=b(s),m=Li(),y=Eu(d),C=vl(m,y);C.tag=Gg,o!=null&&(Xg(o,"forceUpdate"),C.callback=o);var R=gu(d,C,y);R!==null&&(Bn(R,d,y,m),jg(R,d,y)),Kh(d,y)}};function Z1(s,o,d,m,y,C,R){var B=s.stateNode;if(typeof B.shouldComponentUpdate=="function"){var z=B.shouldComponentUpdate(m,C,R);{if(s.mode&Wr){Yt(!0);try{z=B.shouldComponentUpdate(m,C,R)}finally{Yt(!1)}}z===void 0&&p("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Ct(o)||"Component")}return z}return o.prototype&&o.prototype.isPureReactComponent?!be(d,m)||!be(y,C):!0}function p2(s,o,d){var m=s.stateNode;{var y=Ct(o)||"Component",C=m.render;C||(o.prototype&&typeof o.prototype.render=="function"?p("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",y):p("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",y)),m.getInitialState&&!m.getInitialState.isReactClassApproved&&!m.state&&p("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",y),m.getDefaultProps&&!m.getDefaultProps.isReactClassApproved&&p("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",y),m.propTypes&&p("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",y),m.contextType&&p("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",y),m.contextTypes&&p("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",y),o.contextType&&o.contextTypes&&!H0.has(o)&&(H0.add(o),p("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",y)),typeof m.componentShouldUpdate=="function"&&p("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",y),o.prototype&&o.prototype.isPureReactComponent&&typeof m.shouldComponentUpdate<"u"&&p("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Ct(o)||"A pure component"),typeof m.componentDidUnmount=="function"&&p("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",y),typeof m.componentDidReceiveProps=="function"&&p("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",y),typeof m.componentWillRecieveProps=="function"&&p("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",y),typeof m.UNSAFE_componentWillRecieveProps=="function"&&p("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",y);var R=m.props!==d;m.props!==void 0&&R&&p("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",y,y),m.defaultProps&&p("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",y,y),typeof m.getSnapshotBeforeUpdate=="function"&&typeof m.componentDidUpdate!="function"&&!U0.has(o)&&(U0.add(o),p("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Ct(o))),typeof m.getDerivedStateFromProps=="function"&&p("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",y),typeof m.getDerivedStateFromError=="function"&&p("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",y),typeof o.getSnapshotBeforeUpdate=="function"&&p("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",y);var B=m.state;B&&(typeof B!="object"||Jr(B))&&p("%s.state: must be set to an object or null",y),typeof m.getChildContext=="function"&&typeof o.childContextTypes!="object"&&p("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",y)}}function J1(s,o){o.updater=$0,s.stateNode=o,x(o,s),o._reactInternalInstance=L0}function eC(s,o,d){var m=!1,y=hi,C=hi,R=o.contextType;if("contextType"in o){var B=R===null||R!==void 0&&R.$$typeof===qe&&R._context===void 0;if(!B&&!V0.has(o)){V0.add(o);var z="";R===void 0?z=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof R!="object"?z=" However, it is set to a "+typeof R+".":R.$$typeof===He?z=" Did you accidentally pass the Context.Provider instead?":R._context!==void 0?z=" Did you accidentally pass the Context.Consumer instead?":z=" However, it is set to an object with keys {"+Object.keys(R).join(", ")+"}.",p("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Ct(o)||"Component",z)}}if(typeof R=="object"&&R!==null)C=Fn(R);else{y=pr(s,o,!0);var X=o.contextTypes;m=X!=null,C=m?zr(s,y):hi}var ee=new o(d,C);if(s.mode&Wr){Yt(!0);try{ee=new o(d,C)}finally{Yt(!1)}}var ce=s.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null;J1(s,ee);{if(typeof o.getDerivedStateFromProps=="function"&&ce===null){var ye=Ct(o)||"Component";N0.has(ye)||(N0.add(ye),p("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",ye,ee.state===null?"null":"undefined",ye))}if(typeof o.getDerivedStateFromProps=="function"||typeof ee.getSnapshotBeforeUpdate=="function"){var Ce=null,Ne=null,Be=null;if(typeof ee.componentWillMount=="function"&&ee.componentWillMount.__suppressDeprecationWarning!==!0?Ce="componentWillMount":typeof ee.UNSAFE_componentWillMount=="function"&&(Ce="UNSAFE_componentWillMount"),typeof ee.componentWillReceiveProps=="function"&&ee.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Ne="componentWillReceiveProps":typeof ee.UNSAFE_componentWillReceiveProps=="function"&&(Ne="UNSAFE_componentWillReceiveProps"),typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate.__suppressDeprecationWarning!==!0?Be="componentWillUpdate":typeof ee.UNSAFE_componentWillUpdate=="function"&&(Be="UNSAFE_componentWillUpdate"),Ce!==null||Ne!==null||Be!==null){var dt=Ct(o)||"Component",At=typeof o.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";k0.has(dt)||(k0.add(dt),p(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,dt,At,Ce!==null?`
  `+Ce:"",Ne!==null?`
  `+Ne:"",Be!==null?`
  `+Be:""))}}}return m&&mn(s,y,C),ee}function m2(s,o){var d=o.state;typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&(p("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",ne(s)||"Component"),$0.enqueueReplaceState(o,o.state,null))}function tC(s,o,d,m){var y=o.state;if(typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==y){{var C=ne(s)||"Component";B0.has(C)||(B0.add(C),p("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",C))}$0.enqueueReplaceState(o,o.state,null)}}function W0(s,o,d,m){p2(s,o,d);var y=s.stateNode;y.props=d,y.state=s.memoizedState,y.refs=q1,O0(s);var C=o.contextType;if(typeof C=="object"&&C!==null)y.context=Fn(C);else{var R=pr(s,o,!0);y.context=zr(s,R)}{if(y.state===d){var B=Ct(o)||"Component";G0.has(B)||(G0.add(B),p("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",B))}s.mode&Wr&&Ls.recordLegacyContextWarning(s,y),Ls.recordUnsafeLifecycleWarnings(s,y)}y.state=s.memoizedState;var z=o.getDerivedStateFromProps;if(typeof z=="function"&&(j0(s,o,z,d),y.state=s.memoizedState),typeof o.getDerivedStateFromProps!="function"&&typeof y.getSnapshotBeforeUpdate!="function"&&(typeof y.UNSAFE_componentWillMount=="function"||typeof y.componentWillMount=="function")&&(m2(s,y),$g(s,d,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"){var X=rt;X|=Fe,(s.mode&Sa)!==yt&&(X|=ht),s.flags|=X}}function g2(s,o,d,m){var y=s.stateNode,C=s.memoizedProps;y.props=C;var R=y.context,B=o.contextType,z=hi;if(typeof B=="object"&&B!==null)z=Fn(B);else{var X=pr(s,o,!0);z=zr(s,X)}var ee=o.getDerivedStateFromProps,ce=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function";!ce&&(typeof y.UNSAFE_componentWillReceiveProps=="function"||typeof y.componentWillReceiveProps=="function")&&(C!==d||R!==z)&&tC(s,y,d,z),X1();var ye=s.memoizedState,Ce=y.state=ye;if($g(s,d,y,m),Ce=s.memoizedState,C===d&&ye===Ce&&!sl()&&!Wg()){if(typeof y.componentDidMount=="function"){var Ne=rt;Ne|=Fe,(s.mode&Sa)!==yt&&(Ne|=ht),s.flags|=Ne}return!1}typeof ee=="function"&&(j0(s,o,ee,d),Ce=s.memoizedState);var Be=Wg()||Z1(s,o,C,d,ye,Ce,z);if(Be){if(!ce&&(typeof y.UNSAFE_componentWillMount=="function"||typeof y.componentWillMount=="function")&&(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"){var dt=rt;dt|=Fe,(s.mode&Sa)!==yt&&(dt|=ht),s.flags|=dt}}else{if(typeof y.componentDidMount=="function"){var At=rt;At|=Fe,(s.mode&Sa)!==yt&&(At|=ht),s.flags|=At}s.memoizedProps=d,s.memoizedState=Ce}return y.props=d,y.state=Ce,y.context=z,Be}function v2(s,o,d,m,y){var C=o.stateNode;W1(s,o);var R=o.memoizedProps,B=o.type===o.elementType?R:Bs(o.type,R);C.props=B;var z=o.pendingProps,X=C.context,ee=d.contextType,ce=hi;if(typeof ee=="object"&&ee!==null)ce=Fn(ee);else{var ye=pr(o,d,!0);ce=zr(o,ye)}var Ce=d.getDerivedStateFromProps,Ne=typeof Ce=="function"||typeof C.getSnapshotBeforeUpdate=="function";!Ne&&(typeof C.UNSAFE_componentWillReceiveProps=="function"||typeof C.componentWillReceiveProps=="function")&&(R!==z||X!==ce)&&tC(o,C,m,ce),X1();var Be=o.memoizedState,dt=C.state=Be;if($g(o,m,C,y),dt=o.memoizedState,R===z&&Be===dt&&!sl()&&!Wg()&&!E)return typeof C.componentDidUpdate=="function"&&(R!==s.memoizedProps||Be!==s.memoizedState)&&(o.flags|=rt),typeof C.getSnapshotBeforeUpdate=="function"&&(R!==s.memoizedProps||Be!==s.memoizedState)&&(o.flags|=Rn),!1;typeof Ce=="function"&&(j0(o,d,Ce,m),dt=o.memoizedState);var At=Wg()||Z1(o,d,B,m,Be,dt,ce)||E;return At?(!Ne&&(typeof C.UNSAFE_componentWillUpdate=="function"||typeof C.componentWillUpdate=="function")&&(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,dt,ce),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,dt,ce)),typeof C.componentDidUpdate=="function"&&(o.flags|=rt),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=Rn)):(typeof C.componentDidUpdate=="function"&&(R!==s.memoizedProps||Be!==s.memoizedState)&&(o.flags|=rt),typeof C.getSnapshotBeforeUpdate=="function"&&(R!==s.memoizedProps||Be!==s.memoizedState)&&(o.flags|=Rn),o.memoizedProps=m,o.memoizedState=dt),C.props=m,C.state=dt,C.context=ce,At}var X0,Y0,q0,Q0,K0,rC=function(s,o){};X0=!1,Y0=!1,q0={},Q0={},K0={},rC=function(s,o){if(!(s===null||typeof s!="object")&&!(!s._store||s._store.validated||s.key!=null)){if(typeof s._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");s._store.validated=!0;var d=ne(o)||"Component";Q0[d]||(Q0[d]=!0,p('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function bp(s,o,d){var m=d.ref;if(m!==null&&typeof m!="function"&&typeof m!="object"){if((s.mode&Wr||P)&&!(d._owner&&d._self&&d._owner.stateNode!==d._self)){var y=ne(s)||"Component";q0[y]||(p('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',m),q0[y]=!0)}if(d._owner){var C=d._owner,R;if(C){var B=C;if(B.tag!==$)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");R=B.stateNode}if(!R)throw new Error("Missing owner for string ref "+m+". This error is likely caused by a bug in React. Please file an issue.");var z=R;a2(m,"ref");var X=""+m;if(o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===X)return o.ref;var ee=function(ce){var ye=z.refs;ye===q1&&(ye=z.refs={}),ce===null?delete ye[X]:ye[X]=ce};return ee._stringRef=X,ee}else{if(typeof m!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!d._owner)throw new Error("Element ref was specified as a string ("+m+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return m}function Yg(s,o){var d=Object.prototype.toString.call(o);throw new Error("Objects are not valid as a React child (found: "+(d==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":d)+"). If you meant to render a collection of children, use an array instead.")}function qg(s){{var o=ne(s)||"Component";if(K0[o])return;K0[o]=!0,p("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function nC(s){var o=s._payload,d=s._init;return d(o)}function iC(s){function o(ge,Ee){if(s){var pe=ge.deletions;pe===null?(ge.deletions=[Ee],ge.flags|=vt):pe.push(Ee)}}function d(ge,Ee){if(!s)return null;for(var pe=Ee;pe!==null;)o(ge,pe),pe=pe.sibling;return null}function m(ge,Ee){for(var pe=new Map,ze=Ee;ze!==null;)ze.key!==null?pe.set(ze.key,ze):pe.set(ze.index,ze),ze=ze.sibling;return pe}function y(ge,Ee){var pe=Nc(ge,Ee);return pe.index=0,pe.sibling=null,pe}function C(ge,Ee,pe){if(ge.index=pe,!s)return ge.flags|=no,Ee;var ze=ge.alternate;if(ze!==null){var lt=ze.index;return lt<Ee?(ge.flags|=xt,Ee):lt}else return ge.flags|=xt,Ee}function R(ge){return s&&ge.alternate===null&&(ge.flags|=xt),ge}function B(ge,Ee,pe,ze){if(Ee===null||Ee.tag!==Q){var lt=Ax(pe,ge.mode,ze);return lt.return=ge,lt}else{var Je=y(Ee,pe);return Je.return=ge,Je}}function z(ge,Ee,pe,ze){var lt=pe.type;if(lt===fe)return ee(ge,Ee,pe.props.children,ze,pe.key);if(Ee!==null&&(Ee.elementType===lt||Yw(Ee,pe)||typeof lt=="object"&&lt!==null&&lt.$$typeof===Wt&&nC(lt)===Ee.type)){var Je=y(Ee,pe.props);return Je.ref=bp(ge,Ee,pe),Je.return=ge,Je._debugSource=pe._source,Je._debugOwner=pe._owner,Je}var qt=wx(pe,ge.mode,ze);return qt.ref=bp(ge,Ee,pe),qt.return=ge,qt}function X(ge,Ee,pe,ze){if(Ee===null||Ee.tag!==re||Ee.stateNode.containerInfo!==pe.containerInfo||Ee.stateNode.implementation!==pe.implementation){var lt=Rx(pe,ge.mode,ze);return lt.return=ge,lt}else{var Je=y(Ee,pe.children||[]);return Je.return=ge,Je}}function ee(ge,Ee,pe,ze,lt){if(Ee===null||Ee.tag!==q){var Je=Cu(pe,ge.mode,ze,lt);return Je.return=ge,Je}else{var qt=y(Ee,pe);return qt.return=ge,qt}}function ce(ge,Ee,pe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"){var ze=Ax(""+Ee,ge.mode,pe);return ze.return=ge,ze}if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case ve:{var lt=wx(Ee,ge.mode,pe);return lt.ref=bp(ge,null,Ee),lt.return=ge,lt}case Ae:{var Je=Rx(Ee,ge.mode,pe);return Je.return=ge,Je}case Wt:{var qt=Ee._payload,Pt=Ee._init;return ce(ge,Pt(qt),pe)}}if(Jr(Ee)||ot(Ee)){var rr=Cu(Ee,ge.mode,pe,null);return rr.return=ge,rr}Yg(ge,Ee)}return typeof Ee=="function"&&qg(ge),null}function ye(ge,Ee,pe,ze){var lt=Ee!==null?Ee.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return lt!==null?null:B(ge,Ee,""+pe,ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case ve:return pe.key===lt?z(ge,Ee,pe,ze):null;case Ae:return pe.key===lt?X(ge,Ee,pe,ze):null;case Wt:{var Je=pe._payload,qt=pe._init;return ye(ge,Ee,qt(Je),ze)}}if(Jr(pe)||ot(pe))return lt!==null?null:ee(ge,Ee,pe,ze,null);Yg(ge,pe)}return typeof pe=="function"&&qg(ge),null}function Ce(ge,Ee,pe,ze,lt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"){var Je=ge.get(pe)||null;return B(Ee,Je,""+ze,lt)}if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case ve:{var qt=ge.get(ze.key===null?pe:ze.key)||null;return z(Ee,qt,ze,lt)}case Ae:{var Pt=ge.get(ze.key===null?pe:ze.key)||null;return X(Ee,Pt,ze,lt)}case Wt:var rr=ze._payload,Ht=ze._init;return Ce(ge,Ee,pe,Ht(rr),lt)}if(Jr(ze)||ot(ze)){var Pr=ge.get(pe)||null;return ee(Ee,Pr,ze,lt,null)}Yg(Ee,ze)}return typeof ze=="function"&&qg(Ee),null}function Ne(ge,Ee,pe){{if(typeof ge!="object"||ge===null)return Ee;switch(ge.$$typeof){case ve:case Ae:rC(ge,pe);var ze=ge.key;if(typeof ze!="string")break;if(Ee===null){Ee=new Set,Ee.add(ze);break}if(!Ee.has(ze)){Ee.add(ze);break}p("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",ze);break;case Wt:var lt=ge._payload,Je=ge._init;Ne(Je(lt),Ee,pe);break}}return Ee}function Be(ge,Ee,pe,ze){for(var lt=null,Je=0;Je<pe.length;Je++){var qt=pe[Je];lt=Ne(qt,lt,ge)}for(var Pt=null,rr=null,Ht=Ee,Pr=0,bt=0,ln=null;Ht!==null&&bt<pe.length;bt++){Ht.index>bt?(ln=Ht,Ht=null):ln=Ht.sibling;var Bi=ye(ge,Ht,pe[bt],ze);if(Bi===null){Ht===null&&(Ht=ln);break}s&&Ht&&Bi.alternate===null&&o(ge,Ht),Pr=C(Bi,Pr,bt),rr===null?Pt=Bi:rr.sibling=Bi,rr=Bi,Ht=ln}if(bt===pe.length){if(d(ge,Ht),Le()){var _i=bt;vo(ge,_i)}return Pt}if(Ht===null){for(;bt<pe.length;bt++){var Ia=ce(ge,pe[bt],ze);Ia!==null&&(Pr=C(Ia,Pr,bt),rr===null?Pt=Ia:rr.sibling=Ia,rr=Ia)}if(Le()){var Zi=bt;vo(ge,Zi)}return Pt}for(var Ji=m(ge,Ht);bt<pe.length;bt++){var Ni=Ce(Ji,ge,bt,pe[bt],ze);Ni!==null&&(s&&Ni.alternate!==null&&Ji.delete(Ni.key===null?bt:Ni.key),Pr=C(Ni,Pr,bt),rr===null?Pt=Ni:rr.sibling=Ni,rr=Ni)}if(s&&Ji.forEach(function(_d){return o(ge,_d)}),Le()){var xl=bt;vo(ge,xl)}return Pt}function dt(ge,Ee,pe,ze){var lt=ot(pe);if(typeof lt!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&pe[Symbol.toStringTag]==="Generator"&&(Y0||p("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Y0=!0),pe.entries===lt&&(X0||p("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),X0=!0);var Je=lt.call(pe);if(Je)for(var qt=null,Pt=Je.next();!Pt.done;Pt=Je.next()){var rr=Pt.value;qt=Ne(rr,qt,ge)}}var Ht=lt.call(pe);if(Ht==null)throw new Error("An iterable object provided no iterator.");for(var Pr=null,bt=null,ln=Ee,Bi=0,_i=0,Ia=null,Zi=Ht.next();ln!==null&&!Zi.done;_i++,Zi=Ht.next()){ln.index>_i?(Ia=ln,ln=null):Ia=ln.sibling;var Ji=ye(ge,ln,Zi.value,ze);if(Ji===null){ln===null&&(ln=Ia);break}s&&ln&&Ji.alternate===null&&o(ge,ln),Bi=C(Ji,Bi,_i),bt===null?Pr=Ji:bt.sibling=Ji,bt=Ji,ln=Ia}if(Zi.done){if(d(ge,ln),Le()){var Ni=_i;vo(ge,Ni)}return Pr}if(ln===null){for(;!Zi.done;_i++,Zi=Ht.next()){var xl=ce(ge,Zi.value,ze);xl!==null&&(Bi=C(xl,Bi,_i),bt===null?Pr=xl:bt.sibling=xl,bt=xl)}if(Le()){var _d=_i;vo(ge,_d)}return Pr}for(var Kp=m(ge,ln);!Zi.done;_i++,Zi=Ht.next()){var Po=Ce(Kp,ge,_i,Zi.value,ze);Po!==null&&(s&&Po.alternate!==null&&Kp.delete(Po.key===null?_i:Po.key),Bi=C(Po,Bi,_i),bt===null?Pr=Po:bt.sibling=Po,bt=Po)}if(s&&Kp.forEach(function(BN){return o(ge,BN)}),Le()){var LN=_i;vo(ge,LN)}return Pr}function At(ge,Ee,pe,ze){if(Ee!==null&&Ee.tag===Q){d(ge,Ee.sibling);var lt=y(Ee,pe);return lt.return=ge,lt}d(ge,Ee);var Je=Ax(pe,ge.mode,ze);return Je.return=ge,Je}function gt(ge,Ee,pe,ze){for(var lt=pe.key,Je=Ee;Je!==null;){if(Je.key===lt){var qt=pe.type;if(qt===fe){if(Je.tag===q){d(ge,Je.sibling);var Pt=y(Je,pe.props.children);return Pt.return=ge,Pt._debugSource=pe._source,Pt._debugOwner=pe._owner,Pt}}else if(Je.elementType===qt||Yw(Je,pe)||typeof qt=="object"&&qt!==null&&qt.$$typeof===Wt&&nC(qt)===Je.type){d(ge,Je.sibling);var rr=y(Je,pe.props);return rr.ref=bp(ge,Je,pe),rr.return=ge,rr._debugSource=pe._source,rr._debugOwner=pe._owner,rr}d(ge,Je);break}else o(ge,Je);Je=Je.sibling}if(pe.type===fe){var Ht=Cu(pe.props.children,ge.mode,ze,pe.key);return Ht.return=ge,Ht}else{var Pr=wx(pe,ge.mode,ze);return Pr.ref=bp(ge,Ee,pe),Pr.return=ge,Pr}}function gr(ge,Ee,pe,ze){for(var lt=pe.key,Je=Ee;Je!==null;){if(Je.key===lt)if(Je.tag===re&&Je.stateNode.containerInfo===pe.containerInfo&&Je.stateNode.implementation===pe.implementation){d(ge,Je.sibling);var qt=y(Je,pe.children||[]);return qt.return=ge,qt}else{d(ge,Je);break}else o(ge,Je);Je=Je.sibling}var Pt=Rx(pe,ge.mode,ze);return Pt.return=ge,Pt}function Jt(ge,Ee,pe,ze){var lt=typeof pe=="object"&&pe!==null&&pe.type===fe&&pe.key===null;if(lt&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case ve:return R(gt(ge,Ee,pe,ze));case Ae:return R(gr(ge,Ee,pe,ze));case Wt:var Je=pe._payload,qt=pe._init;return Jt(ge,Ee,qt(Je),ze)}if(Jr(pe))return Be(ge,Ee,pe,ze);if(ot(pe))return dt(ge,Ee,pe,ze);Yg(ge,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?R(At(ge,Ee,""+pe,ze)):(typeof pe=="function"&&qg(ge),d(ge,Ee))}return Jt}var nd=iC(!0),aC=iC(!1);function y2(s,o){if(s!==null&&o.child!==s.child)throw new Error("Resuming work not yet implemented.");if(o.child!==null){var d=o.child,m=Nc(d,d.pendingProps);for(o.child=m,m.return=o;d.sibling!==null;)d=d.sibling,m=m.sibling=Nc(d,d.pendingProps),m.return=o;m.sibling=null}}function _2(s,o){for(var d=s.child;d!==null;)hN(d,o),d=d.sibling}var xp={},vu=Qa(xp),Sp=Qa(xp),Qg=Qa(xp);function Kg(s){if(s===xp)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return s}function Z0(){var s=Kg(Qg.current);return s}function J0(s,o){tn(Qg,o,s),tn(Sp,s,s),tn(vu,xp,s);var d=Tr(o);zt(vu,s),tn(vu,d,s)}function id(s){zt(vu,s),zt(Sp,s),zt(Qg,s)}function Ep(){var s=Kg(vu.current);return s}function sC(s){var o=Kg(Qg.current),d=Kg(vu.current),m=ao(d,s.type,o);d!==m&&(tn(Sp,s,s),tn(vu,m,s))}function eb(s){Sp.current===s&&(zt(vu,s),zt(Sp,s))}var b2=0,oC=1,lC=1,Tp=2,Ns=Qa(b2);function tb(s,o){return(s&o)!==0}function ad(s){return s&oC}function rb(s,o){return s&oC|o}function x2(s,o){return s|o}function yu(s,o){tn(Ns,o,s)}function sd(s){zt(Ns,s)}function S2(s,o){var d=s.memoizedState;return d!==null?d.dehydrated!==null:(s.memoizedProps,!0)}function Zg(s){for(var o=s;o!==null;){if(o.tag===k){var d=o.memoizedState;if(d!==null){var m=d.dehydrated;if(m===null||wi(m)||Ai(m))return o}}else if(o.tag===se&&o.memoizedProps.revealOrder!==void 0){var y=(o.flags&St)!==te;if(y)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)return null;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ha=0,$n=1,_o=2,Wn=4,pi=8,nb=[];function ib(){for(var s=0;s<nb.length;s++){var o=nb[s];fh?o._workInProgressVersionPrimary=null:o._workInProgressVersionSecondary=null}nb.length=0}function E2(s,o){var d=o._getVersion,m=d(o._source);s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,m]:s.mutableSourceEagerHydrationData.push(o,m)}var Ze=a.ReactCurrentDispatcher,Cp=a.ReactCurrentBatchConfig,ab,od;ab=new Set;var Mc=Oe,mr=null,Xn=null,Yn=null,Jg=!1,wp=!1,Ap=0,T2=0,C2=25,Te=null,ts=null,_u=-1,sb=!1;function ur(){{var s=Te;ts===null?ts=[s]:ts.push(s)}}function $e(){{var s=Te;ts!==null&&(_u++,ts[_u]!==s&&w2(s))}}function ld(s){s!=null&&!Jr(s)&&p("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Te,typeof s)}function w2(s){{var o=ne(mr);if(!ab.has(o)&&(ab.add(o),ts!==null)){for(var d="",m=30,y=0;y<=_u;y++){for(var C=ts[y],R=y===_u?s:C,B=y+1+". "+C;B.length<m;)B+=" ";B+=R+`
`,d+=B}p(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,o,d)}}}function Fi(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function ob(s,o){if(sb)return!1;if(o===null)return p("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Te),!1;s.length!==o.length&&p(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Te,"["+o.join(", ")+"]","["+s.join(", ")+"]");for(var d=0;d<o.length&&d<s.length;d++)if(!sn(s[d],o[d]))return!1;return!0}function ud(s,o,d,m,y,C){Mc=C,mr=o,ts=s!==null?s._debugHookTypes:null,_u=-1,sb=s!==null&&s.type!==o.type,o.memoizedState=null,o.updateQueue=null,o.lanes=Oe,s!==null&&s.memoizedState!==null?Ze.current=MC:ts!==null?Ze.current=PC:Ze.current=RC;var R=d(m,y);if(wp){var B=0;do{if(wp=!1,Ap=0,B>=C2)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");B+=1,sb=!1,Xn=null,Yn=null,o.updateQueue=null,_u=-1,Ze.current=IC,R=d(m,y)}while(wp)}Ze.current=dv,o._debugHookTypes=ts;var z=Xn!==null&&Xn.next!==null;if(Mc=Oe,mr=null,Xn=null,Yn=null,Te=null,ts=null,_u=-1,s!==null&&(s.flags&Vt)!==(o.flags&Vt)&&(s.mode&Gt)!==yt&&p("Internal React error: Expected static flag was missing. Please notify the React team."),Jg=!1,z)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return R}function cd(){var s=Ap!==0;return Ap=0,s}function uC(s,o,d){o.updateQueue=s.updateQueue,(o.mode&Sa)!==yt?o.flags&=-50333701:o.flags&=-2053,s.lanes=Mn(s.lanes,d)}function cC(){if(Ze.current=dv,Jg){for(var s=mr.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Jg=!1}Mc=Oe,mr=null,Xn=null,Yn=null,ts=null,_u=-1,Te=null,EC=!1,wp=!1,Ap=0}function bo(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?mr.memoizedState=Yn=s:Yn=Yn.next=s,Yn}function rs(){var s;if(Xn===null){var o=mr.alternate;o!==null?s=o.memoizedState:s=null}else s=Xn.next;var d;if(Yn===null?d=mr.memoizedState:d=Yn.next,d!==null)Yn=d,d=Yn.next,Xn=s;else{if(s===null)throw new Error("Rendered more hooks than during the previous render.");Xn=s;var m={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null};Yn===null?mr.memoizedState=Yn=m:Yn=Yn.next=m}return Yn}function hC(){return{lastEffect:null,stores:null}}function lb(s,o){return typeof o=="function"?o(s):o}function ub(s,o,d){var m=bo(),y;d!==void 0?y=d(o):y=o,m.memoizedState=m.baseState=y;var C={pending:null,interleaved:null,lanes:Oe,dispatch:null,lastRenderedReducer:s,lastRenderedState:y};m.queue=C;var R=C.dispatch=M2.bind(null,mr,C);return[m.memoizedState,R]}function cb(s,o,d){var m=rs(),y=m.queue;if(y===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");y.lastRenderedReducer=s;var C=Xn,R=C.baseQueue,B=y.pending;if(B!==null){if(R!==null){var z=R.next,X=B.next;R.next=X,B.next=z}C.baseQueue!==R&&p("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),C.baseQueue=R=B,y.pending=null}if(R!==null){var ee=R.next,ce=C.baseState,ye=null,Ce=null,Ne=null,Be=ee;do{var dt=Be.lane;if(ul(Mc,dt)){if(Ne!==null){var gt={lane:gn,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};Ne=Ne.next=gt}if(Be.hasEagerState)ce=Be.eagerState;else{var gr=Be.action;ce=s(ce,gr)}}else{var At={lane:dt,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};Ne===null?(Ce=Ne=At,ye=ce):Ne=Ne.next=At,mr.lanes=It(mr.lanes,dt),Yp(dt)}Be=Be.next}while(Be!==null&&Be!==ee);Ne===null?ye=ce:Ne.next=Ce,sn(ce,m.memoizedState)||Fp(),m.memoizedState=ce,m.baseState=ye,m.baseQueue=Ne,y.lastRenderedState=ce}var Jt=y.interleaved;if(Jt!==null){var ge=Jt;do{var Ee=ge.lane;mr.lanes=It(mr.lanes,Ee),Yp(Ee),ge=ge.next}while(ge!==Jt)}else R===null&&(y.lanes=Oe);var pe=y.dispatch;return[m.memoizedState,pe]}function hb(s,o,d){var m=rs(),y=m.queue;if(y===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");y.lastRenderedReducer=s;var C=y.dispatch,R=y.pending,B=m.memoizedState;if(R!==null){y.pending=null;var z=R.next,X=z;do{var ee=X.action;B=s(B,ee),X=X.next}while(X!==z);sn(B,m.memoizedState)||Fp(),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),y.lastRenderedState=B}return[B,C]}function AW(s,o,d){}function RW(s,o,d){}function db(s,o,d){var m=mr,y=bo(),C,R=Le();if(R){if(d===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");C=d(),od||C!==d()&&(p("The result of getServerSnapshot should be cached to avoid an infinite loop"),od=!0)}else{if(C=o(),!od){var B=o();sn(C,B)||(p("The result of getSnapshot should be cached to avoid an infinite loop"),od=!0)}var z=zv();if(z===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");pc(z,Mc)||dC(m,o,C)}y.memoizedState=C;var X={value:C,getSnapshot:o};return y.queue=X,iv(pC.bind(null,m,X,s),[s]),m.flags|=Lr,Rp($n|pi,fC.bind(null,m,X,C,o),void 0,null),C}function ev(s,o,d){var m=mr,y=rs(),C=o();if(!od){var R=o();sn(C,R)||(p("The result of getSnapshot should be cached to avoid an infinite loop"),od=!0)}var B=y.memoizedState,z=!sn(B,C);z&&(y.memoizedState=C,Fp());var X=y.queue;if(Mp(pC.bind(null,m,X,s),[s]),X.getSnapshot!==o||z||Yn!==null&&Yn.memoizedState.tag&$n){m.flags|=Lr,Rp($n|pi,fC.bind(null,m,X,C,o),void 0,null);var ee=zv();if(ee===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");pc(ee,Mc)||dC(m,o,C)}return C}function dC(s,o,d){s.flags|=ys;var m={getSnapshot:o,value:d},y=mr.updateQueue;if(y===null)y=hC(),mr.updateQueue=y,y.stores=[m];else{var C=y.stores;C===null?y.stores=[m]:C.push(m)}}function fC(s,o,d,m){o.value=d,o.getSnapshot=m,mC(o)&&gC(s)}function pC(s,o,d){var m=function(){mC(o)&&gC(s)};return d(m)}function mC(s){var o=s.getSnapshot,d=s.value;try{var m=o();return!sn(d,m)}catch{return!0}}function gC(s){var o=qi(s,_t);o!==null&&Bn(o,s,_t,_r)}function tv(s){var o=bo();typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s;var d={pending:null,interleaved:null,lanes:Oe,dispatch:null,lastRenderedReducer:lb,lastRenderedState:s};o.queue=d;var m=d.dispatch=I2.bind(null,mr,d);return[o.memoizedState,m]}function fb(s){return cb(lb)}function pb(s){return hb(lb)}function Rp(s,o,d,m){var y={tag:s,create:o,destroy:d,deps:m,next:null},C=mr.updateQueue;if(C===null)C=hC(),mr.updateQueue=C,C.lastEffect=y.next=y;else{var R=C.lastEffect;if(R===null)C.lastEffect=y.next=y;else{var B=R.next;R.next=y,y.next=B,C.lastEffect=y}}return y}function mb(s){var o=bo();{var d={current:s};return o.memoizedState=d,d}}function rv(s){var o=rs();return o.memoizedState}function Pp(s,o,d,m){var y=bo(),C=m===void 0?null:m;mr.flags|=s,y.memoizedState=Rp($n|o,d,void 0,C)}function nv(s,o,d,m){var y=rs(),C=m===void 0?null:m,R=void 0;if(Xn!==null){var B=Xn.memoizedState;if(R=B.destroy,C!==null){var z=B.deps;if(ob(C,z)){y.memoizedState=Rp(o,d,R,C);return}}}mr.flags|=s,y.memoizedState=Rp($n|o,d,R,C)}function iv(s,o){return(mr.mode&Sa)!==yt?Pp(kt|Lr|Xe,pi,s,o):Pp(Lr|Xe,pi,s,o)}function Mp(s,o){return nv(Lr,pi,s,o)}function gb(s,o){return Pp(rt,_o,s,o)}function av(s,o){return nv(rt,_o,s,o)}function vb(s,o){var d=rt;return d|=Fe,(mr.mode&Sa)!==yt&&(d|=ht),Pp(d,Wn,s,o)}function sv(s,o){return nv(rt,Wn,s,o)}function vC(s,o){if(typeof o=="function"){var d=o,m=s();return d(m),function(){d(null)}}else if(o!=null){var y=o;y.hasOwnProperty("current")||p("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(y).join(", ")+"}");var C=s();return y.current=C,function(){y.current=null}}}function yb(s,o,d){typeof o!="function"&&p("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",o!==null?typeof o:"null");var m=d!=null?d.concat([s]):null,y=rt;return y|=Fe,(mr.mode&Sa)!==yt&&(y|=ht),Pp(y,Wn,vC.bind(null,o,s),m)}function ov(s,o,d){typeof o!="function"&&p("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",o!==null?typeof o:"null");var m=d!=null?d.concat([s]):null;return nv(rt,Wn,vC.bind(null,o,s),m)}function A2(s,o){}var lv=A2;function _b(s,o){var d=bo(),m=o===void 0?null:o;return d.memoizedState=[s,m],s}function uv(s,o){var d=rs(),m=o===void 0?null:o,y=d.memoizedState;if(y!==null&&m!==null){var C=y[1];if(ob(m,C))return y[0]}return d.memoizedState=[s,m],s}function bb(s,o){var d=bo(),m=o===void 0?null:o,y=s();return d.memoizedState=[y,m],y}function cv(s,o){var d=rs(),m=o===void 0?null:o,y=d.memoizedState;if(y!==null&&m!==null){var C=y[1];if(ob(m,C))return y[0]}var R=s();return d.memoizedState=[R,m],R}function xb(s){var o=bo();return o.memoizedState=s,s}function yC(s){var o=rs(),d=Xn,m=d.memoizedState;return bC(o,m,s)}function _C(s){var o=rs();if(Xn===null)return o.memoizedState=s,s;var d=Xn.memoizedState;return bC(o,d,s)}function bC(s,o,d){var m=!Xf(Mc);if(m){if(!sn(d,o)){var y=Qf();mr.lanes=It(mr.lanes,y),Yp(y),s.baseState=!0}return o}else return s.baseState&&(s.baseState=!1,Fp()),s.memoizedState=d,d}function R2(s,o,d){var m=nn();br(Eg(m,cu)),s(!0);var y=Cp.transition;Cp.transition={};var C=Cp.transition;Cp.transition._updatedFibers=new Set;try{s(!1),o()}finally{if(br(m),Cp.transition=y,y===null&&C._updatedFibers){var R=C._updatedFibers.size;R>10&&f("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),C._updatedFibers.clear()}}}function Sb(){var s=tv(!1),o=s[0],d=s[1],m=R2.bind(null,d),y=bo();return y.memoizedState=m,[o,m]}function xC(){var s=fb(),o=s[0],d=rs(),m=d.memoizedState;return[o,m]}function SC(){var s=pb(),o=s[0],d=rs(),m=d.memoizedState;return[o,m]}var EC=!1;function P2(){return EC}function Eb(){var s=bo(),o=zv(),d=o.identifierPrefix,m;if(Le()){var y=gl();m=":"+d+"R"+y;var C=Ap++;C>0&&(m+="H"+C.toString(32)),m+=":"}else{var R=T2++;m=":"+d+"r"+R.toString(32)+":"}return s.memoizedState=m,m}function hv(){var s=rs(),o=s.memoizedState;return o}function M2(s,o,d){typeof arguments[3]=="function"&&p("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var m=Eu(s),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(TC(s))CC(o,y);else{var C=V1(s,o,y,m);if(C!==null){var R=Li();Bn(C,s,m,R),wC(C,o,m)}}AC(s,m)}function I2(s,o,d){typeof arguments[3]=="function"&&p("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var m=Eu(s),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(TC(s))CC(o,y);else{var C=s.alternate;if(s.lanes===Oe&&(C===null||C.lanes===Oe)){var R=o.lastRenderedReducer;if(R!==null){var B;B=Ze.current,Ze.current=Us;try{var z=o.lastRenderedState,X=R(z,d);if(y.hasEagerState=!0,y.eagerState=X,sn(X,z)){u2(s,o,y,m);return}}catch{}finally{Ze.current=B}}}var ee=V1(s,o,y,m);if(ee!==null){var ce=Li();Bn(ee,s,m,ce),wC(ee,o,m)}}AC(s,m)}function TC(s){var o=s.alternate;return s===mr||o!==null&&o===mr}function CC(s,o){wp=Jg=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function wC(s,o,d){if(mc(d)){var m=o.lanes;m=xg(m,s.pendingLanes);var y=It(m,d);o.lanes=y,Hh(s,y)}}function AC(s,o,d){fu(s,o)}var dv={readContext:Fn,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:S},RC=null,PC=null,MC=null,IC=null,xo=null,Us=null,fv=null;{var Tb=function(){p("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Dt=function(){p("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};RC={readContext:function(s){return Fn(s)},useCallback:function(s,o){return Te="useCallback",ur(),ld(o),_b(s,o)},useContext:function(s){return Te="useContext",ur(),Fn(s)},useEffect:function(s,o){return Te="useEffect",ur(),ld(o),iv(s,o)},useImperativeHandle:function(s,o,d){return Te="useImperativeHandle",ur(),ld(d),yb(s,o,d)},useInsertionEffect:function(s,o){return Te="useInsertionEffect",ur(),ld(o),gb(s,o)},useLayoutEffect:function(s,o){return Te="useLayoutEffect",ur(),ld(o),vb(s,o)},useMemo:function(s,o){Te="useMemo",ur(),ld(o);var d=Ze.current;Ze.current=xo;try{return bb(s,o)}finally{Ze.current=d}},useReducer:function(s,o,d){Te="useReducer",ur();var m=Ze.current;Ze.current=xo;try{return ub(s,o,d)}finally{Ze.current=m}},useRef:function(s){return Te="useRef",ur(),mb(s)},useState:function(s){Te="useState",ur();var o=Ze.current;Ze.current=xo;try{return tv(s)}finally{Ze.current=o}},useDebugValue:function(s,o){return Te="useDebugValue",ur(),void 0},useDeferredValue:function(s){return Te="useDeferredValue",ur(),xb(s)},useTransition:function(){return Te="useTransition",ur(),Sb()},useMutableSource:function(s,o,d){return Te="useMutableSource",ur(),void 0},useSyncExternalStore:function(s,o,d){return Te="useSyncExternalStore",ur(),db(s,o,d)},useId:function(){return Te="useId",ur(),Eb()},unstable_isNewReconciler:S},PC={readContext:function(s){return Fn(s)},useCallback:function(s,o){return Te="useCallback",$e(),_b(s,o)},useContext:function(s){return Te="useContext",$e(),Fn(s)},useEffect:function(s,o){return Te="useEffect",$e(),iv(s,o)},useImperativeHandle:function(s,o,d){return Te="useImperativeHandle",$e(),yb(s,o,d)},useInsertionEffect:function(s,o){return Te="useInsertionEffect",$e(),gb(s,o)},useLayoutEffect:function(s,o){return Te="useLayoutEffect",$e(),vb(s,o)},useMemo:function(s,o){Te="useMemo",$e();var d=Ze.current;Ze.current=xo;try{return bb(s,o)}finally{Ze.current=d}},useReducer:function(s,o,d){Te="useReducer",$e();var m=Ze.current;Ze.current=xo;try{return ub(s,o,d)}finally{Ze.current=m}},useRef:function(s){return Te="useRef",$e(),mb(s)},useState:function(s){Te="useState",$e();var o=Ze.current;Ze.current=xo;try{return tv(s)}finally{Ze.current=o}},useDebugValue:function(s,o){return Te="useDebugValue",$e(),void 0},useDeferredValue:function(s){return Te="useDeferredValue",$e(),xb(s)},useTransition:function(){return Te="useTransition",$e(),Sb()},useMutableSource:function(s,o,d){return Te="useMutableSource",$e(),void 0},useSyncExternalStore:function(s,o,d){return Te="useSyncExternalStore",$e(),db(s,o,d)},useId:function(){return Te="useId",$e(),Eb()},unstable_isNewReconciler:S},MC={readContext:function(s){return Fn(s)},useCallback:function(s,o){return Te="useCallback",$e(),uv(s,o)},useContext:function(s){return Te="useContext",$e(),Fn(s)},useEffect:function(s,o){return Te="useEffect",$e(),Mp(s,o)},useImperativeHandle:function(s,o,d){return Te="useImperativeHandle",$e(),ov(s,o,d)},useInsertionEffect:function(s,o){return Te="useInsertionEffect",$e(),av(s,o)},useLayoutEffect:function(s,o){return Te="useLayoutEffect",$e(),sv(s,o)},useMemo:function(s,o){Te="useMemo",$e();var d=Ze.current;Ze.current=Us;try{return cv(s,o)}finally{Ze.current=d}},useReducer:function(s,o,d){Te="useReducer",$e();var m=Ze.current;Ze.current=Us;try{return cb(s,o,d)}finally{Ze.current=m}},useRef:function(s){return Te="useRef",$e(),rv()},useState:function(s){Te="useState",$e();var o=Ze.current;Ze.current=Us;try{return fb(s)}finally{Ze.current=o}},useDebugValue:function(s,o){return Te="useDebugValue",$e(),lv()},useDeferredValue:function(s){return Te="useDeferredValue",$e(),yC(s)},useTransition:function(){return Te="useTransition",$e(),xC()},useMutableSource:function(s,o,d){return Te="useMutableSource",$e(),void 0},useSyncExternalStore:function(s,o,d){return Te="useSyncExternalStore",$e(),ev(s,o)},useId:function(){return Te="useId",$e(),hv()},unstable_isNewReconciler:S},IC={readContext:function(s){return Fn(s)},useCallback:function(s,o){return Te="useCallback",$e(),uv(s,o)},useContext:function(s){return Te="useContext",$e(),Fn(s)},useEffect:function(s,o){return Te="useEffect",$e(),Mp(s,o)},useImperativeHandle:function(s,o,d){return Te="useImperativeHandle",$e(),ov(s,o,d)},useInsertionEffect:function(s,o){return Te="useInsertionEffect",$e(),av(s,o)},useLayoutEffect:function(s,o){return Te="useLayoutEffect",$e(),sv(s,o)},useMemo:function(s,o){Te="useMemo",$e();var d=Ze.current;Ze.current=fv;try{return cv(s,o)}finally{Ze.current=d}},useReducer:function(s,o,d){Te="useReducer",$e();var m=Ze.current;Ze.current=fv;try{return hb(s,o,d)}finally{Ze.current=m}},useRef:function(s){return Te="useRef",$e(),rv()},useState:function(s){Te="useState",$e();var o=Ze.current;Ze.current=fv;try{return pb(s)}finally{Ze.current=o}},useDebugValue:function(s,o){return Te="useDebugValue",$e(),lv()},useDeferredValue:function(s){return Te="useDeferredValue",$e(),_C(s)},useTransition:function(){return Te="useTransition",$e(),SC()},useMutableSource:function(s,o,d){return Te="useMutableSource",$e(),void 0},useSyncExternalStore:function(s,o,d){return Te="useSyncExternalStore",$e(),ev(s,o)},useId:function(){return Te="useId",$e(),hv()},unstable_isNewReconciler:S},xo={readContext:function(s){return Tb(),Fn(s)},useCallback:function(s,o){return Te="useCallback",Dt(),ur(),_b(s,o)},useContext:function(s){return Te="useContext",Dt(),ur(),Fn(s)},useEffect:function(s,o){return Te="useEffect",Dt(),ur(),iv(s,o)},useImperativeHandle:function(s,o,d){return Te="useImperativeHandle",Dt(),ur(),yb(s,o,d)},useInsertionEffect:function(s,o){return Te="useInsertionEffect",Dt(),ur(),gb(s,o)},useLayoutEffect:function(s,o){return Te="useLayoutEffect",Dt(),ur(),vb(s,o)},useMemo:function(s,o){Te="useMemo",Dt(),ur();var d=Ze.current;Ze.current=xo;try{return bb(s,o)}finally{Ze.current=d}},useReducer:function(s,o,d){Te="useReducer",Dt(),ur();var m=Ze.current;Ze.current=xo;try{return ub(s,o,d)}finally{Ze.current=m}},useRef:function(s){return Te="useRef",Dt(),ur(),mb(s)},useState:function(s){Te="useState",Dt(),ur();var o=Ze.current;Ze.current=xo;try{return tv(s)}finally{Ze.current=o}},useDebugValue:function(s,o){return Te="useDebugValue",Dt(),ur(),void 0},useDeferredValue:function(s){return Te="useDeferredValue",Dt(),ur(),xb(s)},useTransition:function(){return Te="useTransition",Dt(),ur(),Sb()},useMutableSource:function(s,o,d){return Te="useMutableSource",Dt(),ur(),void 0},useSyncExternalStore:function(s,o,d){return Te="useSyncExternalStore",Dt(),ur(),db(s,o,d)},useId:function(){return Te="useId",Dt(),ur(),Eb()},unstable_isNewReconciler:S},Us={readContext:function(s){return Tb(),Fn(s)},useCallback:function(s,o){return Te="useCallback",Dt(),$e(),uv(s,o)},useContext:function(s){return Te="useContext",Dt(),$e(),Fn(s)},useEffect:function(s,o){return Te="useEffect",Dt(),$e(),Mp(s,o)},useImperativeHandle:function(s,o,d){return Te="useImperativeHandle",Dt(),$e(),ov(s,o,d)},useInsertionEffect:function(s,o){return Te="useInsertionEffect",Dt(),$e(),av(s,o)},useLayoutEffect:function(s,o){return Te="useLayoutEffect",Dt(),$e(),sv(s,o)},useMemo:function(s,o){Te="useMemo",Dt(),$e();var d=Ze.current;Ze.current=Us;try{return cv(s,o)}finally{Ze.current=d}},useReducer:function(s,o,d){Te="useReducer",Dt(),$e();var m=Ze.current;Ze.current=Us;try{return cb(s,o,d)}finally{Ze.current=m}},useRef:function(s){return Te="useRef",Dt(),$e(),rv()},useState:function(s){Te="useState",Dt(),$e();var o=Ze.current;Ze.current=Us;try{return fb(s)}finally{Ze.current=o}},useDebugValue:function(s,o){return Te="useDebugValue",Dt(),$e(),lv()},useDeferredValue:function(s){return Te="useDeferredValue",Dt(),$e(),yC(s)},useTransition:function(){return Te="useTransition",Dt(),$e(),xC()},useMutableSource:function(s,o,d){return Te="useMutableSource",Dt(),$e(),void 0},useSyncExternalStore:function(s,o,d){return Te="useSyncExternalStore",Dt(),$e(),ev(s,o)},useId:function(){return Te="useId",Dt(),$e(),hv()},unstable_isNewReconciler:S},fv={readContext:function(s){return Tb(),Fn(s)},useCallback:function(s,o){return Te="useCallback",Dt(),$e(),uv(s,o)},useContext:function(s){return Te="useContext",Dt(),$e(),Fn(s)},useEffect:function(s,o){return Te="useEffect",Dt(),$e(),Mp(s,o)},useImperativeHandle:function(s,o,d){return Te="useImperativeHandle",Dt(),$e(),ov(s,o,d)},useInsertionEffect:function(s,o){return Te="useInsertionEffect",Dt(),$e(),av(s,o)},useLayoutEffect:function(s,o){return Te="useLayoutEffect",Dt(),$e(),sv(s,o)},useMemo:function(s,o){Te="useMemo",Dt(),$e();var d=Ze.current;Ze.current=Us;try{return cv(s,o)}finally{Ze.current=d}},useReducer:function(s,o,d){Te="useReducer",Dt(),$e();var m=Ze.current;Ze.current=Us;try{return hb(s,o,d)}finally{Ze.current=m}},useRef:function(s){return Te="useRef",Dt(),$e(),rv()},useState:function(s){Te="useState",Dt(),$e();var o=Ze.current;Ze.current=Us;try{return pb(s)}finally{Ze.current=o}},useDebugValue:function(s,o){return Te="useDebugValue",Dt(),$e(),lv()},useDeferredValue:function(s){return Te="useDeferredValue",Dt(),$e(),_C(s)},useTransition:function(){return Te="useTransition",Dt(),$e(),SC()},useMutableSource:function(s,o,d){return Te="useMutableSource",Dt(),$e(),void 0},useSyncExternalStore:function(s,o,d){return Te="useSyncExternalStore",Dt(),$e(),ev(s,o)},useId:function(){return Te="useId",Dt(),$e(),hv()},unstable_isNewReconciler:S}}var bu=i.unstable_now,DC=0,pv=-1,Ip=-1,mv=-1,Cb=!1,gv=!1;function OC(){return Cb}function D2(){gv=!0}function O2(){Cb=!1,gv=!1}function F2(){Cb=gv,gv=!1}function FC(){return DC}function LC(){DC=bu()}function wb(s){Ip=bu(),s.actualStartTime<0&&(s.actualStartTime=bu())}function BC(s){Ip=-1}function vv(s,o){if(Ip>=0){var d=bu()-Ip;s.actualDuration+=d,o&&(s.selfBaseDuration=d),Ip=-1}}function So(s){if(pv>=0){var o=bu()-pv;pv=-1;for(var d=s.return;d!==null;){switch(d.tag){case V:var m=d.stateNode;m.effectDuration+=o;return;case W:var y=d.stateNode;y.effectDuration+=o;return}d=d.return}}}function Ab(s){if(mv>=0){var o=bu()-mv;mv=-1;for(var d=s.return;d!==null;){switch(d.tag){case V:var m=d.stateNode;m!==null&&(m.passiveEffectDuration+=o);return;case W:var y=d.stateNode;y!==null&&(y.passiveEffectDuration+=o);return}d=d.return}}}function Eo(){pv=bu()}function Rb(){mv=bu()}function Pb(s){for(var o=s.child;o;)s.actualDuration+=o.actualDuration,o=o.sibling}function Ic(s,o){return{value:s,source:o,stack:pt(o),digest:null}}function Mb(s,o,d){return{value:s,source:null,stack:d??null,digest:o??null}}function L2(s,o){return!0}function Ib(s,o){try{var d=L2(s,o);if(d===!1)return;var m=o.value,y=o.source,C=o.stack,R=C!==null?C:"";if(m!=null&&m._suppressLogging){if(s.tag===$)return;console.error(m)}var B=y?ne(y):null,z=B?"The above error occurred in the <"+B+"> component:":"The above error occurred in one of your React components:",X;if(s.tag===V)X=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var ee=ne(s)||"Anonymous";X="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+ee+".")}var ce=z+`
`+R+`

`+(""+X);console.error(ce)}catch(ye){setTimeout(function(){throw ye})}}var B2=typeof WeakMap=="function"?WeakMap:Map;function NC(s,o,d){var m=vl(_r,d);m.tag=I0,m.payload={element:null};var y=o.value;return m.callback=function(){$B(y),Ib(s,o)},m}function Db(s,o,d){var m=vl(_r,d);m.tag=I0;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var C=o.value;m.payload=function(){return y(C)},m.callback=function(){qw(s),Ib(s,o)}}var R=s.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(m.callback=function(){qw(s),Ib(s,o),typeof y!="function"&&VB(this);var z=o.value,X=o.stack;this.componentDidCatch(z,{componentStack:X!==null?X:""}),typeof y!="function"&&(Mi(s.lanes,_t)||p("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",ne(s)||"Unknown"))}),m}function UC(s,o,d){var m=s.pingCache,y;if(m===null?(m=s.pingCache=new B2,y=new Set,m.set(o,y)):(y=m.get(o),y===void 0&&(y=new Set,m.set(o,y))),!y.has(d)){y.add(d);var C=WB.bind(null,s,o,d);Wi&&qp(s,d),o.then(C,C)}}function N2(s,o,d,m){var y=s.updateQueue;if(y===null){var C=new Set;C.add(d),s.updateQueue=C}else y.add(d)}function U2(s,o){var d=s.tag;if((s.mode&Gt)===yt&&(d===M||d===G||d===F)){var m=s.alternate;m?(s.updateQueue=m.updateQueue,s.memoizedState=m.memoizedState,s.lanes=m.lanes):(s.updateQueue=null,s.memoizedState=null)}}function kC(s){var o=s;do{if(o.tag===k&&S2(o))return o;o=o.return}while(o!==null);return null}function zC(s,o,d,m,y){if((s.mode&Gt)===yt){if(s===o)s.flags|=Br;else{if(s.flags|=St,d.flags|=_s,d.flags&=-52805,d.tag===$){var C=d.alternate;if(C===null)d.tag=Y;else{var R=vl(_r,_t);R.tag=Gg,gu(d,R,_t)}}d.lanes=It(d.lanes,_t)}return s}return s.flags|=Br,s.lanes=y,s}function k2(s,o,d,m,y){if(d.flags|=_a,Wi&&qp(s,y),m!==null&&typeof m=="object"&&typeof m.then=="function"){var C=m;U2(d),Le()&&d.mode&Gt&&ed();var R=kC(o);if(R!==null){R.flags&=~Vr,zC(R,o,d,s,y),R.mode&Gt&&UC(s,C,y),N2(R,s,C);return}else{if(!dc(y)){UC(s,C,y),mx();return}var B=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");m=B}}else if(Le()&&d.mode&Gt){ed();var z=kC(o);if(z!==null){(z.flags&Br)===te&&(z.flags|=Vr),zC(z,o,d,s,y),at(Ic(m,d));return}}m=Ic(m,d),LB(m);var X=o;do{switch(X.tag){case V:{var ee=m;X.flags|=Br;var ce=fo(y);X.lanes=It(X.lanes,ce);var ye=NC(X,ee,ce);F0(X,ye);return}case $:var Ce=m,Ne=X.type,Be=X.stateNode;if((X.flags&St)===te&&(typeof Ne.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&!zw(Be))){X.flags|=Br;var dt=fo(y);X.lanes=It(X.lanes,dt);var At=Db(X,Ce,dt);F0(X,At);return}break}X=X.return}while(X!==null)}function z2(){return null}var Dp=a.ReactCurrentOwner,ks=!1,Ob,Op,Fb,Lb,Bb,Dc,Nb,yv;Ob={},Op={},Fb={},Lb={},Bb={},Dc=!1,Nb={},yv={};function Qi(s,o,d,m){s===null?o.child=aC(o,null,d,m):o.child=nd(o,s.child,d,m)}function G2(s,o,d,m){o.child=nd(o,s.child,null,m),o.child=nd(o,null,d,m)}function GC(s,o,d,m,y){if(o.type!==o.elementType){var C=d.propTypes;C&&en(C,m,"prop",Ct(d))}var R=d.render,B=o.ref,z,X;rd(o,y),Gr(o);{if(Dp.current=o,yo(!0),z=ud(s,o,R,m,B,y),X=cd(),o.mode&Wr){Yt(!0);try{z=ud(s,o,R,m,B,y),X=cd()}finally{Yt(!1)}}yo(!1)}return Ja(),s!==null&&!ks?(uC(s,o,y),yl(s,o,y)):(Le()&&X&&lp(o),o.flags|=Rt,Qi(s,o,z,y),o.child)}function HC(s,o,d,m,y){if(s===null){var C=d.type;if(uN(C)&&d.compare===null&&d.defaultProps===void 0){var R=C;return R=yd(C),o.tag=F,o.type=R,zb(o,C),VC(s,o,R,m,y)}{var B=C.propTypes;B&&en(B,m,"prop",Ct(C))}var z=Cx(d.type,null,m,o,o.mode,y);return z.ref=o.ref,z.return=o,o.child=z,z}{var X=d.type,ee=X.propTypes;ee&&en(ee,m,"prop",Ct(X))}var ce=s.child,ye=Wb(s,y);if(!ye){var Ce=ce.memoizedProps,Ne=d.compare;if(Ne=Ne!==null?Ne:be,Ne(Ce,m)&&s.ref===o.ref)return yl(s,o,y)}o.flags|=Rt;var Be=Nc(ce,m);return Be.ref=o.ref,Be.return=o,o.child=Be,Be}function VC(s,o,d,m,y){if(o.type!==o.elementType){var C=o.elementType;if(C.$$typeof===Wt){var R=C,B=R._payload,z=R._init;try{C=z(B)}catch{C=null}var X=C&&C.propTypes;X&&en(X,m,"prop",Ct(C))}}if(s!==null){var ee=s.memoizedProps;if(be(ee,m)&&s.ref===o.ref&&o.type===s.type)if(ks=!1,o.pendingProps=m=ee,Wb(s,y))(s.flags&_s)!==te&&(ks=!0);else return o.lanes=s.lanes,yl(s,o,y)}return Ub(s,o,d,m,y)}function jC(s,o,d){var m=o.pendingProps,y=m.children,C=s!==null?s.memoizedState:null;if(m.mode==="hidden"||A)if((o.mode&Gt)===yt){var R={baseLanes:Oe,cachePool:null,transitions:null};o.memoizedState=R,Hv(o,d)}else if(Mi(d,Cr)){var ce={baseLanes:Oe,cachePool:null,transitions:null};o.memoizedState=ce;var ye=C!==null?C.baseLanes:d;Hv(o,ye)}else{var B=null,z;if(C!==null){var X=C.baseLanes;z=It(X,d)}else z=d;o.lanes=o.childLanes=Cr;var ee={baseLanes:z,cachePool:B,transitions:null};return o.memoizedState=ee,o.updateQueue=null,Hv(o,z),null}else{var Ce;C!==null?(Ce=It(C.baseLanes,d),o.memoizedState=null):Ce=d,Hv(o,Ce)}return Qi(s,o,y,d),o.child}function H2(s,o,d){var m=o.pendingProps;return Qi(s,o,m,d),o.child}function V2(s,o,d){var m=o.pendingProps.children;return Qi(s,o,m,d),o.child}function j2(s,o,d){{o.flags|=rt;{var m=o.stateNode;m.effectDuration=0,m.passiveEffectDuration=0}}var y=o.pendingProps,C=y.children;return Qi(s,o,C,d),o.child}function $C(s,o){var d=o.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(o.flags|=Gi,o.flags|=Z)}function Ub(s,o,d,m,y){if(o.type!==o.elementType){var C=d.propTypes;C&&en(C,m,"prop",Ct(d))}var R;{var B=pr(o,d,!0);R=zr(o,B)}var z,X;rd(o,y),Gr(o);{if(Dp.current=o,yo(!0),z=ud(s,o,d,m,R,y),X=cd(),o.mode&Wr){Yt(!0);try{z=ud(s,o,d,m,R,y),X=cd()}finally{Yt(!1)}}yo(!1)}return Ja(),s!==null&&!ks?(uC(s,o,y),yl(s,o,y)):(Le()&&X&&lp(o),o.flags|=Rt,Qi(s,o,z,y),o.child)}function WC(s,o,d,m,y){{switch(iA(o)){case!1:{var C=o.stateNode,R=o.type,B=new R(o.memoizedProps,C.context),z=B.state;C.updater.enqueueSetState(C,z,null);break}case!0:{o.flags|=St,o.flags|=Br;var X=new Error("Simulated error coming from DevTools"),ee=fo(y);o.lanes=It(o.lanes,ee);var ce=Db(o,Ic(X,o),ee);F0(o,ce);break}}if(o.type!==o.elementType){var ye=d.propTypes;ye&&en(ye,m,"prop",Ct(d))}}var Ce;Pi(d)?(Ce=!0,tu(o)):Ce=!1,rd(o,y);var Ne=o.stateNode,Be;Ne===null?(bv(s,o),eC(o,d,m),W0(o,d,m,y),Be=!0):s===null?Be=g2(o,d,m,y):Be=v2(s,o,d,m,y);var dt=kb(s,o,d,Be,Ce,y);{var At=o.stateNode;Be&&At.props!==m&&(Dc||p("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",ne(o)||"a component"),Dc=!0)}return dt}function kb(s,o,d,m,y,C){$C(s,o);var R=(o.flags&St)!==te;if(!m&&!R)return y&&Mh(o,d,!1),yl(s,o,C);var B=o.stateNode;Dp.current=o;var z;if(R&&typeof d.getDerivedStateFromError!="function")z=null,BC();else{Gr(o);{if(yo(!0),z=B.render(),o.mode&Wr){Yt(!0);try{B.render()}finally{Yt(!1)}}yo(!1)}Ja()}return o.flags|=Rt,s!==null&&R?G2(s,o,z,C):Qi(s,o,z,C),o.memoizedState=B.state,y&&Mh(o,d,!0),o.child}function XC(s){var o=s.stateNode;o.pendingContext?Gn(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Gn(s,o.context,!1),J0(s,o.containerInfo)}function $2(s,o,d){if(XC(o),s===null)throw new Error("Should have a current fiber. This is a bug in React.");var m=o.pendingProps,y=o.memoizedState,C=y.element;W1(s,o),$g(o,m,null,d);var R=o.memoizedState;o.stateNode;var B=R.element;if(ti&&y.isDehydrated){var z={element:B,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},X=o.updateQueue;if(X.baseState=z,o.memoizedState=z,o.flags&Vr){var ee=Ic(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),o);return YC(s,o,B,d,ee)}else if(B!==C){var ce=Ic(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),o);return YC(s,o,B,d,ce)}else{Ig(o);var ye=aC(o,null,B,d);o.child=ye;for(var Ce=ye;Ce;)Ce.flags=Ce.flags&~xt|ui,Ce=Ce.sibling}}else{if(Ve(),B===C)return yl(s,o,d);Qi(s,o,B,d)}return o.child}function YC(s,o,d,m,y){return Ve(),at(y),o.flags|=Vr,Qi(s,o,d,m),o.child}function W2(s,o,d){sC(o),s===null&&_(o);var m=o.type,y=o.pendingProps,C=s!==null?s.memoizedProps:null,R=y.children,B=dh(m,y);return B?R=null:C!==null&&dh(m,C)&&(o.flags|=An),$C(s,o),Qi(s,o,R,d),o.child}function X2(s,o){return s===null&&_(o),null}function Y2(s,o,d,m){bv(s,o);var y=o.pendingProps,C=d,R=C._payload,B=C._init,z=B(R);o.type=z;var X=o.tag=cN(z),ee=Bs(z,y),ce;switch(X){case M:return zb(o,z),o.type=z=yd(z),ce=Ub(null,o,z,ee,m),ce;case $:return o.type=z=_x(z),ce=WC(null,o,z,ee,m),ce;case G:return o.type=z=bx(z),ce=GC(null,o,z,ee,m),ce;case J:{if(o.type!==o.elementType){var ye=z.propTypes;ye&&en(ye,ee,"prop",Ct(z))}return ce=HC(null,o,z,Bs(z.type,ee),m),ce}}var Ce="";throw z!==null&&typeof z=="object"&&z.$$typeof===Wt&&(Ce=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+z+". "+("Lazy element type must resolve to a class or function."+Ce))}function q2(s,o,d,m,y){bv(s,o),o.tag=$;var C;return Pi(d)?(C=!0,tu(o)):C=!1,rd(o,y),eC(o,d,m),W0(o,d,m,y),kb(null,o,d,!0,C,y)}function Q2(s,o,d,m){bv(s,o);var y=o.pendingProps,C;{var R=pr(o,d,!1);C=zr(o,R)}rd(o,m);var B,z;Gr(o);{if(d.prototype&&typeof d.prototype.render=="function"){var X=Ct(d)||"Unknown";Ob[X]||(p("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",X,X),Ob[X]=!0)}o.mode&Wr&&Ls.recordLegacyContextWarning(o,null),yo(!0),Dp.current=o,B=ud(null,o,d,y,C,m),z=cd(),yo(!1)}if(Ja(),o.flags|=Rt,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0){var ee=Ct(d)||"Unknown";Op[ee]||(p("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ee,ee,ee),Op[ee]=!0)}if(typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0){{var ce=Ct(d)||"Unknown";Op[ce]||(p("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ce,ce,ce),Op[ce]=!0)}o.tag=$,o.memoizedState=null,o.updateQueue=null;var ye=!1;return Pi(d)?(ye=!0,tu(o)):ye=!1,o.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,O0(o),J1(o,B),W0(o,d,y,m),kb(null,o,d,!0,ye,m)}else{if(o.tag=M,o.mode&Wr){Yt(!0);try{B=ud(null,o,d,y,C,m),z=cd()}finally{Yt(!1)}}return Le()&&z&&lp(o),Qi(null,o,B,m),zb(o,d),o.child}}function zb(s,o){{if(o&&o.childContextTypes&&p("%s(...): childContextTypes cannot be defined on a function component.",o.displayName||o.name||"Component"),s.ref!==null){var d="",m=jn();m&&(d+=`

Check the render method of \``+m+"`.");var y=m||"",C=s._debugSource;C&&(y=C.fileName+":"+C.lineNumber),Bb[y]||(Bb[y]=!0,p("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",d))}if(typeof o.getDerivedStateFromProps=="function"){var R=Ct(o)||"Unknown";Lb[R]||(p("%s: Function components do not support getDerivedStateFromProps.",R),Lb[R]=!0)}if(typeof o.contextType=="object"&&o.contextType!==null){var B=Ct(o)||"Unknown";Fb[B]||(p("%s: Function components do not support contextType.",B),Fb[B]=!0)}}}var Gb={dehydrated:null,treeContext:null,retryLane:gn};function Hb(s){return{baseLanes:s,cachePool:z2(),transitions:null}}function K2(s,o){var d=null;return{baseLanes:It(s.baseLanes,o),cachePool:d,transitions:s.transitions}}function Z2(s,o,d,m){if(o!==null){var y=o.memoizedState;if(y===null)return!1}return tb(s,Tp)}function J2(s,o){return Mn(s.childLanes,o)}function qC(s,o,d){var m=o.pendingProps;sA(o)&&(o.flags|=St);var y=Ns.current,C=!1,R=(o.flags&St)!==te;if(R||Z2(y,s)?(C=!0,o.flags&=~St):(s===null||s.memoizedState!==null)&&(y=x2(y,lC)),y=ad(y),yu(o,y),s===null){_(o);var B=o.memoizedState;if(B!==null){var z=B.dehydrated;if(z!==null)return iL(o,z)}var X=m.children,ee=m.fallback;if(C){var ce=eL(o,X,ee,d),ye=o.child;return ye.memoizedState=Hb(d),o.memoizedState=Gb,ce}else return Vb(o,X)}else{var Ce=s.memoizedState;if(Ce!==null){var Ne=Ce.dehydrated;if(Ne!==null)return aL(s,o,R,m,Ne,Ce,d)}if(C){var Be=m.fallback,dt=m.children,At=rL(s,o,dt,Be,d),gt=o.child,gr=s.child.memoizedState;return gt.memoizedState=gr===null?Hb(d):K2(gr,d),gt.childLanes=J2(s,d),o.memoizedState=Gb,At}else{var Jt=m.children,ge=tL(s,o,Jt,d);return o.memoizedState=null,ge}}}function Vb(s,o,d){var m=s.mode,y={mode:"visible",children:o},C=jb(y,m);return C.return=s,s.child=C,C}function eL(s,o,d,m){var y=s.mode,C=s.child,R={mode:"hidden",children:o},B,z;return(y&Gt)===yt&&C!==null?(B=C,B.childLanes=Oe,B.pendingProps=R,s.mode&ir&&(B.actualDuration=0,B.actualStartTime=-1,B.selfBaseDuration=0,B.treeBaseDuration=0),z=Cu(d,y,m,null)):(B=jb(R,y),z=Cu(d,y,m,null)),B.return=s,z.return=s,B.sibling=z,s.child=B,z}function jb(s,o,d){return Kw(s,o,Oe,null)}function QC(s,o){return Nc(s,o)}function tL(s,o,d,m){var y=s.child,C=y.sibling,R=QC(y,{mode:"visible",children:d});if((o.mode&Gt)===yt&&(R.lanes=m),R.return=o,R.sibling=null,C!==null){var B=o.deletions;B===null?(o.deletions=[C],o.flags|=vt):B.push(C)}return o.child=R,R}function rL(s,o,d,m,y){var C=o.mode,R=s.child,B=R.sibling,z={mode:"hidden",children:d},X;if((C&Gt)===yt&&o.child!==R){var ee=o.child;X=ee,X.childLanes=Oe,X.pendingProps=z,o.mode&ir&&(X.actualDuration=0,X.actualStartTime=-1,X.selfBaseDuration=R.selfBaseDuration,X.treeBaseDuration=R.treeBaseDuration),o.deletions=null}else X=QC(R,z),X.subtreeFlags=R.subtreeFlags&Vt;var ce;return B!==null?ce=Nc(B,m):(ce=Cu(m,C,y,null),ce.flags|=xt),ce.return=o,X.return=o,X.sibling=ce,o.child=X,ce}function _v(s,o,d,m){m!==null&&at(m),nd(o,s.child,null,d);var y=o.pendingProps,C=y.children,R=Vb(o,C);return R.flags|=xt,o.memoizedState=null,R}function nL(s,o,d,m,y){var C=o.mode,R={mode:"visible",children:d},B=jb(R,C),z=Cu(m,C,y,null);return z.flags|=xt,B.return=o,z.return=o,B.sibling=z,o.child=B,(o.mode&Gt)!==yt&&nd(o,s.child,null,y),z}function iL(s,o,d){return(s.mode&Gt)===yt?(p("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),s.lanes=_t):Ai(o)?s.lanes=Rs:s.lanes=Cr,null}function aL(s,o,d,m,y,C,R){if(d)if(o.flags&Vr){o.flags&=~Vr;var ge=Mb(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return _v(s,o,R,ge)}else{if(o.memoizedState!==null)return o.child=s.child,o.flags|=St,null;var Ee=m.children,pe=m.fallback,ze=nL(s,o,Ee,pe,R),lt=o.child;return lt.memoizedState=Hb(R),o.memoizedState=Gb,ze}else{if(cp(),(o.mode&Gt)===yt)return _v(s,o,R,null);if(Ai(y)){var B,z,X;{var ee=Ur(y);B=ee.digest,z=ee.message,X=ee.stack}var ce;z?ce=new Error(z):ce=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var ye=Mb(ce,B,X);return _v(s,o,R,ye)}var Ce=Mi(R,s.childLanes);if(ks||Ce){var Ne=zv();if(Ne!==null){var Be=vc(Ne,R);if(Be!==gn&&Be!==C.retryLane){C.retryLane=Be;var dt=_r;qi(s,Be),Bn(Ne,s,Be,dt)}}mx();var At=Mb(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return _v(s,o,R,At)}else if(wi(y)){o.flags|=St,o.child=s.child;var gt=XB.bind(null,s);return tc(y,gt),null}else{Dg(o,y,C.treeContext);var gr=m.children,Jt=Vb(o,gr);return Jt.flags|=ui,Jt}}}function KC(s,o,d){s.lanes=It(s.lanes,o);var m=s.alternate;m!==null&&(m.lanes=It(m.lanes,o)),P0(s.return,o,d)}function sL(s,o,d){for(var m=o;m!==null;){if(m.tag===k){var y=m.memoizedState;y!==null&&KC(m,d,s)}else if(m.tag===se)KC(m,d,s);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)return;for(;m.sibling===null;){if(m.return===null||m.return===s)return;m=m.return}m.sibling.return=m.return,m=m.sibling}}function oL(s){for(var o=s,d=null;o!==null;){var m=o.alternate;m!==null&&Zg(m)===null&&(d=o),o=o.sibling}return d}function lL(s){if(s!==void 0&&s!=="forwards"&&s!=="backwards"&&s!=="together"&&!Nb[s])if(Nb[s]=!0,typeof s=="string")switch(s.toLowerCase()){case"together":case"forwards":case"backwards":{p('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',s,s.toLowerCase());break}case"forward":case"backward":{p('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',s,s.toLowerCase());break}default:p('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s);break}else p('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s)}function uL(s,o){s!==void 0&&!yv[s]&&(s!=="collapsed"&&s!=="hidden"?(yv[s]=!0,p('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',s)):o!=="forwards"&&o!=="backwards"&&(yv[s]=!0,p('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',s)))}function ZC(s,o){{var d=Jr(s),m=!d&&typeof ot(s)=="function";if(d||m){var y=d?"array":"iterable";return p("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",y,o,y),!1}}return!0}function cL(s,o){if((o==="forwards"||o==="backwards")&&s!==void 0&&s!==null&&s!==!1)if(Jr(s)){for(var d=0;d<s.length;d++)if(!ZC(s[d],d))return}else{var m=ot(s);if(typeof m=="function"){var y=m.call(s);if(y)for(var C=y.next(),R=0;!C.done;C=y.next()){if(!ZC(C.value,R))return;R++}}else p('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',o)}}function $b(s,o,d,m,y){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=d,C.tailMode=y)}function JC(s,o,d){var m=o.pendingProps,y=m.revealOrder,C=m.tail,R=m.children;lL(y),uL(C,y),cL(R,y),Qi(s,o,R,d);var B=Ns.current,z=tb(B,Tp);if(z)B=rb(B,Tp),o.flags|=St;else{var X=s!==null&&(s.flags&St)!==te;X&&sL(o,o.child,d),B=ad(B)}if(yu(o,B),(o.mode&Gt)===yt)o.memoizedState=null;else switch(y){case"forwards":{var ee=oL(o.child),ce;ee===null?(ce=o.child,o.child=null):(ce=ee.sibling,ee.sibling=null),$b(o,!1,ce,ee,C);break}case"backwards":{var ye=null,Ce=o.child;for(o.child=null;Ce!==null;){var Ne=Ce.alternate;if(Ne!==null&&Zg(Ne)===null){o.child=Ce;break}var Be=Ce.sibling;Ce.sibling=ye,ye=Ce,Ce=Be}$b(o,!0,ye,null,C);break}case"together":{$b(o,!1,null,null,void 0);break}default:o.memoizedState=null}return o.child}function hL(s,o,d){J0(o,o.stateNode.containerInfo);var m=o.pendingProps;return s===null?o.child=nd(o,null,m,d):Qi(s,o,m,d),o.child}var ew=!1;function dL(s,o,d){var m=o.type,y=m._context,C=o.pendingProps,R=o.memoizedProps,B=C.value;{"value"in C||ew||(ew=!0,p("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var z=o.type.propTypes;z&&en(z,C,"prop","Context.Provider")}if(H1(o,y,B),R!==null){var X=R.value;if(sn(X,B)){if(R.children===C.children&&!sl())return yl(s,o,d)}else s2(o,y,d)}var ee=C.children;return Qi(s,o,ee,d),o.child}var tw=!1;function fL(s,o,d){var m=o.type;m._context===void 0?m!==m.Consumer&&(tw||(tw=!0,p("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):m=m._context;var y=o.pendingProps,C=y.children;typeof C!="function"&&p("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),rd(o,d);var R=Fn(m);Gr(o);var B;return Dp.current=o,yo(!0),B=C(R),yo(!1),Ja(),o.flags|=Rt,Qi(s,o,B,d),o.child}function Fp(){ks=!0}function bv(s,o){(o.mode&Gt)===yt&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=xt)}function yl(s,o,d){return s!==null&&(o.dependencies=s.dependencies),BC(),Yp(o.lanes),Mi(d,o.childLanes)?(y2(s,o),o.child):null}function pL(s,o,d){{var m=o.return;if(m===null)throw new Error("Cannot swap the root fiber.");if(s.alternate=null,o.alternate=null,d.index=o.index,d.sibling=o.sibling,d.return=o.return,d.ref=o.ref,o===m.child)m.child=d;else{var y=m.child;if(y===null)throw new Error("Expected parent to have a child.");for(;y.sibling!==o;)if(y=y.sibling,y===null)throw new Error("Expected to find the previous sibling.");y.sibling=d}var C=m.deletions;return C===null?(m.deletions=[s],m.flags|=vt):C.push(s),d.flags|=xt,d}}function Wb(s,o){var d=s.lanes;return!!Mi(d,o)}function mL(s,o,d){switch(o.tag){case V:XC(o),o.stateNode,Ve();break;case O:sC(o);break;case $:{var m=o.type;Pi(m)&&tu(o);break}case re:J0(o,o.stateNode.containerInfo);break;case Ie:{var y=o.memoizedProps.value,C=o.type._context;H1(o,C,y);break}case W:{var R=Mi(d,o.childLanes);R&&(o.flags|=rt);{var B=o.stateNode;B.effectDuration=0,B.passiveEffectDuration=0}}break;case k:{var z=o.memoizedState;if(z!==null){if(z.dehydrated!==null)return yu(o,ad(Ns.current)),o.flags|=St,null;var X=o.child,ee=X.childLanes;if(Mi(d,ee))return qC(s,o,d);yu(o,ad(Ns.current));var ce=yl(s,o,d);return ce!==null?ce.sibling:null}else yu(o,ad(Ns.current));break}case se:{var ye=(s.flags&St)!==te,Ce=Mi(d,o.childLanes);if(ye){if(Ce)return JC(s,o,d);o.flags|=St}var Ne=o.memoizedState;if(Ne!==null&&(Ne.rendering=null,Ne.tail=null,Ne.lastEffect=null),yu(o,Ns.current),Ce)break;return null}case de:case _e:return o.lanes=Oe,jC(s,o,d)}return yl(s,o,d)}function rw(s,o,d){if(o._debugNeedsRemount&&s!==null)return pL(s,o,Cx(o.type,o.key,o.pendingProps,o._debugOwner||null,o.mode,o.lanes));if(s!==null){var m=s.memoizedProps,y=o.pendingProps;if(m!==y||sl()||o.type!==s.type)ks=!0;else{var C=Wb(s,d);if(!C&&(o.flags&St)===te)return ks=!1,mL(s,o,d);(s.flags&_s)!==te?ks=!0:ks=!1}}else if(ks=!1,Le()&&Pg(o)){var R=o.index,B=pu();Rr(o,B,R)}switch(o.lanes=Oe,o.tag){case U:return Q2(s,o,o.type,d);case H:{var z=o.elementType;return Y2(s,o,z,d)}case M:{var X=o.type,ee=o.pendingProps,ce=o.elementType===X?ee:Bs(X,ee);return Ub(s,o,X,ce,d)}case $:{var ye=o.type,Ce=o.pendingProps,Ne=o.elementType===ye?Ce:Bs(ye,Ce);return WC(s,o,ye,Ne,d)}case V:return $2(s,o,d);case O:return W2(s,o,d);case Q:return X2(s,o);case k:return qC(s,o,d);case re:return hL(s,o,d);case G:{var Be=o.type,dt=o.pendingProps,At=o.elementType===Be?dt:Bs(Be,dt);return GC(s,o,Be,At,d)}case q:return H2(s,o,d);case ae:return V2(s,o,d);case W:return j2(s,o,d);case Ie:return dL(s,o,d);case oe:return fL(s,o,d);case J:{var gt=o.type,gr=o.pendingProps,Jt=Bs(gt,gr);if(o.type!==o.elementType){var ge=gt.propTypes;ge&&en(ge,Jt,"prop",Ct(gt))}return Jt=Bs(gt.type,Jt),HC(s,o,gt,Jt,d)}case F:return VC(s,o,o.type,o.pendingProps,d);case Y:{var Ee=o.type,pe=o.pendingProps,ze=o.elementType===Ee?pe:Bs(Ee,pe);return q2(s,o,Ee,ze,d)}case se:return JC(s,o,d);case me:break;case de:return jC(s,o,d)}throw new Error("Unknown unit of work tag ("+o.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function To(s){s.flags|=rt}function nw(s){s.flags|=Gi,s.flags|=Z}function iw(s,o){var d=s!==null&&s.child===o.child;if(d)return!0;if((o.flags&vt)!==te)return!1;for(var m=o.child;m!==null;){if((m.flags&Ot)!==te||(m.subtreeFlags&Ot)!==te)return!1;m=m.sibling}return!0}var Lp,Bp,xv,Sv;if(ci)Lp=function(s,o,d,m){for(var y=o.child;y!==null;){if(y.tag===O||y.tag===Q)so(s,y.stateNode);else if(y.tag!==re){if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===o)return;for(;y.sibling===null;){if(y.return===null||y.return===o)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Bp=function(s,o){},xv=function(s,o,d,m,y){var C=s.memoizedProps;if(C!==m){var R=o.stateNode,B=Ep(),z=hh(R,d,C,m,y,B);o.updateQueue=z,z&&To(o)}},Sv=function(s,o,d,m){d!==m&&To(o)};else if(Hl){Lp=function(s,o,d,m){for(var y=o.child;y!==null;){if(y.tag===O){var C=y.stateNode;if(d&&m){var R=y.memoizedProps,B=y.type;C=Wa(C,B,R,y)}so(s,C)}else if(y.tag===Q){var z=y.stateNode;if(d&&m){var X=y.memoizedProps;z=lo(z,X,y)}so(s,z)}else if(y.tag!==re){if(y.tag===de&&y.memoizedState!==null){var ee=y.child;ee!==null&&(ee.return=y),Lp(s,y,!0,!0)}else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y=y,y===o)return;for(;y.sibling===null;){if(y.return===null||y.return===o)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var aw=function(s,o,d,m){for(var y=o.child;y!==null;){if(y.tag===O){var C=y.stateNode;if(d&&m){var R=y.memoizedProps,B=y.type;C=Wa(C,B,R,y)}ji(s,C)}else if(y.tag===Q){var z=y.stateNode;if(d&&m){var X=y.memoizedProps;z=lo(z,X,y)}ji(s,z)}else if(y.tag!==re){if(y.tag===de&&y.memoizedState!==null){var ee=y.child;ee!==null&&(ee.return=y),aw(s,y,!0,!0)}else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y=y,y===o)return;for(;y.sibling===null;){if(y.return===null||y.return===o)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Bp=function(s,o){var d=o.stateNode,m=iw(s,o);if(!m){var y=d.containerInfo,C=Vi(y);aw(C,o,!1,!1),d.pendingChildren=C,To(o),il(y,C)}},xv=function(s,o,d,m,y){var C=s.stateNode,R=s.memoizedProps,B=iw(s,o);if(B&&R===m){o.stateNode=C;return}var z=o.stateNode,X=Ep(),ee=null;if(R!==m&&(ee=hh(z,d,R,m,y,X)),B&&ee===null){o.stateNode=C;return}var ce=_h(C,ee,d,R,m,o,B,z);Ci(ce,d,m,y,X)&&To(o),o.stateNode=ce,B?To(o):Lp(ce,o,!1,!1)},Sv=function(s,o,d,m){if(d!==m){var y=Z0(),C=Ep();o.stateNode=gf(m,y,C,o),To(o)}else o.stateNode=s.stateNode}}else Bp=function(s,o){},xv=function(s,o,d,m,y){},Sv=function(s,o,d,m){};function Np(s,o){if(!Le())switch(s.tailMode){case"hidden":{for(var d=s.tail,m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?s.tail=null:m.sibling=null;break}case"collapsed":{for(var y=s.tail,C=null;y!==null;)y.alternate!==null&&(C=y),y=y.sibling;C===null?!o&&s.tail!==null?s.tail.sibling=null:s.tail=null:C.sibling=null;break}}}function mi(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=Oe,m=te;if(o){if((s.mode&ir)!==yt){for(var z=s.selfBaseDuration,X=s.child;X!==null;)d=It(d,It(X.lanes,X.childLanes)),m|=X.subtreeFlags&Vt,m|=X.flags&Vt,z+=X.treeBaseDuration,X=X.sibling;s.treeBaseDuration=z}else for(var ee=s.child;ee!==null;)d=It(d,It(ee.lanes,ee.childLanes)),m|=ee.subtreeFlags&Vt,m|=ee.flags&Vt,ee.return=s,ee=ee.sibling;s.subtreeFlags|=m}else{if((s.mode&ir)!==yt){for(var y=s.actualDuration,C=s.selfBaseDuration,R=s.child;R!==null;)d=It(d,It(R.lanes,R.childLanes)),m|=R.subtreeFlags,m|=R.flags,y+=R.actualDuration,C+=R.treeBaseDuration,R=R.sibling;s.actualDuration=y,s.treeBaseDuration=C}else for(var B=s.child;B!==null;)d=It(d,It(B.lanes,B.childLanes)),m|=B.subtreeFlags,m|=B.flags,B.return=s,B=B.sibling;s.subtreeFlags|=m}return s.childLanes=d,o}function gL(s,o,d){if(Se()&&(o.mode&Gt)!==yt&&(o.flags&St)===te)return Me(o),Ve(),o.flags|=Vr|_a|Br,!1;var m=he(o);if(d!==null&&d.dehydrated!==null)if(s===null){if(!m)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(I(o),mi(o),(o.mode&ir)!==yt){var y=d!==null;if(y){var C=o.child;C!==null&&(o.treeBaseDuration-=C.treeBaseDuration)}}return!1}else{if(Ve(),(o.flags&St)===te&&(o.memoizedState=null),o.flags|=rt,mi(o),(o.mode&ir)!==yt){var R=d!==null;if(R){var B=o.child;B!==null&&(o.treeBaseDuration-=B.treeBaseDuration)}}return!1}else return Re(),!0}function sw(s,o,d){var m=o.pendingProps;switch(up(o),o.tag){case U:case H:case F:case M:case G:case q:case ae:case W:case oe:case J:return mi(o),null;case $:{var y=o.type;return Pi(y)&&uo(o),mi(o),null}case V:{var C=o.stateNode;if(id(o),Lf(o),ib(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),s===null||s.child===null){var R=he(o);if(R)To(o);else if(s!==null){var B=s.memoizedState;(!B.isDehydrated||(o.flags&Vr)!==te)&&(o.flags|=Rn,Re())}}return Bp(s,o),mi(o),null}case O:{eb(o);var z=Z0(),X=o.type;if(s!==null&&o.stateNode!=null)xv(s,o,X,m,z),s.ref!==o.ref&&nw(o);else{if(!m){if(o.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return mi(o),null}var ee=Ep(),ce=he(o);if(ce)T(o,z,ee)&&To(o);else{var ye=nl(X,m,z,ee,o);Lp(ye,o,!1,!1),o.stateNode=ye,Ci(ye,X,m,z,ee)&&To(o)}o.ref!==null&&nw(o)}return mi(o),null}case Q:{var Ce=m;if(s&&o.stateNode!=null){var Ne=s.memoizedProps;Sv(s,o,Ne,Ce)}else{if(typeof Ce!="string"&&o.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Be=Z0(),dt=Ep(),At=he(o);At?w(o)&&To(o):o.stateNode=gf(Ce,Be,dt,o)}return mi(o),null}case k:{sd(o);var gt=o.memoizedState;if(s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){var gr=gL(s,o,gt);if(!gr)return o.flags&Br?o:null}if((o.flags&St)!==te)return o.lanes=d,(o.mode&ir)!==yt&&Pb(o),o;var Jt=gt!==null,ge=s!==null&&s.memoizedState!==null;if(Jt!==ge&&Jt){var Ee=o.child;if(Ee.flags|=na,(o.mode&Gt)!==yt){var pe=s===null&&(o.memoizedProps.unstable_avoidThisFallback!==!0||!0);pe||tb(Ns.current,lC)?FB():mx()}}var ze=o.updateQueue;if(ze!==null&&(o.flags|=rt),mi(o),(o.mode&ir)!==yt&&Jt){var lt=o.child;lt!==null&&(o.treeBaseDuration-=lt.treeBaseDuration)}return null}case re:return id(o),Bp(s,o),s===null&&m0(o.stateNode.containerInfo),mi(o),null;case Ie:var Je=o.type._context;return R0(Je,o),mi(o),null;case Y:{var qt=o.type;return Pi(qt)&&uo(o),mi(o),null}case se:{sd(o);var Pt=o.memoizedState;if(Pt===null)return mi(o),null;var rr=(o.flags&St)!==te,Ht=Pt.rendering;if(Ht===null)if(rr)Np(Pt,!1);else{var Pr=BB()&&(s===null||(s.flags&St)===te);if(!Pr)for(var bt=o.child;bt!==null;){var ln=Zg(bt);if(ln!==null){rr=!0,o.flags|=St,Np(Pt,!1);var Bi=ln.updateQueue;return Bi!==null&&(o.updateQueue=Bi,o.flags|=rt),o.subtreeFlags=te,_2(o,d),yu(o,rb(Ns.current,Tp)),o.child}bt=bt.sibling}Pt.tail!==null&&yn()>Mw()&&(o.flags|=St,rr=!0,Np(Pt,!1),o.lanes=jf)}else{if(!rr){var _i=Zg(Ht);if(_i!==null){o.flags|=St,rr=!0;var Ia=_i.updateQueue;if(Ia!==null&&(o.updateQueue=Ia,o.flags|=rt),Np(Pt,!0),Pt.tail===null&&Pt.tailMode==="hidden"&&!Ht.alternate&&!Le())return mi(o),null}else yn()*2-Pt.renderingStartTime>Mw()&&d!==Cr&&(o.flags|=St,rr=!0,Np(Pt,!1),o.lanes=jf)}if(Pt.isBackwards)Ht.sibling=o.child,o.child=Ht;else{var Zi=Pt.last;Zi!==null?Zi.sibling=Ht:o.child=Ht,Pt.last=Ht}}if(Pt.tail!==null){var Ji=Pt.tail;Pt.rendering=Ji,Pt.tail=Ji.sibling,Pt.renderingStartTime=yn(),Ji.sibling=null;var Ni=Ns.current;return rr?Ni=rb(Ni,Tp):Ni=ad(Ni),yu(o,Ni),Ji}return mi(o),null}case me:break;case de:case _e:{px(o);var xl=o.memoizedState,_d=xl!==null;if(s!==null){var Kp=s.memoizedState,Po=Kp!==null;Po!==_d&&!A&&(o.flags|=na)}return!_d||(o.mode&Gt)===yt?mi(o):Mi(Ao,Cr)&&(mi(o),ci&&o.subtreeFlags&(xt|rt)&&(o.flags|=na)),null}case we:return null;case Pe:return null}throw new Error("Unknown unit of work tag ("+o.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function vL(s,o,d){switch(up(o),o.tag){case $:{var m=o.type;Pi(m)&&uo(o);var y=o.flags;return y&Br?(o.flags=y&~Br|St,(o.mode&ir)!==yt&&Pb(o),o):null}case V:{o.stateNode,id(o),Lf(o),ib();var C=o.flags;return(C&Br)!==te&&(C&St)===te?(o.flags=C&~Br|St,o):null}case O:return eb(o),null;case k:{sd(o);var R=o.memoizedState;if(R!==null&&R.dehydrated!==null){if(o.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Ve()}var B=o.flags;return B&Br?(o.flags=B&~Br|St,(o.mode&ir)!==yt&&Pb(o),o):null}case se:return sd(o),null;case re:return id(o),null;case Ie:var z=o.type._context;return R0(z,o),null;case de:case _e:return px(o),null;case we:return null;default:return null}}function ow(s,o,d){switch(up(o),o.tag){case $:{var m=o.type.childContextTypes;m!=null&&uo(o);break}case V:{o.stateNode,id(o),Lf(o),ib();break}case O:{eb(o);break}case re:id(o);break;case k:sd(o);break;case se:sd(o);break;case Ie:var y=o.type._context;R0(y,o);break;case de:case _e:px(o);break}}function lw(s,o,d,m,y,C,R,B,z){var X=Array.prototype.slice.call(arguments,3);try{o.apply(d,X)}catch(ee){this.onError(ee)}}var uw=lw;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var Xb=document.createElement("react");uw=function(o,d,m,y,C,R,B,z,X){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var ee=document.createEvent("Event"),ce=!1,ye=!0,Ce=window.event,Ne=Object.getOwnPropertyDescriptor(window,"event");function Be(){Xb.removeEventListener(Ee,At,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Ce)}var dt=Array.prototype.slice.call(arguments,3);function At(){ce=!0,Be(),d.apply(m,dt),ye=!1}var gt,gr=!1,Jt=!1;function ge(pe){if(gt=pe.error,gr=!0,gt===null&&pe.colno===0&&pe.lineno===0&&(Jt=!0),pe.defaultPrevented&&gt!=null&&typeof gt=="object")try{gt._suppressLogging=!0}catch{}}var Ee="react-"+(o||"invokeguardedcallback");if(window.addEventListener("error",ge),Xb.addEventListener(Ee,At,!1),ee.initEvent(Ee,!1,!1),Xb.dispatchEvent(ee),Ne&&Object.defineProperty(window,"event",Ne),ce&&ye&&(gr?Jt&&(gt=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):gt=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(gt)),window.removeEventListener("error",ge),!ce)return Be(),lw.apply(this,arguments)}}var yL=uw,Up=!1,Ev=null,_L={onError:function(s){Up=!0,Ev=s}};function cw(s,o,d,m,y,C,R,B,z){Up=!1,Ev=null,yL.apply(_L,arguments)}function bL(){return Up}function hw(){if(Up){var s=Ev;return Up=!1,Ev=null,s}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}var dw=null;dw=new Set;var Tv=!1,gi=!1,xL=typeof WeakSet=="function"?WeakSet:Set,it=null,hd=null,dd=null;function SL(s){cw(null,function(){throw s}),hw()}var EL=function(s,o){if(o.props=s.memoizedProps,o.state=s.memoizedState,s.mode&ir)try{Eo(),o.componentWillUnmount()}finally{So(s)}else o.componentWillUnmount()};function fw(s,o){try{xu(Wn,s)}catch(d){xr(s,o,d)}}function Yb(s,o,d){try{EL(s,d)}catch(m){xr(s,o,m)}}function TL(s,o,d){try{d.componentDidMount()}catch(m){xr(s,o,m)}}function pw(s,o){try{gw(s)}catch(d){xr(s,o,d)}}function fd(s,o){var d=s.ref;if(d!==null)if(typeof d=="function"){var m;try{if(D&&N&&s.mode&ir)try{Eo(),m=d(null)}finally{So(s)}else m=d(null)}catch(y){xr(s,o,y)}typeof m=="function"&&p("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",ne(s))}else d.current=null}function Cv(s,o,d){try{d()}catch(m){xr(s,o,m)}}var mw=!1;function CL(s,o){ei(s.containerInfo),it=o,wL();var d=mw;return mw=!1,d}function wL(){for(;it!==null;){var s=it,o=s.child;(s.subtreeFlags&Zt)!==te&&o!==null?(o.return=s,it=o):AL()}}function AL(){for(;it!==null;){var s=it;Yr(s);try{RL(s)}catch(d){xr(s,s.return,d)}jr();var o=s.sibling;if(o!==null){o.return=s.return,it=o;return}it=s.return}}function RL(s){var o=s.alternate,d=s.flags;if((d&Rn)!==te){switch(Yr(s),s.tag){case M:case G:case F:break;case $:{if(o!==null){var m=o.memoizedProps,y=o.memoizedState,C=s.stateNode;s.type===s.elementType&&!Dc&&(C.props!==s.memoizedProps&&p("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ne(s)||"instance"),C.state!==s.memoizedState&&p("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ne(s)||"instance"));var R=C.getSnapshotBeforeUpdate(s.elementType===s.type?m:Bs(s.type,m),y);{var B=dw;R===void 0&&!B.has(s.type)&&(B.add(s.type),p("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",ne(s)))}C.__reactInternalSnapshotBeforeUpdate=R}break}case V:{if(ci){var z=s.stateNode;yh(z.containerInfo)}break}case O:case Q:case re:case Y:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}jr()}}function zs(s,o,d){var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var C=y.next,R=C;do{if((R.tag&s)===s){var B=R.destroy;R.destroy=void 0,B!==void 0&&((s&pi)!==ha?rp(o):(s&Wn)!==ha&&Xh(o),(s&_o)!==ha&&Qp(!0),Cv(o,d,B),(s&_o)!==ha&&Qp(!1),(s&pi)!==ha?Ec():(s&Wn)!==ha&&Is())}R=R.next}while(R!==C)}}function xu(s,o){var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next,C=y;do{if((C.tag&s)===s){(s&pi)!==ha?pl(o):(s&Wn)!==ha&&Yi(o);var R=C.create;(s&_o)!==ha&&Qp(!0),C.destroy=R(),(s&_o)!==ha&&Qp(!1),(s&pi)!==ha?Wh():(s&Wn)!==ha&&np();{var B=C.destroy;if(B!==void 0&&typeof B!="function"){var z=void 0;(C.tag&Wn)!==te?z="useLayoutEffect":(C.tag&_o)!==te?z="useInsertionEffect":z="useEffect";var X=void 0;B===null?X=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof B.then=="function"?X=`

It looks like you wrote `+z+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+z+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:X=" You returned: "+B,p("%s must not return anything besides a function, which is used for clean-up.%s",z,X)}}}C=C.next}while(C!==y)}}function PL(s,o){if((o.flags&rt)!==te)switch(o.tag){case W:{var d=o.stateNode.passiveEffectDuration,m=o.memoizedProps,y=m.id,C=m.onPostCommit,R=FC(),B=o.alternate===null?"mount":"update";OC()&&(B="nested-update"),typeof C=="function"&&C(y,B,d,R);var z=o.return;e:for(;z!==null;){switch(z.tag){case V:var X=z.stateNode;X.passiveEffectDuration+=d;break e;case W:var ee=z.stateNode;ee.passiveEffectDuration+=d;break e}z=z.return}break}}}function ML(s,o,d,m){if((d.flags&Mt)!==te)switch(d.tag){case M:case G:case F:{if(!gi)if(d.mode&ir)try{Eo(),xu(Wn|$n,d)}finally{So(d)}else xu(Wn|$n,d);break}case $:{var y=d.stateNode;if(d.flags&rt&&!gi)if(o===null)if(d.type===d.elementType&&!Dc&&(y.props!==d.memoizedProps&&p("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ne(d)||"instance"),y.state!==d.memoizedState&&p("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ne(d)||"instance")),d.mode&ir)try{Eo(),y.componentDidMount()}finally{So(d)}else y.componentDidMount();else{var C=d.elementType===d.type?o.memoizedProps:Bs(d.type,o.memoizedProps),R=o.memoizedState;if(d.type===d.elementType&&!Dc&&(y.props!==d.memoizedProps&&p("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ne(d)||"instance"),y.state!==d.memoizedState&&p("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ne(d)||"instance")),d.mode&ir)try{Eo(),y.componentDidUpdate(C,R,y.__reactInternalSnapshotBeforeUpdate)}finally{So(d)}else y.componentDidUpdate(C,R,y.__reactInternalSnapshotBeforeUpdate)}var B=d.updateQueue;B!==null&&(d.type===d.elementType&&!Dc&&(y.props!==d.memoizedProps&&p("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ne(d)||"instance"),y.state!==d.memoizedState&&p("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ne(d)||"instance")),Y1(d,B,y));break}case V:{var z=d.updateQueue;if(z!==null){var X=null;if(d.child!==null)switch(d.child.tag){case O:X=Er(d.child.stateNode);break;case $:X=d.child.stateNode;break}Y1(d,z,X)}break}case O:{var ee=d.stateNode;if(o===null&&d.flags&rt){var ce=d.type,ye=d.memoizedProps;_0(ee,ce,ye,d)}break}case Q:break;case re:break;case W:{{var Ce=d.memoizedProps,Ne=Ce.onCommit,Be=Ce.onRender,dt=d.stateNode.effectDuration,At=FC(),gt=o===null?"mount":"update";OC()&&(gt="nested-update"),typeof Be=="function"&&Be(d.memoizedProps.id,gt,d.actualDuration,d.treeBaseDuration,d.actualStartTime,At);{typeof Ne=="function"&&Ne(d.memoizedProps.id,gt,dt,At),GB(d);var gr=d.return;e:for(;gr!==null;){switch(gr.tag){case V:var Jt=gr.stateNode;Jt.effectDuration+=dt;break e;case W:var ge=gr.stateNode;ge.effectDuration+=dt;break e}gr=gr.return}}}break}case k:{kL(s,d);break}case se:case Y:case me:case de:case _e:case Pe:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}gi||d.flags&Gi&&gw(d)}function IL(s){switch(s.tag){case M:case G:case F:{if(s.mode&ir)try{Eo(),fw(s,s.return)}finally{So(s)}else fw(s,s.return);break}case $:{var o=s.stateNode;typeof o.componentDidMount=="function"&&TL(s,s.return,o),pw(s,s.return);break}case O:{pw(s,s.return);break}}}function DL(s,o){var d=null;if(ci)for(var m=s;;){if(m.tag===O){if(d===null){d=m;try{var y=m.stateNode;o?ig(y):jl(m.stateNode,m.memoizedProps)}catch(R){xr(s,s.return,R)}}}else if(m.tag===Q){if(d===null)try{var C=m.stateNode;o?$a(C):$l(C,m.memoizedProps)}catch(R){xr(s,s.return,R)}}else if(!((m.tag===de||m.tag===_e)&&m.memoizedState!==null&&m!==s)){if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===s)return;for(;m.sibling===null;){if(m.return===null||m.return===s)return;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}function gw(s){var o=s.ref;if(o!==null){var d=s.stateNode,m;switch(s.tag){case O:m=Er(d);break;default:m=d}if(typeof o=="function"){var y;if(s.mode&ir)try{Eo(),y=o(m)}finally{So(s)}else y=o(m);typeof y=="function"&&p("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",ne(s))}else o.hasOwnProperty("current")||p("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",ne(s)),o.current=m}}function OL(s){var o=s.alternate;o!==null&&(o.return=null),s.return=null}function vw(s){var o=s.alternate;o!==null&&(s.alternate=null,vw(o));{if(s.child=null,s.deletions=null,s.sibling=null,s.tag===O){var d=s.stateNode;d!==null&&tg(d)}s.stateNode=null,s._debugOwner=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}}function FL(s){if(Hl){var o=s.stateNode,d=o.containerInfo,m=Vi(d);ia(d,m)}}function LL(s){for(var o=s.return;o!==null;){if(yw(o))return o;o=o.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function yw(s){return s.tag===O||s.tag===V||s.tag===re}function _w(s){var o=s;e:for(;;){for(;o.sibling===null;){if(o.return===null||yw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==O&&o.tag!==Q&&o.tag!==K;){if(o.flags&xt||o.child===null||o.tag===re)continue e;o.child.return=o,o=o.child}if(!(o.flags&xt))return o.stateNode}}function BL(s){if(ci){var o=LL(s);switch(o.tag){case O:{var d=o.stateNode;o.flags&An&&(vh(d),o.flags&=~An);var m=_w(s);Qb(s,m,d);break}case V:case re:{var y=o.stateNode.containerInfo,C=_w(s);qb(s,C,y);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function qb(s,o,d){var m=s.tag,y=m===O||m===Q;if(y){var C=s.stateNode;o?ba(d,C,o):y0(d,C)}else if(m!==re){var R=s.child;if(R!==null){qb(R,o,d);for(var B=R.sibling;B!==null;)qb(B,o,d),B=B.sibling}}}function Qb(s,o,d){var m=s.tag,y=m===O||m===Q;if(y){var C=s.stateNode;o?ja(d,C,o):bf(d,C)}else if(m!==re){var R=s.child;if(R!==null){Qb(R,o,d);for(var B=R.sibling;B!==null;)Qb(B,o,d),B=B.sibling}}}var vi=null,Gs=!1;function NL(s,o,d){if(ci){var m=o;e:for(;m!==null;){switch(m.tag){case O:{vi=m.stateNode,Gs=!1;break e}case V:{vi=m.stateNode.containerInfo,Gs=!0;break e}case re:{vi=m.stateNode.containerInfo,Gs=!0;break e}}m=m.return}if(vi===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");Kb(s,o,d),vi=null,Gs=!1}else Kb(s,o,d);OL(d)}function Co(s,o,d){for(var m=d.child;m!==null;)Kb(s,o,m),m=m.sibling}function Kb(s,o,d){switch(Xt(d),d.tag){case O:gi||fd(d,o);case Q:{if(ci){var m=vi,y=Gs;vi=null,Co(s,o,d),vi=m,Gs=y,vi!==null&&(Gs?gh(vi,d.stateNode):xs(vi,d.stateNode))}else Co(s,o,d);return}case K:{ci&&vi!==null&&(Gs?xh(vi,d.stateNode):b0(vi,d.stateNode));return}case re:{if(ci){var C=vi,R=Gs;vi=d.stateNode.containerInfo,Gs=!0,Co(s,o,d),vi=C,Gs=R}else FL(d),Co(s,o,d);return}case M:case G:case J:case F:{if(!gi){var B=d.updateQueue;if(B!==null){var z=B.lastEffect;if(z!==null){var X=z.next,ee=X;do{var ce=ee,ye=ce.destroy,Ce=ce.tag;ye!==void 0&&((Ce&_o)!==ha?Cv(d,o,ye):(Ce&Wn)!==ha&&(Xh(d),d.mode&ir?(Eo(),Cv(d,o,ye),So(d)):Cv(d,o,ye),Is())),ee=ee.next}while(ee!==X)}}}Co(s,o,d);return}case $:{if(!gi){fd(d,o);var Ne=d.stateNode;typeof Ne.componentWillUnmount=="function"&&Yb(d,o,Ne)}Co(s,o,d);return}case me:{Co(s,o,d);return}case de:{if(d.mode&Gt){var Be=gi;gi=Be||d.memoizedState!==null,Co(s,o,d),gi=Be}else Co(s,o,d);break}default:{Co(s,o,d);return}}}function UL(s){s.memoizedState}function kL(s,o){if(ti){var d=o.memoizedState;if(d===null){var m=o.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var C=y.dehydrated;C!==null&&Cf(C)}}}}}function bw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new xL),o.forEach(function(m){var y=YB.bind(null,s,m);if(!d.has(m)){if(d.add(m),Wi)if(hd!==null&&dd!==null)qp(dd,hd);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");m.then(y,y)}})}}function zL(s,o,d){hd=d,dd=s,Yr(o),xw(o,s),Yr(o),hd=null,dd=null}function Hs(s,o,d){var m=o.deletions;if(m!==null)for(var y=0;y<m.length;y++){var C=m[y];try{NL(s,o,C)}catch(z){xr(C,o,z)}}var R=r2();if(o.subtreeFlags&Ot)for(var B=o.child;B!==null;)Yr(B),xw(B,s),B=B.sibling;Yr(R)}function xw(s,o,d){var m=s.alternate,y=s.flags;switch(s.tag){case M:case G:case J:case F:{if(Hs(o,s),wo(s),y&rt){try{zs(_o|$n,s,s.return),xu(_o|$n,s)}catch(bt){xr(s,s.return,bt)}if(s.mode&ir){try{Eo(),zs(Wn|$n,s,s.return)}catch(bt){xr(s,s.return,bt)}So(s)}else try{zs(Wn|$n,s,s.return)}catch(bt){xr(s,s.return,bt)}}return}case $:{Hs(o,s),wo(s),y&Gi&&m!==null&&fd(m,m.return);return}case O:{if(Hs(o,s),wo(s),y&Gi&&m!==null&&fd(m,m.return),ci){if(s.flags&An){var C=s.stateNode;try{vh(C)}catch(bt){xr(s,s.return,bt)}}if(y&rt){var R=s.stateNode;if(R!=null){var B=s.memoizedProps,z=m!==null?m.memoizedProps:B,X=s.type,ee=s.updateQueue;if(s.updateQueue=null,ee!==null)try{mh(R,ee,X,z,B,s)}catch(bt){xr(s,s.return,bt)}}}}return}case Q:{if(Hs(o,s),wo(s),y&rt&&ci){if(s.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var ce=s.stateNode,ye=s.memoizedProps,Ce=m!==null?m.memoizedProps:ye;try{ng(ce,Ce,ye)}catch(bt){xr(s,s.return,bt)}}return}case V:{if(Hs(o,s),wo(s),y&rt){if(ci&&ti&&m!==null){var Ne=m.memoizedState;if(Ne.isDehydrated)try{Wl(o.containerInfo)}catch(bt){xr(s,s.return,bt)}}if(Hl){var Be=o.containerInfo,dt=o.pendingChildren;try{ia(Be,dt)}catch(bt){xr(s,s.return,bt)}}}return}case re:{if(Hs(o,s),wo(s),y&rt&&Hl){var At=s.stateNode,gt=At.containerInfo,gr=At.pendingChildren;try{ia(gt,gr)}catch(bt){xr(s,s.return,bt)}}return}case k:{Hs(o,s),wo(s);var Jt=s.child;if(Jt.flags&na){var ge=Jt.stateNode,Ee=Jt.memoizedState,pe=Ee!==null;if(ge.isHidden=pe,pe){var ze=Jt.alternate!==null&&Jt.alternate.memoizedState!==null;ze||OB()}}if(y&rt){try{UL(s)}catch(bt){xr(s,s.return,bt)}bw(s)}return}case de:{var lt=m!==null&&m.memoizedState!==null;if(s.mode&Gt){var Je=gi;gi=Je||lt,Hs(o,s),gi=Je}else Hs(o,s);if(wo(s),y&na){var qt=s.stateNode,Pt=s.memoizedState,rr=Pt!==null,Ht=s;if(qt.isHidden=rr,rr&&!lt&&(Ht.mode&Gt)!==yt){it=Ht;for(var Pr=Ht.child;Pr!==null;)it=Pr,HL(Pr),Pr=Pr.sibling}ci&&DL(Ht,rr)}return}case se:{Hs(o,s),wo(s),y&rt&&bw(s);return}case me:return;default:{Hs(o,s),wo(s);return}}}function wo(s){var o=s.flags;if(o&xt){try{BL(s)}catch(d){xr(s,s.return,d)}s.flags&=~xt}o&ui&&(s.flags&=~ui)}function GL(s,o,d){hd=d,dd=o,it=s,Sw(s,o,d),hd=null,dd=null}function Sw(s,o,d){for(var m=(s.mode&Gt)!==yt;it!==null;){var y=it,C=y.child;if(y.tag===de&&m){var R=y.memoizedState!==null,B=R||Tv;if(B){Zb(s,o,d);continue}else{var z=y.alternate,X=z!==null&&z.memoizedState!==null,ee=X||gi,ce=Tv,ye=gi;Tv=B,gi=ee,gi&&!ye&&(it=y,VL(y));for(var Ce=C;Ce!==null;)it=Ce,Sw(Ce,o,d),Ce=Ce.sibling;it=y,Tv=ce,gi=ye,Zb(s,o,d);continue}}(y.subtreeFlags&Mt)!==te&&C!==null?(C.return=y,it=C):Zb(s,o,d)}}function Zb(s,o,d){for(;it!==null;){var m=it;if((m.flags&Mt)!==te){var y=m.alternate;Yr(m);try{ML(o,y,m,d)}catch(R){xr(m,m.return,R)}jr()}if(m===s){it=null;return}var C=m.sibling;if(C!==null){C.return=m.return,it=C;return}it=m.return}}function HL(s){for(;it!==null;){var o=it,d=o.child;switch(o.tag){case M:case G:case J:case F:{if(o.mode&ir)try{Eo(),zs(Wn,o,o.return)}finally{So(o)}else zs(Wn,o,o.return);break}case $:{fd(o,o.return);var m=o.stateNode;typeof m.componentWillUnmount=="function"&&Yb(o,o.return,m);break}case O:{fd(o,o.return);break}case de:{var y=o.memoizedState!==null;if(y){Ew(s);continue}break}}d!==null?(d.return=o,it=d):Ew(s)}}function Ew(s){for(;it!==null;){var o=it;if(o===s){it=null;return}var d=o.sibling;if(d!==null){d.return=o.return,it=d;return}it=o.return}}function VL(s){for(;it!==null;){var o=it,d=o.child;if(o.tag===de){var m=o.memoizedState!==null;if(m){Tw(s);continue}}d!==null?(d.return=o,it=d):Tw(s)}}function Tw(s){for(;it!==null;){var o=it;Yr(o);try{IL(o)}catch(m){xr(o,o.return,m)}if(jr(),o===s){it=null;return}var d=o.sibling;if(d!==null){d.return=o.return,it=d;return}it=o.return}}function jL(s,o,d,m){it=o,$L(o,s,d,m)}function $L(s,o,d,m){for(;it!==null;){var y=it,C=y.child;(y.subtreeFlags&hr)!==te&&C!==null?(C.return=y,it=C):WL(s,o,d,m)}}function WL(s,o,d,m){for(;it!==null;){var y=it;if((y.flags&Lr)!==te){Yr(y);try{XL(o,y,d,m)}catch(R){xr(y,y.return,R)}jr()}if(y===s){it=null;return}var C=y.sibling;if(C!==null){C.return=y.return,it=C;return}it=y.return}}function XL(s,o,d,m){switch(o.tag){case M:case G:case F:{if(o.mode&ir){Rb();try{xu(pi|$n,o)}finally{Ab(o)}}else xu(pi|$n,o);break}}}function YL(s){it=s,qL()}function qL(){for(;it!==null;){var s=it,o=s.child;if((it.flags&vt)!==te){var d=s.deletions;if(d!==null){for(var m=0;m<d.length;m++){var y=d[m];it=y,ZL(y,s)}{var C=s.alternate;if(C!==null){var R=C.child;if(R!==null){C.child=null;do{var B=R.sibling;R.sibling=null,R=B}while(R!==null)}}}it=s}}(s.subtreeFlags&hr)!==te&&o!==null?(o.return=s,it=o):QL()}}function QL(){for(;it!==null;){var s=it;(s.flags&Lr)!==te&&(Yr(s),KL(s),jr());var o=s.sibling;if(o!==null){o.return=s.return,it=o;return}it=s.return}}function KL(s){switch(s.tag){case M:case G:case F:{s.mode&ir?(Rb(),zs(pi|$n,s,s.return),Ab(s)):zs(pi|$n,s,s.return);break}}}function ZL(s,o){for(;it!==null;){var d=it;Yr(d),eB(d,o),jr();var m=d.child;m!==null?(m.return=d,it=m):JL(s)}}function JL(s){for(;it!==null;){var o=it,d=o.sibling,m=o.return;if(vw(o),o===s){it=null;return}if(d!==null){d.return=m,it=d;return}it=m}}function eB(s,o){switch(s.tag){case M:case G:case F:{s.mode&ir?(Rb(),zs(pi,s,o),Ab(s)):zs(pi,s,o);break}}}function tB(s){switch(s.tag){case M:case G:case F:{try{xu(Wn|$n,s)}catch(d){xr(s,s.return,d)}break}case $:{var o=s.stateNode;try{o.componentDidMount()}catch(d){xr(s,s.return,d)}break}}}function rB(s){switch(s.tag){case M:case G:case F:{try{xu(pi|$n,s)}catch(o){xr(s,s.return,o)}break}}}function nB(s){switch(s.tag){case M:case G:case F:{try{zs(Wn|$n,s,s.return)}catch(d){xr(s,s.return,d)}break}case $:{var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Yb(s,s.return,o);break}}}function iB(s){switch(s.tag){case M:case G:case F:try{zs(pi|$n,s,s.return)}catch(o){xr(s,s.return,o)}}}var wv=0,Av=1,Rv=2,Pv=3,Mv=4;if(typeof Symbol=="function"&&Symbol.for){var kp=Symbol.for;wv=kp("selector.component"),Av=kp("selector.has_pseudo_class"),Rv=kp("selector.role"),Pv=kp("selector.test_id"),Mv=kp("selector.text")}function aB(s){return{$$typeof:wv,value:s}}function sB(s){return{$$typeof:Av,value:s}}function oB(s){return{$$typeof:Rv,value:s}}function lB(s){return{$$typeof:Mv,value:s}}function uB(s){return{$$typeof:Pv,value:s}}function Jb(s){var o=ph(s);if(o!=null){if(typeof o.memoizedProps["data-testname"]!="string")throw new Error("Invalid host root specified. Should be either a React container or a node with a testname attribute.");return o}else{var d=tr(s);if(d===null)throw new Error("Could not find React container within specified host subtree.");return d.stateNode.current}}function ex(s,o){switch(o.$$typeof){case wv:if(s.type===o.value)return!0;break;case Av:return cB(s,o.value);case Rv:if(s.tag===O){var d=s.stateNode;if(g0(d,o.value))return!0}break;case Mv:if(s.tag===O||s.tag===Q){var m=_f(s);if(m!==null&&m.indexOf(o.value)>=0)return!0}break;case Pv:if(s.tag===O){var y=s.memoizedProps["data-testname"];if(typeof y=="string"&&y.toLowerCase()===o.value.toLowerCase())return!0}break;default:throw new Error("Invalid selector type specified.")}return!1}function tx(s){switch(s.$$typeof){case wv:var o=Ct(s.value)||"Unknown";return"<"+o+">";case Av:return":has("+(tx(s)||"")+")";case Rv:return'[role="'+s.value+'"]';case Mv:return'"'+s.value+'"';case Pv:return'[data-testname="'+s.value+'"]';default:throw new Error("Invalid selector type specified.")}}function Cw(s,o){for(var d=[],m=[s,0],y=0;y<m.length;){var C=m[y++],R=m[y++],B=o[R];if(!(C.tag===O&&Vl(C))){for(;B!=null&&ex(C,B);)R++,B=o[R];if(R===o.length)d.push(C);else for(var z=C.child;z!==null;)m.push(z,R),z=z.sibling}}return d}function cB(s,o){for(var d=[s,0],m=0;m<d.length;){var y=d[m++],C=d[m++],R=o[C];if(!(y.tag===O&&Vl(y))){for(;R!=null&&ex(y,R);)C++,R=o[C];if(C===o.length)return!0;for(var B=y.child;B!==null;)d.push(B,C),B=B.sibling}}return!1}function Iv(s,o){if(!oo)throw new Error("Test selector API is not supported by this renderer.");for(var d=Jb(s),m=Cw(d,o),y=[],C=Array.from(m),R=0;R<C.length;){var B=C[R++];if(B.tag===O){if(Vl(B))continue;y.push(B.stateNode)}else for(var z=B.child;z!==null;)C.push(z),z=z.sibling}return y}function hB(s,o){if(!oo)throw new Error("Test selector API is not supported by this renderer.");for(var d=Jb(s),m=0,y=[],C=[d,0],R=0;R<C.length;){var B=C[R++],z=C[R++],X=o[z];if(!(B.tag===O&&Vl(B))&&(ex(B,X)&&(y.push(tx(X)),z++,z>m&&(m=z)),z<o.length))for(var ee=B.child;ee!==null;)C.push(ee,z),ee=ee.sibling}if(m<o.length){for(var ce=[],ye=m;ye<o.length;ye++)ce.push(tx(o[ye]));return`findAllNodes was able to match part of the selector:
`+("  "+y.join(" > ")+`

`)+`No matching component was found for:
`+("  "+ce.join(" > "))}return null}function dB(s,o){if(!oo)throw new Error("Test selector API is not supported by this renderer.");for(var d=Iv(s,o),m=[],y=0;y<d.length;y++)m.push(rg(d[y]));for(var C=m.length-1;C>0;C--)for(var R=m[C],B=R.x,z=B+R.width,X=R.y,ee=X+R.height,ce=C-1;ce>=0;ce--)if(C!==ce){var ye=m[ce],Ce=ye.x,Ne=Ce+ye.width,Be=ye.y,dt=Be+ye.height;if(B>=Ce&&X>=Be&&z<=Ne&&ee<=dt){m.splice(C,1);break}else if(B===Ce&&R.width===ye.width&&!(dt<X)&&!(Be>ee)){Be>X&&(ye.height+=Be-X,ye.y=X),dt<ee&&(ye.height=ee-Be),m.splice(C,1);break}else if(X===Be&&R.height===ye.height&&!(Ne<B)&&!(Ce>z)){Ce>B&&(ye.width+=Ce-B,ye.x=B),Ne<z&&(ye.width=z-Ce),m.splice(C,1);break}}return m}function fB(s,o){if(!oo)throw new Error("Test selector API is not supported by this renderer.");for(var d=Jb(s),m=Cw(d,o),y=Array.from(m),C=0;C<y.length;){var R=y[C++];if(!Vl(R)){if(R.tag===O){var B=R.stateNode;if(v0(B))return!0}for(var z=R.child;z!==null;)y.push(z),z=z.sibling}}return!1}var Dv=[];function pB(){oo&&Dv.forEach(function(s){return s()})}function mB(s,o,d,m){if(!oo)throw new Error("Test selector API is not supported by this renderer.");var y=Iv(s,o),C=Pn(y,d,m),R=C.disconnect,B=C.observe,z=C.unobserve,X=function(){var ee=Iv(s,o);y.forEach(function(ce){ee.indexOf(ce)<0&&z(ce)}),ee.forEach(function(ce){y.indexOf(ce)<0&&B(ce)})};return Dv.push(X),{disconnect:function(){var ee=Dv.indexOf(X);ee>=0&&Dv.splice(ee,1),R()}}}var gB=a.ReactCurrentActQueue;function vB(s){{var o=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,d=typeof jest<"u";return p0&&d&&o!==!1}}function ww(){{var s=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!s&&gB.current!==null&&p("The current testing environment is not configured to support act(...)"),s}}var yB=Math.ceil,rx=a.ReactCurrentDispatcher,nx=a.ReactCurrentOwner,qr=a.ReactCurrentBatchConfig,Vs=a.ReactCurrentActQueue,Ln=0,ix=1,yi=2,ns=4,_l=0,zp=1,Oc=2,Ov=3,Gp=4,Aw=5,ax=6,Ut=Ln,Ki=null,Qr=null,qn=Oe,Ao=Oe,sx=Qa(Oe),Qn=_l,Hp=null,Fv=Oe,Vp=Oe,Lv=Oe,jp=null,da=null,ox=0,Rw=500,Pw=1/0,_B=500,bl=null;function pd(){Pw=yn()+_B}function Mw(){return Pw}var Bv=!1,lx=null,md=null,Fc=!1,Su=null,$p=Oe,ux=[],cx=null,bB=50,Wp=0,hx=null,dx=!1,Nv=!1,xB=50,gd=0,Uv=null,Xp=_r,kv=Oe,Iw=!1;function zv(){return Ki}function Li(){return(Ut&(yi|ns))!==Ln?yn():(Xp!==_r||(Xp=yn()),Xp)}function Eu(s){var o=s.mode;if((o&Gt)===yt)return _t;if((Ut&yi)!==Ln&&qn!==Oe)return fo(qn);var d=ue()!==De;if(d){if(qr.transition!==null){var m=qr.transition;m._updatedFibers||(m._updatedFibers=new Set),m._updatedFibers.add(s)}return kv===gn&&(kv=Qf()),kv}var y=nn();if(y!==gn)return y;var C=vf();return C}function SB(s){var o=s.mode;return(o&Gt)===yt?_t:Kf()}function Bn(s,o,d,m){QB(),Iw&&p("useInsertionEffect must not schedule updates."),dx&&(Nv=!0),gc(s,d,m),(Ut&yi)!==Oe&&s===Ki?JB(o):(Wi&&yc(s,o,d),eN(o),s===Ki&&((Ut&yi)===Ln&&(Vp=It(Vp,d)),Qn===Gp&&Tu(s,qn)),fa(s,m),d===_t&&Ut===Ln&&(o.mode&Gt)===yt&&!Vs.isBatchingLegacy&&(pd(),Os()))}function EB(s,o,d){var m=s.current;m.lanes=o,gc(s,o,d),fa(s,d)}function TB(s){return(Ut&yi)!==Ln}function fa(s,o){var d=s.callbackNode;_g(s,o);var m=lu(s,s===Ki?qn:Oe);if(m===Oe){d!==null&&Ww(d),s.callbackNode=null,s.callbackPriority=gn;return}var y=ho(m),C=s.callbackPriority;if(C===y&&!(Vs.current!==null&&d!==yx)){d==null&&C!==_t&&p("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}d!=null&&Ww(d);var R;if(y===_t)s.tag===Hn?(Vs.isBatchingLegacy!==null&&(Vs.didScheduleLegacyUpdate=!0),sp(Fw.bind(null,s))):Jh(Fw.bind(null,s)),yf?Vs.current!==null?Vs.current.push(Ra):ec(function(){(Ut&(yi|ns))===Ln&&Ra()}):Wv(dl,Ra),R=null;else{var B;switch(wa(m)){case Ta:B=dl;break;case cu:B=bc;break;case hl:B=Ms;break;case _c:B=xc;break;default:B=Ms;break}R=Wv(B,Dw.bind(null,s))}s.callbackPriority=y,s.callbackNode=R}function Dw(s,o){if(O2(),Xp=_r,kv=Oe,(Ut&(yi|ns))!==Ln)throw new Error("Should not already be working.");var d=s.callbackNode,m=Ro();if(m&&s.callbackNode!==d)return null;var y=lu(s,s===Ki?qn:Oe);if(y===Oe)return null;var C=!pc(s,y)&&!qf(s,y)&&!o,R=C?UB(s,y):Vv(s,y);if(R!==_l){if(R===Oc){var B=ll(s);B!==Oe&&(y=B,R=fx(s,B))}if(R===zp){var z=Hp;throw Lc(s,Oe),Tu(s,y),fa(s,yn()),z}if(R===ax)Tu(s,y);else{var X=!pc(s,y),ee=s.current.alternate;if(X&&!wB(ee)){if(R=Vv(s,y),R===Oc){var ce=ll(s);ce!==Oe&&(y=ce,R=fx(s,ce))}if(R===zp){var ye=Hp;throw Lc(s,Oe),Tu(s,y),fa(s,yn()),ye}}s.finishedWork=ee,s.finishedLanes=y,CB(s,R,y)}}return fa(s,yn()),s.callbackNode===d?Dw.bind(null,s):null}function fx(s,o){var d=jp;if(op(s)){var m=Lc(s,o);m.flags|=Vr,Xa(s.containerInfo)}var y=Vv(s,o);if(y!==Oc){var C=da;da=d,C!==null&&Ow(C)}return y}function Ow(s){da===null?da=s:da.push.apply(da,s)}function CB(s,o,d){switch(o){case _l:case zp:throw new Error("Root did not complete. This is a bug in React.");case Oc:{Bc(s,da,bl);break}case Ov:{if(Tu(s,d),fc(d)&&!Xw()){var m=ox+Rw-yn();if(m>10){var y=lu(s,Oe);if(y!==Oe)break;var C=s.suspendedLanes;if(!ul(C,d)){Li(),cl(s,C);break}s.timeoutHandle=Ju(Bc.bind(null,s,da,bl),m);break}}Bc(s,da,bl);break}case Gp:{if(Tu(s,d),Yf(d))break;if(!Xw()){var R=yg(s,d),B=R,z=yn()-B,X=qB(z)-z;if(X>10){s.timeoutHandle=Ju(Bc.bind(null,s,da,bl),X);break}}Bc(s,da,bl);break}case Aw:{Bc(s,da,bl);break}default:throw new Error("Unknown root exit status.")}}function wB(s){for(var o=s;;){if(o.flags&ys){var d=o.updateQueue;if(d!==null){var m=d.stores;if(m!==null)for(var y=0;y<m.length;y++){var C=m[y],R=C.getSnapshot,B=C.value;try{if(!sn(R(),B))return!1}catch{return!1}}}}var z=o.child;if(o.subtreeFlags&ys&&z!==null){z.return=o,o=z;continue}if(o===s)return!0;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}return!0}function Tu(s,o){o=Mn(o,Lv),o=Mn(o,Vp),nt(s,o)}function Fw(s){if(F2(),(Ut&(yi|ns))!==Ln)throw new Error("Should not already be working.");Ro();var o=lu(s,Oe);if(!Mi(o,_t))return fa(s,yn()),null;var d=Vv(s,o);if(s.tag!==Hn&&d===Oc){var m=ll(s);m!==Oe&&(o=m,d=fx(s,m))}if(d===zp){var y=Hp;throw Lc(s,Oe),Tu(s,o),fa(s,yn()),y}if(d===ax)throw new Error("Root did not complete. This is a bug in React.");var C=s.current.alternate;return s.finishedWork=C,s.finishedLanes=o,Bc(s,da,bl),fa(s,yn()),null}function AB(s,o){o!==Oe&&(Hh(s,It(o,_t)),fa(s,yn()),(Ut&(yi|ns))===Ln&&(pd(),Ra()))}function RB(s){var o=nn(),d=qr.transition;try{return qr.transition=null,br(hl),s()}finally{br(o),qr.transition=d}}function PB(s,o){var d=Ut;Ut|=ix;try{return s(o)}finally{Ut=d,Ut===Ln&&!Vs.isBatchingLegacy&&(pd(),Os())}}function MB(s,o,d,m,y){var C=nn(),R=qr.transition;try{return qr.transition=null,br(Ta),s(o,d,m,y)}finally{br(C),qr.transition=R,Ut===Ln&&pd()}}function Gv(s){Su!==null&&Su.tag===Hn&&(Ut&(yi|ns))===Ln&&Ro();var o=Ut;Ut|=ix;var d=qr.transition,m=nn();try{return qr.transition=null,br(Ta),s?s():void 0}finally{br(m),qr.transition=d,Ut=o,(Ut&(yi|ns))===Ln&&Ra()}}function IB(){return(Ut&(yi|ns))!==Ln}function DB(s){var o=Ut;Ut|=ix;var d=qr.transition,m=nn();try{qr.transition=null,br(Ta),s()}finally{br(m),qr.transition=d,Ut=o,Ut===Ln&&(pd(),Ra())}}function Hv(s,o){tn(sx,Ao,s),Ao=It(Ao,o)}function px(s){Ao=sx.current,zt(sx,s)}function Lc(s,o){s.finishedWork=null,s.finishedLanes=Oe;var d=s.timeoutHandle;if(d!==Hi&&(s.timeoutHandle=Hi,eg(d)),Qr!==null)for(var m=Qr.return;m!==null;){var y=m.alternate;ow(y,m),m=m.return}Ki=s;var C=Nc(s.current,null);return Qr=C,qn=Ao=o,Qn=_l,Hp=null,Fv=Oe,Vp=Oe,Lv=Oe,jp=null,da=null,l2(),Ls.discardPendingWarnings(),C}function Lw(s,o){do{var d=Qr;try{if(kg(),cC(),jr(),nx.current=null,d===null||d.return===null){Qn=zp,Hp=o,Qr=null;return}if(D&&d.mode&ir&&vv(d,!0),L)if(Ja(),o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=o;Rg(d,m,qn)}else hu(d,o,qn);k2(s,d.return,d,o,qn),kw(d)}catch(y){o=y,Qr===d&&d!==null?(d=d.return,Qr=d):d=Qr;continue}return}while(!0)}function Bw(){var s=rx.current;return rx.current=dv,s===null?dv:s}function Nw(s){rx.current=s}function OB(){ox=yn()}function Yp(s){Fv=It(s,Fv)}function FB(){Qn===_l&&(Qn=Ov)}function mx(){(Qn===_l||Qn===Ov||Qn===Oc)&&(Qn=Gp),Ki!==null&&(uu(Fv)||uu(Vp))&&Tu(Ki,qn)}function LB(s){Qn!==Gp&&(Qn=Oc),jp===null?jp=[s]:jp.push(s)}function BB(){return Qn===_l}function Vv(s,o){var d=Ut;Ut|=yi;var m=Bw();if(Ki!==s||qn!==o){if(Wi){var y=s.memoizedUpdaters;y.size>0&&(qp(s,qn),y.clear()),Vh(s,o)}bl=Zf(),Lc(s,o)}Ds(o);do try{NB();break}catch(C){Lw(s,C)}while(!0);if(kg(),Ut=d,Nw(m),Qr!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return du(),Ki=null,qn=Oe,Qn}function NB(){for(;Qr!==null;)Uw(Qr)}function UB(s,o){var d=Ut;Ut|=yi;var m=Bw();if(Ki!==s||qn!==o){if(Wi){var y=s.memoizedUpdaters;y.size>0&&(qp(s,qn),y.clear()),Vh(s,o)}bl=Zf(),pd(),Lc(s,o)}Ds(o);do try{kB();break}catch(C){Lw(s,C)}while(!0);return kg(),Nw(m),Ut=d,Qr!==null?(Qh(),_l):(du(),Ki=null,qn=Oe,Qn)}function kB(){for(;Qr!==null&&!wg();)Uw(Qr)}function Uw(s){var o=s.alternate;Yr(s);var d;(s.mode&ir)!==yt?(wb(s),d=gx(o,s,Ao),vv(s,!0)):d=gx(o,s,Ao),jr(),s.memoizedProps=s.pendingProps,d===null?kw(s):Qr=d,nx.current=null}function kw(s){var o=s;do{var d=o.alternate,m=o.return;if((o.flags&_a)===te){Yr(o);var y=void 0;if((o.mode&ir)===yt?y=sw(d,o,Ao):(wb(o),y=sw(d,o,Ao),vv(o,!1)),jr(),y!==null){Qr=y;return}}else{var C=vL(d,o);if(C!==null){C.flags&=Ha,Qr=C;return}if((o.mode&ir)!==yt){vv(o,!1);for(var R=o.actualDuration,B=o.child;B!==null;)R+=B.actualDuration,B=B.sibling;o.actualDuration=R}if(m!==null)m.flags|=_a,m.subtreeFlags=te,m.deletions=null;else{Qn=ax,Qr=null;return}}var z=o.sibling;if(z!==null){Qr=z;return}o=m,Qr=o}while(o!==null);Qn===_l&&(Qn=Aw)}function Bc(s,o,d){var m=nn(),y=qr.transition;try{qr.transition=null,br(Ta),zB(s,o,d,m)}finally{qr.transition=y,br(m)}return null}function zB(s,o,d,m){do Ro();while(Su!==null);if(KB(),(Ut&(yi|ns))!==Ln)throw new Error("Should not already be working.");var y=s.finishedWork,C=s.finishedLanes;if(Xi(C),y===null)return fl(),null;if(C===Oe&&p("root.finishedLanes should not be empty during a commit. This is a bug in React."),s.finishedWork=null,s.finishedLanes=Oe,y===s.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");s.callbackNode=null,s.callbackPriority=gn;var R=It(y.lanes,y.childLanes);Sg(s,R),s===Ki&&(Ki=null,Qr=null,qn=Oe),((y.subtreeFlags&hr)!==te||(y.flags&hr)!==te)&&(Fc||(Fc=!0,cx=d,Wv(Ms,function(){return Ro(),null})));var B=(y.subtreeFlags&(Zt|Ot|Mt|hr))!==te,z=(y.flags&(Zt|Ot|Mt|hr))!==te;if(B||z){var X=qr.transition;qr.transition=null;var ee=nn();br(Ta);var ce=Ut;Ut|=ns,nx.current=null,CL(s,y),LC(),zL(s,y,C),Ti(s.containerInfo),s.current=y,Yh(C),GL(y,s,C),ip(),Ag(),Ut=ce,br(ee),qr.transition=X}else s.current=y,LC();var ye=Fc;if(Fc?(Fc=!1,Su=s,$p=C):(gd=0,Uv=null),R=s.pendingLanes,R===Oe&&(md=null),ye||Vw(s.current,!1),tp(y.stateNode,m),Wi&&s.memoizedUpdaters.clear(),pB(),fa(s,yn()),o!==null)for(var Ce=s.onRecoverableError,Ne=0;Ne<o.length;Ne++){var Be=o[Ne],dt=Be.stack,At=Be.digest;Ce(Be.value,{componentStack:dt,digest:At})}if(Bv){Bv=!1;var gt=lx;throw lx=null,gt}return Mi($p,_t)&&s.tag!==Hn&&Ro(),R=s.pendingLanes,Mi(R,_t)?(D2(),s===hx?Wp++:(Wp=0,hx=s)):Wp=0,Ra(),fl(),null}function Ro(){if(Su!==null){var s=wa($p),o=Ca(hl,s),d=qr.transition,m=nn();try{return qr.transition=null,br(o),HB()}finally{br(m),qr.transition=d}}return!1}function GB(s){ux.push(s),Fc||(Fc=!0,Wv(Ms,function(){return Ro(),null}))}function HB(){if(Su===null)return!1;var s=cx;cx=null;var o=Su,d=$p;if(Su=null,$p=Oe,(Ut&(yi|ns))!==Ln)throw new Error("Cannot flush passive effects while already rendering.");dx=!0,Nv=!1,mo(d);var m=Ut;Ut|=ns,YL(o.current),jL(o,o.current,d,s);{var y=ux;ux=[];for(var C=0;C<y.length;C++){var R=y[C];PL(o,R)}}qh(),Vw(o.current,!0),Ut=m,Ra(),Nv?o===Uv?gd++:(gd=0,Uv=o):gd=0,dx=!1,Nv=!1,Xr(o);{var B=o.current.stateNode;B.effectDuration=0,B.passiveEffectDuration=0}return!0}function zw(s){return md!==null&&md.has(s)}function VB(s){md===null?md=new Set([s]):md.add(s)}function jB(s){Bv||(Bv=!0,lx=s)}var $B=jB;function Gw(s,o,d){var m=Ic(d,o),y=NC(s,m,_t),C=gu(s,y,_t),R=Li();C!==null&&(gc(C,_t,R),fa(C,R))}function xr(s,o,d){if(SL(d),Qp(!1),s.tag===V){Gw(s,s,d);return}var m=null;for(m=o;m!==null;){if(m.tag===V){Gw(m,s,d);return}else if(m.tag===$){var y=m.type,C=m.stateNode;if(typeof y.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&!zw(C)){var R=Ic(d,s),B=Db(m,R,_t),z=gu(m,B,_t),X=Li();z!==null&&(gc(z,_t,X),fa(z,X));return}}m=m.return}p(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,d)}function WB(s,o,d){var m=s.pingCache;m!==null&&m.delete(o);var y=Li();cl(s,d),tN(s),Ki===s&&ul(qn,d)&&(Qn===Gp||Qn===Ov&&fc(qn)&&yn()-ox<Rw?Lc(s,Oe):Lv=It(Lv,d)),fa(s,y)}function Hw(s,o){o===gn&&(o=SB(s));var d=Li(),m=qi(s,o);m!==null&&(gc(m,o,d),fa(m,d))}function XB(s){var o=s.memoizedState,d=gn;o!==null&&(d=o.retryLane),Hw(s,d)}function YB(s,o){var d=gn,m;switch(s.tag){case k:m=s.stateNode;var y=s.memoizedState;y!==null&&(d=y.retryLane);break;case se:m=s.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}m!==null&&m.delete(o),Hw(s,d)}function qB(s){return s<120?120:s<480?480:s<1080?1080:s<1920?1920:s<3e3?3e3:s<4320?4320:yB(s/1960)*1960}function QB(){if(Wp>bB)throw Wp=0,hx=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");gd>xB&&(gd=0,Uv=null,p("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function KB(){Ls.flushLegacyContextWarning(),Ls.flushPendingUnsafeLifecycleWarnings()}function Vw(s,o){Yr(s),jv(s,ht,nB),o&&jv(s,kt,iB),jv(s,ht,tB),o&&jv(s,kt,rB),jr()}function jv(s,o,d){for(var m=s,y=null;m!==null;){var C=m.subtreeFlags&o;m!==y&&m.child!==null&&C!==te?m=m.child:((m.flags&o)!==te&&d(m),m.sibling!==null?m=m.sibling:m=y=m.return)}}var $v=null;function jw(s){{if((Ut&yi)!==Ln||!(s.mode&Gt))return;var o=s.tag;if(o!==U&&o!==V&&o!==$&&o!==M&&o!==G&&o!==J&&o!==F)return;var d=ne(s)||"ReactComponent";if($v!==null){if($v.has(d))return;$v.add(d)}else $v=new Set([d]);var m=Ke;try{Yr(s),p("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{m?Yr(s):jr()}}}var gx;{var ZB=null;gx=function(s,o,d){var m=Zw(ZB,o);try{return rw(s,o,d)}catch(C){if(C0()||C!==null&&typeof C=="object"&&typeof C.then=="function")throw C;if(kg(),cC(),ow(s,o),Zw(o,m),o.mode&ir&&wb(o),cw(null,rw,null,s,o,d),bL()){var y=hw();typeof y=="object"&&y!==null&&y._suppressLogging&&typeof C=="object"&&C!==null&&!C._suppressLogging&&(C._suppressLogging=!0)}throw C}}}var $w=!1,vx;vx=new Set;function JB(s){if(jt&&!P2())switch(s.tag){case M:case G:case F:{var o=Qr&&ne(Qr)||"Unknown",d=o;if(!vx.has(d)){vx.add(d);var m=ne(s)||"Unknown";p("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",m,o,o)}break}case $:{$w||(p("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),$w=!0);break}}}function qp(s,o){if(Wi){var d=s.memoizedUpdaters;d.forEach(function(m){yc(s,m,o)})}}var yx={};function Wv(s,o){{var d=Vs.current;return d!==null?(d.push(o),yx):Tg(s,o)}}function Ww(s){if(s!==yx)return Cg(s)}function Xw(){return Vs.current!==null}function eN(s){{if(s.mode&Gt){if(!ww())return}else if(!vB()||Ut!==Ln||s.tag!==M&&s.tag!==G&&s.tag!==F)return;if(Vs.current===null){var o=Ke;try{Yr(s),p(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,ne(s))}finally{o?Yr(s):jr()}}}}function tN(s){s.tag!==Hn&&ww()&&Vs.current===null&&p(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Qp(s){Iw=s}var is=null,vd=null,rN=function(s){is=s};function yd(s){{if(is===null)return s;var o=is(s);return o===void 0?s:o.current}}function _x(s){return yd(s)}function bx(s){{if(is===null)return s;var o=is(s);if(o===void 0){if(s!=null&&typeof s.render=="function"){var d=yd(s.render);if(s.render!==d){var m={$$typeof:Kt,render:d};return s.displayName!==void 0&&(m.displayName=s.displayName),m}}return s}return o.current}}function Yw(s,o){{if(is===null)return!1;var d=s.elementType,m=o.type,y=!1,C=typeof m=="object"&&m!==null?m.$$typeof:null;switch(s.tag){case $:{typeof m=="function"&&(y=!0);break}case M:{(typeof m=="function"||C===Wt)&&(y=!0);break}case G:{(C===Kt||C===Wt)&&(y=!0);break}case J:case F:{(C===Or||C===Wt)&&(y=!0);break}default:return!1}if(y){var R=is(d);if(R!==void 0&&R===is(m))return!0}return!1}}function qw(s){{if(is===null||typeof WeakSet!="function")return;vd===null&&(vd=new WeakSet),vd.add(s)}}var nN=function(s,o){{if(is===null)return;var d=o.staleFamilies,m=o.updatedFamilies;Ro(),Gv(function(){xx(s.current,m,d)})}},iN=function(s,o){{if(s.context!==hi)return;Ro(),Gv(function(){tA(o,s,null,null)})}};function xx(s,o,d){{var m=s.alternate,y=s.child,C=s.sibling,R=s.tag,B=s.type,z=null;switch(R){case M:case F:case $:z=B;break;case G:z=B.render;break}if(is===null)throw new Error("Expected resolveFamily to be set during hot reload.");var X=!1,ee=!1;if(z!==null){var ce=is(z);ce!==void 0&&(d.has(ce)?ee=!0:o.has(ce)&&(R===$?ee=!0:X=!0))}if(vd!==null&&(vd.has(s)||m!==null&&vd.has(m))&&(ee=!0),ee&&(s._debugNeedsRemount=!0),ee||X){var ye=qi(s,_t);ye!==null&&Bn(ye,s,_t,_r)}y!==null&&!ee&&xx(y,o,d),C!==null&&xx(C,o,d)}}var aN=function(s,o){{var d=new Set,m=new Set(o.map(function(y){return y.current}));return Sx(s.current,m,d),d}};function Sx(s,o,d){{var m=s.child,y=s.sibling,C=s.tag,R=s.type,B=null;switch(C){case M:case F:case $:B=R;break;case G:B=R.render;break}var z=!1;B!==null&&o.has(B)&&(z=!0),z?sN(s,d):m!==null&&Sx(m,o,d),y!==null&&Sx(y,o,d)}}function sN(s,o){{var d=oN(s,o);if(d)return;for(var m=s;;){switch(m.tag){case O:o.add(m.stateNode);return;case re:o.add(m.stateNode.containerInfo);return;case V:o.add(m.stateNode.containerInfo);return}if(m.return===null)throw new Error("Expected to reach root first.");m=m.return}}}function oN(s,o){for(var d=s,m=!1;;){if(d.tag===O)m=!0,o.add(d.stateNode);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)return m;for(;d.sibling===null;){if(d.return===null||d.return===s)return m;d=d.return}d.sibling.return=d.return,d=d.sibling}return!1}var Ex;{Ex=!1;try{var Qw=Object.preventExtensions({})}catch{Ex=!0}}function lN(s,o,d,m){this.tag=s,this.key=d,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=o,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=m,this.flags=te,this.subtreeFlags=te,this.deletions=null,this.lanes=Oe,this.childLanes=Oe,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Ex&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var Ma=function(s,o,d,m){return new lN(s,o,d,m)};function Tx(s){var o=s.prototype;return!!(o&&o.isReactComponent)}function uN(s){return typeof s=="function"&&!Tx(s)&&s.defaultProps===void 0}function cN(s){if(typeof s=="function")return Tx(s)?$:M;if(s!=null){var o=s.$$typeof;if(o===Kt)return G;if(o===Or)return J}return U}function Nc(s,o){var d=s.alternate;d===null?(d=Ma(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d._debugSource=s._debugSource,d._debugOwner=s._debugOwner,d._debugHookTypes=s._debugHookTypes,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=te,d.subtreeFlags=te,d.deletions=null,d.actualDuration=0,d.actualStartTime=-1),d.flags=s.flags&Vt,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue;var m=s.dependencies;switch(d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.selfBaseDuration=s.selfBaseDuration,d.treeBaseDuration=s.treeBaseDuration,d._debugNeedsRemount=s._debugNeedsRemount,d.tag){case U:case M:case F:d.type=yd(s.type);break;case $:d.type=_x(s.type);break;case G:d.type=bx(s.type);break}return d}function hN(s,o){s.flags&=Vt|xt;var d=s.alternate;if(d===null)s.childLanes=Oe,s.lanes=o,s.child=null,s.subtreeFlags=te,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null,s.selfBaseDuration=0,s.treeBaseDuration=0;else{s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=te,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type;var m=d.dependencies;s.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},s.selfBaseDuration=d.selfBaseDuration,s.treeBaseDuration=d.treeBaseDuration}return s}function dN(s,o,d){var m;return s===ru?(m=Gt,o===!0&&(m|=Wr,m|=Sa)):m=yt,Wi&&(m|=ir),Ma(V,null,null,m)}function Cx(s,o,d,m,y,C){var R=U,B=s;if(typeof s=="function")Tx(s)?(R=$,B=_x(B)):B=yd(B);else if(typeof s=="string")R=O;else e:switch(s){case fe:return Cu(d.children,y,C,o);case ke:R=ae,y|=Wr,(y&Gt)!==yt&&(y|=Sa);break;case ut:return fN(d,y,C,o);case cr:return pN(d,y,C,o);case wn:return mN(d,y,C,o);case fn:return Kw(d,y,C,o);case Ga:case li:case gs:case vs:case ra:default:{if(typeof s=="object"&&s!==null)switch(s.$$typeof){case He:R=Ie;break e;case qe:R=oe;break e;case Kt:R=G,B=bx(B);break e;case Or:R=J;break e;case Wt:R=H,B=null;break e}var z="";{(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(z+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var X=m?ne(m):null;X&&(z+=`

Check the render method of \``+X+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(s==null?s:typeof s)+"."+z))}}var ee=Ma(R,d,o,y);return ee.elementType=s,ee.type=B,ee.lanes=C,ee._debugOwner=m,ee}function wx(s,o,d){var m=null;m=s._owner;var y=s.type,C=s.key,R=s.props,B=Cx(y,C,R,m,o,d);return B._debugSource=s._source,B._debugOwner=s._owner,B}function Cu(s,o,d,m){var y=Ma(q,s,m,o);return y.lanes=d,y}function fN(s,o,d,m){typeof s.id!="string"&&p('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof s.id);var y=Ma(W,s,m,o|ir);return y.elementType=ut,y.lanes=d,y.stateNode={effectDuration:0,passiveEffectDuration:0},y}function pN(s,o,d,m){var y=Ma(k,s,m,o);return y.elementType=cr,y.lanes=d,y}function mN(s,o,d,m){var y=Ma(se,s,m,o);return y.elementType=wn,y.lanes=d,y}function Kw(s,o,d,m){var y=Ma(de,s,m,o);y.elementType=fn,y.lanes=d;var C={isHidden:!1};return y.stateNode=C,y}function Ax(s,o,d){var m=Ma(Q,s,null,o);return m.lanes=d,m}function gN(){var s=Ma(O,null,null,yt);return s.elementType="DELETED",s}function vN(s){var o=Ma(K,null,null,yt);return o.stateNode=s,o}function Rx(s,o,d){var m=s.children!==null?s.children:[],y=Ma(re,m,s.key,o);return y.lanes=d,y.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},y}function Zw(s,o){return s===null&&(s=Ma(U,null,null,yt)),s.tag=o.tag,s.key=o.key,s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.return=o.return,s.child=o.child,s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s.pendingProps=o.pendingProps,s.memoizedProps=o.memoizedProps,s.updateQueue=o.updateQueue,s.memoizedState=o.memoizedState,s.dependencies=o.dependencies,s.mode=o.mode,s.flags=o.flags,s.subtreeFlags=o.subtreeFlags,s.deletions=o.deletions,s.lanes=o.lanes,s.childLanes=o.childLanes,s.alternate=o.alternate,s.actualDuration=o.actualDuration,s.actualStartTime=o.actualStartTime,s.selfBaseDuration=o.selfBaseDuration,s.treeBaseDuration=o.treeBaseDuration,s._debugSource=o._debugSource,s._debugOwner=o._debugOwner,s._debugNeedsRemount=o._debugNeedsRemount,s._debugHookTypes=o._debugHookTypes,s}function yN(s,o,d,m,y){this.tag=o,this.containerInfo=s,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Hi,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=gn,this.eventTimes=In(Oe),this.expirationTimes=In(_r),this.pendingLanes=Oe,this.suspendedLanes=Oe,this.pingedLanes=Oe,this.expiredLanes=Oe,this.mutableReadLanes=Oe,this.finishedLanes=Oe,this.entangledLanes=Oe,this.entanglements=In(Oe),this.identifierPrefix=m,this.onRecoverableError=y,ti&&(this.mutableSourceEagerHydrationData=null),this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var C=this.pendingUpdatersLaneMap=[],R=0;R<Ih;R++)C.push(new Set)}switch(o){case ru:this._debugRootType=d?"hydrateRoot()":"createRoot()";break;case Hn:this._debugRootType=d?"hydrate()":"render()";break}}function Jw(s,o,d,m,y,C,R,B,z,X){var ee=new yN(s,o,d,B,z),ce=dN(o,C);ee.current=ce,ce.stateNode=ee;{var ye={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null};ce.memoizedState=ye}return O0(ce),ee}var _N="18.2.0";function bN(s,o,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return i2(m),{$$typeof:Ae,key:m==null?null:""+m,children:s,containerInfo:o,implementation:d}}var Px,Mx;Px=!1,Mx={};function eA(s){if(!s)return hi;var o=b(s),d=Ka(o);if(o.tag===$){var m=o.type;if(Pi(m))return Ph(o,m,d)}return d}function xN(s){var o=b(s);if(o===void 0){if(typeof s.render=="function")throw new Error("Unable to find node on an unmounted component.");var d=Object.keys(s).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+d)}var m=rl(o);return m===null?null:m.stateNode}function SN(s,o){{var d=b(s);if(d===void 0){if(typeof s.render=="function")throw new Error("Unable to find node on an unmounted component.");var m=Object.keys(s).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+m)}var y=rl(d);if(y===null)return null;if(y.mode&Wr){var C=ne(d)||"Component";if(!Mx[C]){Mx[C]=!0;var R=Ke;try{Yr(y),d.mode&Wr?p("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",o,o,C):p("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",o,o,C)}finally{R?Yr(R):jr()}}}return y.stateNode}}function EN(s,o,d,m,y,C,R,B){var z=!1,X=null;return Jw(s,o,z,X,d,m,y,C,R)}function TN(s,o,d,m,y,C,R,B,z,X){var ee=!0,ce=Jw(d,m,ee,s,y,C,R,B,z);ce.context=eA(null);var ye=ce.current,Ce=Li(),Ne=Eu(ye),Be=vl(Ce,Ne);return Be.callback=o??null,gu(ye,Be,Ne),EB(ce,Ne,Ce),ce}function tA(s,o,d,m){$h(o,s);var y=o.current,C=Li(),R=Eu(y);ap(R);var B=eA(d);o.context===null?o.context=B:o.pendingContext=B,jt&&Ke!==null&&!Px&&(Px=!0,p(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,ne(Ke)||"Unknown"));var z=vl(C,R);z.payload={element:s},m=m===void 0?null:m,m!==null&&(typeof m!="function"&&p("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",m),z.callback=m);var X=gu(y,z,R);return X!==null&&(Bn(X,y,R,C),jg(X,y,R)),R}function CN(s){var o=s.current;if(!o.child)return null;switch(o.child.tag){case O:return Er(o.child.stateNode);default:return o.child.stateNode}}function wN(s){switch(s.tag){case V:{var o=s.stateNode;if(op(o)){var d=bg(o);AB(o,d)}break}case k:{Gv(function(){var y=qi(s,_t);if(y!==null){var C=Li();Bn(y,s,_t,C)}});var m=_t;Xv(s,m);break}}}function rA(s,o){var d=s.memoizedState;d!==null&&d.dehydrated!==null&&(d.retryLane=Gh(d.retryLane,o))}function Xv(s,o){rA(s,o);var d=s.alternate;d&&rA(d,o)}function AN(s){if(s.tag===k){var o=_t,d=qi(s,o);if(d!==null){var m=Li();Bn(d,s,o,m)}Xv(s,o)}}function RN(s){if(s.tag===k){var o=su,d=qi(s,o);if(d!==null){var m=Li();Bn(d,s,o,m)}Xv(s,o)}}function PN(s){if(s.tag===k){var o=Eu(s),d=qi(s,o);if(d!==null){var m=Li();Bn(d,s,o,m)}Xv(s,o)}}function MN(s){var o=f0(s);return o===null?null:o.stateNode}var nA=function(s){return null};function iA(s){return nA(s)}var aA=function(s){return!1};function sA(s){return aA(s)}var oA=null,lA=null,uA=null,cA=null,hA=null,dA=null,fA=null,pA=null,mA=null;{var gA=function(s,o,d){var m=o[d],y=Jr(s)?s.slice():v({},s);return d+1===o.length?(Jr(y)?y.splice(m,1):delete y[m],y):(y[m]=gA(s[m],o,d+1),y)},vA=function(s,o){return gA(s,o,0)},yA=function(s,o,d,m){var y=o[m],C=Jr(s)?s.slice():v({},s);if(m+1===o.length){var R=d[m];C[R]=C[y],Jr(C)?C.splice(y,1):delete C[y]}else C[y]=yA(s[y],o,d,m+1);return C},_A=function(s,o,d){if(o.length!==d.length){f("copyWithRename() expects paths of the same length");return}else for(var m=0;m<d.length-1;m++)if(o[m]!==d[m]){f("copyWithRename() expects paths to be the same except for the deepest key");return}return yA(s,o,d,0)},bA=function(s,o,d,m){if(d>=o.length)return m;var y=o[d],C=Jr(s)?s.slice():v({},s);return C[y]=bA(s[y],o,d+1,m),C},xA=function(s,o,d){return bA(s,o,0,d)},Ix=function(s,o){for(var d=s.memoizedState;d!==null&&o>0;)d=d.next,o--;return d};oA=function(s,o,d,m){var y=Ix(s,o);if(y!==null){var C=xA(y.memoizedState,d,m);y.memoizedState=C,y.baseState=C,s.memoizedProps=v({},s.memoizedProps);var R=qi(s,_t);R!==null&&Bn(R,s,_t,_r)}},lA=function(s,o,d){var m=Ix(s,o);if(m!==null){var y=vA(m.memoizedState,d);m.memoizedState=y,m.baseState=y,s.memoizedProps=v({},s.memoizedProps);var C=qi(s,_t);C!==null&&Bn(C,s,_t,_r)}},uA=function(s,o,d,m){var y=Ix(s,o);if(y!==null){var C=_A(y.memoizedState,d,m);y.memoizedState=C,y.baseState=C,s.memoizedProps=v({},s.memoizedProps);var R=qi(s,_t);R!==null&&Bn(R,s,_t,_r)}},cA=function(s,o,d){s.pendingProps=xA(s.memoizedProps,o,d),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var m=qi(s,_t);m!==null&&Bn(m,s,_t,_r)},hA=function(s,o){s.pendingProps=vA(s.memoizedProps,o),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var d=qi(s,_t);d!==null&&Bn(d,s,_t,_r)},dA=function(s,o,d){s.pendingProps=_A(s.memoizedProps,o,d),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var m=qi(s,_t);m!==null&&Bn(m,s,_t,_r)},fA=function(s){var o=qi(s,_t);o!==null&&Bn(o,s,_t,_r)},pA=function(s){nA=s},mA=function(s){aA=s}}function IN(s){var o=rl(s);return o===null?null:o.stateNode}function DN(s){return null}function ON(){return Ke}function FN(s){var o=s.findFiberByHostInstance,d=a.ReactCurrentDispatcher;return S0({bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:oA,overrideHookStateDeletePath:lA,overrideHookStateRenamePath:uA,overrideProps:cA,overridePropsDeletePath:hA,overridePropsRenamePath:dA,setErrorHandler:pA,setSuspenseHandler:mA,scheduleUpdate:fA,currentDispatcherRef:d,findHostInstanceByFiber:IN,findFiberByHostInstance:o||DN,findHostInstancesForRefresh:aN,scheduleRefresh:nN,scheduleRoot:iN,setRefreshHandler:rN,getCurrentFiber:ON,reconcilerVersion:_N})}return t.attemptContinuousHydration=RN,t.attemptDiscreteHydration=AN,t.attemptHydrationAtCurrentPriority=PN,t.attemptSynchronousHydration=wN,t.batchedUpdates=PB,t.createComponentSelector=aB,t.createContainer=EN,t.createHasPseudoClassSelector=sB,t.createHydrationContainer=TN,t.createPortal=bN,t.createRoleSelector=oB,t.createTestNameSelector=uB,t.createTextSelector=lB,t.deferredUpdates=RB,t.discreteUpdates=MB,t.findAllNodes=Iv,t.findBoundingRects=dB,t.findHostInstance=xN,t.findHostInstanceWithNoPortals=MN,t.findHostInstanceWithWarning=SN,t.flushControlled=DB,t.flushPassiveEffects=Ro,t.flushSync=Gv,t.focusWithin=fB,t.getCurrentUpdatePriority=nn,t.getFindAllNodesFailureDescription=hB,t.getPublicRootInstance=CN,t.injectIntoDevTools=FN,t.isAlreadyRendering=IB,t.observeVisibleRects=mB,t.registerMutableSourceForHydration=E2,t.runWithPriority=Jf,t.shouldError=iA,t.shouldSuspend=sA,t.updateContainer=tA,t}),b_}(function(r){r.exports=zH()})(LH);var GH=YG(gT),HH="root",VH={"react-dom":"^18.0.0"},UO={name:HH,dependencies:VH},vT={},by={get exports(){return vT},set exports(r){vT=r}};(function(){var r,e,t,n,i,a;typeof performance<"u"&&performance!==null&&performance.now?by.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(by.exports=function(){return(r()-i)/1e6},e=process.hrtime,r=function(){var l;return l=e(),l[0]*1e9+l[1]},n=r(),a=process.uptime()*1e9,i=n-a):Date.now?(by.exports=function(){return Date.now()-t},t=Date.now()):(by.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(XG);var Gd={},jH={get exports(){return Gd},set exports(r){Gd=r}},Au={};/**
 * @license React
 * react-reconciler-constants.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sM;function $H(){return sM||(sM=1,function(){var r=1,e=4,t=16,n=536870912,i=r,a=e,l=t,u=n,f=0,p=1;Au.ConcurrentRoot=p,Au.ContinuousEventPriority=a,Au.DefaultEventPriority=l,Au.DiscreteEventPriority=i,Au.IdleEventPriority=u,Au.LegacyRoot=f}()),Au}(function(r){r.exports=$H()})(jH);var WH={};function XH(){var r,e;if(typeof window>"u")return Gd.DefaultEventPriority;var t=(r=window)===null||r===void 0||(e=r.event)===null||e===void 0?void 0:e.type;switch(t){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Gd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Gd.ContinuousEventPriority;default:return Gd.DefaultEventPriority}}function oE(r,e){r.addChild&&(r.addChild(e),typeof e.didMount=="function"&&e.didMount(e,r))}function kO(r,e){var t,n,i;(t=r.willUnmount)===null||t===void 0||t.call(r,r,e),((n=r.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=r.children)!==null&&i!==void 0&&i.length&&Nl(r.children).forEach(function(a){kO(a,r)})}function oM(r,e){var t;kO(e,r),r.removeChild(e);var n=(t=e.config)!==null&&t!==void 0?t:{},i=n.destroy,a=i===void 0?!0:i,l=n.destroyChildren,u=l===void 0?!0:l,f=n.destroyTexture,p=f===void 0?!1:f,g=n.destroyBaseTexture,v=g===void 0?!1:g;a&&e.destroy({children:u,texture:p,baseTexture:v})}function lM(r,e,t){var n,i;hn(e!==t,"Cannot insert node before itself");var a=r.children.indexOf(e)!==-1;a&&r.removeChild(e);var l=r.getChildIndex(t);r.addChildAt(e,l),(n=r.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}function YH(r,e,t,n){var i=null;for(var a in t)n.hasOwnProperty(a)||!t.hasOwnProperty(a)||t[a]===null||a===pT||(i||(i=[]),i.push(a,null));for(var l in n){var u=n[l],f=t!==null?t[l]:void 0;!n.hasOwnProperty(l)||u===f||u===null&&f===null||l===pT||(i||(i=[]),i.push(l,u))}return i}var lE=null,qH={getRootHostContext:function(){return WH},getChildHostContext:function(e){return e},getChildHostContextForEventComponent:function(e){return e},getPublicInstance:function(e){return e},getCurrentEventPriority:function(){return XH()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:OH,hideInstance:function(e){e.visible=!1},unhideInstance:function(e,t){var n=t!=null&&t.hasOwnProperty("visible")?t.visible:!0;e.visible=n},finalizeInitialChildren:function(e,t,n){return!1},prepareUpdate:function(e,t,n,i,a,l){return lE=YH(e,t,n,i),lE},shouldSetTextContent:function(e,t){return!1},shouldDeprioritizeSubtree:function(e,t){var n=typeof t.alpha>"u"||t.alpha>0,i=typeof t.renderable>"u"||t.renderable===!0,a=typeof t.visible>"u"||t.visible===!0;return!(n&&i&&a)},createTextInstance:function(e,t,n){hn(!1,'Error trying to add text node "'.concat(e,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(e,t){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:vT,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var e,t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=oE.apply(null,i);return(e=i[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),l},appendChild:function(){for(var e,t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=oE.apply(null,i);return(e=i[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),l},appendChildToContainer:function(){for(var e,t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=oE.apply(null,i);return(e=i[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),l},removeChild:function(){for(var e,t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=oM.apply(null,i);return(e=i[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),l},removeChildFromContainer:function(){for(var e,t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=oM.apply(null,i);return(e=i[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),l},insertBefore:lM,insertInContainerBefore:function(){for(var e,t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=lM.apply(null,i);return(e=i[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),l},commitUpdate:function(e,t,n,i,a){var l=e&&e.applyProps;typeof l!="function"&&(l=tl);var u=l(e,i,a);if(u||lE){var f,p;(f=e.__reactpixi)===null||f===void 0||(p=f.root)===null||p===void 0||p.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"})}},commitMount:function(e,t,n,i,a){},commitTextUpdate:function(e,t,n){},resetTextContent:function(e){},clearContainer:function(e){},getFundamentalComponentInstance:function(e){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(e){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},getInstanceFromNode:function(e){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(e){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(e){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(e){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(e){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(e){}},QH=qH,Qs=GH(QH),KH=UO.dependencies["react-dom"].replace(/[^0-9.]/g,""),ZH=UO.name;Qs.injectIntoDevTools({bundleType:1,version:KH,rendererPackageName:ZH,findHostInstanceByFiber:Qs.findHostInstance});var ku=new Map;function zO(r){if(hn(Jn.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`."),ku.has(r)){var e=ku.get(r),t=e.pixiFiberContainer;Qs.updateContainer(null,t,void 0,function(){ku.delete(r)})}}function GO(r){hn(Jn.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`.");var e=ku.get(r);if(hn(!e,"createRoot should only be called once"),!e){var t=Qs.createContainer(r),n={render:function(a){return Qs.updateContainer(a,t,void 0),Qs.getPublicRootInstance(t)},unmount:function(){zO(r),ku.delete(r)}};e={pixiFiberContainer:t,reactRoot:n},ku.set(r,e)}return e.reactRoot}function JH(r,e,t){console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18");var n;if(ku.has(e)){var i=ku.get(e);n=i.reactRoot}else n=GO(e);return n.render(r)}function e6(r){zO(r)}function km(){return km=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},km.apply(this,arguments)}function t6(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function r6(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,FO(n.key),n)}}function n6(r,e,t){return e&&r6(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Cl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function x_(r,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x_(r,e)}function i6(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&x_(r,e)}function a6(r,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cl(r)}function S_(r){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S_(r)}var l0=Tt.createContext(null),HO=l0.Provider,VO=l0.Consumer,s6=function(e){var t=Tt.forwardRef(function(n,i){return Tt.createElement(VO,null,function(a){return Tt.createElement(e,km({},n,{ref:i,app:a}))})});return t.displayName="withPIXIApp(".concat(e.displayName||e.name,")"),t};function o6(r){var e=l6();return function(){var n=S_(r),i;if(e){var a=S_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return a6(this,i)}}function l6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function E_(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(t),!0).forEach(function(n){En(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var cM=function(){},jO={width:st.number,height:st.number,onMount:st.func,onUnmount:st.func,raf:st.bool,renderOnComponentChange:st.bool,children:st.node,options:st.shape({autoStart:st.bool,width:st.number,height:st.number,useContextAlpha:st.bool,backgroundAlpha:st.number,autoDensity:st.bool,antialias:st.bool,preserveDrawingBuffer:st.bool,resolution:st.number,forceCanvas:st.bool,backgroundColor:st.number,clearBeforeRender:st.bool,powerPreference:st.string,sharedTicker:st.bool,sharedLoader:st.bool,resizeTo:function(e,t){var n=e[t];n&&hn(n===window||n instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ka(n),", expect `window` or an `HTMLElement`."))},view:function(e,t,n){var i=e[t];i&&hn(i instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ka(i),", supplied to ").concat(n,", expected `<canvas> Element`"))}})},u6={width:800,height:600,onMount:cM,onUnmount:cM,raf:!0,renderOnComponentChange:!0};function c6(r){var e=[].concat(Nl(Object.keys(jO)),Nl(Object.keys(mT)));return Object.keys(r).filter(function(t){return!e.includes(t)}).reduce(function(t,n){return E_(E_({},t),{},En({},n,r[n]))},{})}var y1=function(r){i6(t,r);var e=o6(t);function t(){var n;t6(this,t);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a)),En(Cl(n),"_canvas",null),En(Cl(n),"_mediaQuery",null),En(Cl(n),"_ticker",null),En(Cl(n),"_needsUpdate",!0),En(Cl(n),"app",null),En(Cl(n),"updateSize",function(){var u=n.props,f=u.width,p=u.height,g=u.options;g!=null&&g.resolution||(n.app.renderer.resolution=window.devicePixelRatio,n.resetInteractionManager()),n.app.renderer.resize(f,p)}),En(Cl(n),"needsRenderUpdate",function(){n._needsUpdate=!0}),En(Cl(n),"renderStage",function(){var u=n.props,f=u.renderOnComponentChange,p=u.raf;!p&&f&&n._needsUpdate&&(n._needsUpdate=!1,n.app.renderer.render(n.app.stage))}),n}return n6(t,[{key:"componentDidMount",value:function(){var i=this.props,a=i.onMount,l=i.width,u=i.height,f=i.options,p=i.raf,g=i.renderOnComponentChange;this.app=new uh(E_(E_({width:l,height:u,view:this._canvas},f),{},{autoDensity:f?.autoDensity!==!1}));{var v;(v=this.app.renderer.context)!==null&&v!==void 0&&v.extensions&&(this.app.renderer.context.extensions.loseContext=null)}this.app.ticker.autoStart=!1,this.app.ticker[p?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Qs.createContainer(this.app.stage),Qs.updateContainer(this.getChildren(),this.mountNode,this),a(this.app),f!=null&&f.autoDensity&&window.matchMedia&&f?.resolution===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),g&&!p&&(this._ticker=new kn,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(i,a,l){var u,f=this.props,p=f.width,g=f.height,v=f.raf,b=f.renderOnComponentChange,x=f.options;x?.resolution!==void 0&&i?.options.resolution!==x?.resolution&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),(i.height!==g||i.width!==p||((u=i.options)===null||u===void 0?void 0:u.resolution)!==x?.resolution)&&this.updateSize(),i.raf!==v&&this.app.ticker[v?"start":"stop"](),Qs.updateContainer(this.getChildren(),this.mountNode,this),(i.width!==p||i.height!==g||i.raf!==v||i.renderOnComponentChange!==b||i.options!==x)&&(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var i=this.app.renderer.plugins.interaction;i!=null&&i.resolution&&(i.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var i=this.props.children;return Tt.createElement(HO,{value:this.app},i)}},{key:"componentDidCatch",value:function(i,a){console.error("Error occurred in `Stage`."),console.error(i),console.error(a)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Qs.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var i=this,a=this.props.options;return a&&a.view?(hn(a.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Tt.createElement("canvas",km({},c6(this.props),{ref:function(u){return i._canvas=u}}))}}]),t}(Tt.Component);y1.propTypes=jO;y1.defaultProps=u6;var h6=y1;function $O(){var r=Tt.useContext(l0);return hn(r instanceof uh,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),r}function d6(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=$O();hn(typeof r=="function","`useTick` needs a callback function."),hn(t instanceof uh,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=Tt.useRef(null);Tt.useEffect(function(){n.current=r},[r]),Tt.useEffect(function(){if(e){var i=function(l){return n.current.apply(t.ticker,[l,t.ticker])};return t.ticker.add(i),function(){t.ticker&&t.ticker.remove(i)}}},[e])}function f6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qy(r,e,t){return f6()?Qy=Reflect.construct.bind():Qy=function(i,a,l){var u=[null];u.push.apply(u,a);var f=Function.bind.apply(i,u),p=new f;return l&&x_(p,l.prototype),p},Qy.apply(null,arguments)}var p6=["children","apply"];function hM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function xy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(t),!0).forEach(function(n){En(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var m6=function(e,t){hn(ka(t)==="object","Second argument needs to be an indexed object with { prop: Filter }");var n=Object.keys(t),i=function(l){var u=l.children,f=l.apply,p=qu(l,p6),g=Tt.useRef(Tt.useMemo(function(){return n.map(function(x){var S,E=(p==null||(S=p[x])===null||S===void 0?void 0:S.construct)||[];return Qy(t[x],Nl(E))})},[n])),v=Tt.useMemo(function(){return n.reduce(function(x,S,E){return xy(xy({},x),{},En({},S,g.current[E]))},{})},[n]),b=Tt.useMemo(function(){return Object.keys(p).filter(BO(LO(n))).reduce(function(x,S){return xy(xy({},x),{},En({},S,p[S]))},{})},[p,n]);return n.forEach(function(x,S){return Object.assign(g.current[S],p[x])}),f&&KG(f)&&f.call(e,v),Tt.createElement(e,km({},b,{filters:g.current}),u)};return i.displayName="FilterWrapper",i.propTypes={children:st.node,apply:st.func},i},g6=va.BitmapText,v6=va.Container,y6=va.Graphics,_6=va.NineSlicePlane,b6=va.ParticleContainer,x6=va.Sprite,S6=va.AnimatedSprite,E6=va.Text,T6=va.TilingSprite,C6=va.SimpleMesh,w6=va.SimpleRope;const A6=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:S6,AppConsumer:VO,AppContext:l0,AppProvider:HO,BitmapText:g6,Container:v6,Graphics:y6,NineSlicePlane:_6,ParticleContainer:b6,PixiComponent:FH,PixiFiber:Qs,SimpleMesh:C6,SimpleRope:w6,Sprite:x6,Stage:h6,TYPES:va,Text:E6,TilingSprite:T6,applyDefaultProps:tl,createRoot:GO,eventHandlers:y_,render:JH,unmountComponentAtNode:e6,useApp:$O,useTick:d6,withFilters:m6,withPixiApp:s6},Symbol.toStringTag,{value:"Module"})),R6=qT(A6);function Ua(r){return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(r)}function WO(r){var e=function(t,n){if(Ua(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,n);if(Ua(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return Ua(e)==="symbol"?e:String(e)}function Sn(r,e,t){return(e=WO(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function uE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ul(r){return function(e){if(Array.isArray(e))return uE(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return uE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uE(e,t):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dn(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i]}var P6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M6(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var I6=function(r){return r==null};function xm(r){var e=[];if(r===void 0)return e;if(typeof r=="string")e=r.split(",");else if(typeof r=="number")e=[r];else if(Array.isArray(r))e=Ul(r);else{if(r===null||Ua(r)!=="object")return e;e=[r&&r?.x||0,r&&r?.y||0]}return e.filter(function(t){return!I6(t)&&!isNaN(t)}).map(Number)}function dM(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function cE(r){return r instanceof $t||r instanceof ds}var T_=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function hE(r,e,t){if(cE(r[e])&&cE(t))r[e].copyFrom(t);else if(cE(r[e])){var n=xm(t);dn(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Ua(t)),r[e].set(n.shift(),n.shift())}else r[e]=t}var Ad,XO=function(r){var e,t=r;if(!Array.isArray(t)){if(e=r,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(r)}var n={};return t.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},YO=function(r){return function(){return!r.apply(void 0,arguments)}},yT="children",D6=(Sn(Ad={},yT,!0),Sn(Ad,"parent",!0),Sn(Ad,"worldAlpha",!0),Sn(Ad,"worldTransform",!0),Sn(Ad,"worldVisible",!0),Ad),_T={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ko=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var f,p;u==null||(f=u.__reactpixi)===null||f===void 0||(p=f.root)===null||p===void 0||p.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,f){if(t.hasOwnProperty(u))return dn(f.typeofs.some(function(p){return Ua(t[u])===p})||f.instanceofs.some(function(p){return t[u]instanceof p}),"".concat(r," ").concat(u," prop is invalid")),t[u]};if(t.texture)return dn(t.texture instanceof je,"".concat(r," texture needs to be typeof `Texture`")),t.texture;var a=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,je]});dn(!!a,"".concat(r," could not get texture from props"));var l=je.from(a);return l.__reactpixi={root:e},l.once("update",n),l.once("loaded",n),l.valid&&n(l),l},O6=YO(XO([].concat(Ul(Object.keys(D6)),Ul(T_))));function Zo(r,e,t){var n=!1;if(dn(Hr.prototype.isPrototypeOf(r),"instance needs to be typeof `DisplayObject`, got `%s`",Ua(r)),!t.ignoreEvents)for(var i=typeof r.removeListener=="function",a=typeof r.on=="function",l=0;l<T_.length;l++){var u=T_[l];e[u]!==t[u]&&(n=!0,typeof e[u]=="function"&&i&&r.removeListener(u,e[u]),typeof t[u]=="function"&&a&&r.on(u,t[u]))}var f=Object.keys(t||{});if(t.overwriteProps){for(var p=0;p<f.length;p++){var g=f[p];e[g]!==t[g]&&(n=!0,hE(r,g,t[g]))}return n}for(var v=f.filter(O6),b=0;b<v.length;b++){var x=v[b],S=t[x];t[x]!==e[x]&&(n=!0),S!==void 0?hE(r,x,S):x in _T?(console.warn("setting default value: ".concat(x,", from: ").concat(r[x]," to: ").concat(S," for"),r),n=!0,hE(r,x,_T[x])):console.warn("ignoring prop: ".concat(x,", from ").concat(r[x]," to ").concat(S," for"),r)}return n}var F6=function(r,e){var t=e.text,n=e.style;return new vO(t,n)},L6=function(){return new Jn};function Qu(r,e){if(r==null)return{};var t,n,i=function(l,u){if(l==null)return{};var f,p,g={},v=Object.keys(l);for(p=0;p<v.length;p++)f=v[p],u.indexOf(f)>=0||(g[f]=l[f]);return g}(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var B6=["draw","geometry"],N6=function(r,e){var t=e.geometry;dn(!t||t instanceof Uu,"Graphics geometry needs to be a `Graphics`");var n=t?new Uu(t.geometry):new Uu;return n.applyProps=function(i,a,l){var u=l.draw;l.geometry;var f=Zo(i,a,Qu(l,B6));return a.draw!==u&&typeof u=="function"&&(f=!0,u.call(n,n)),f},n},U6=["image","texture"],k6=function(r,e){var t=e.leftWidth,n=t===void 0?10:t,i=e.topHeight,a=i===void 0?10:i,l=e.rightWidth,u=l===void 0?10:l,f=e.bottomHeight,p=f===void 0?10:f,g=Ko("NineSlicePlane",r,e),v=new TO(g,n,a,u,p);return v.applyProps=function(b,x,S){var E=S.image,A=S.texture,P=Zo(b,x,Qu(S,U6));return(E||A)&&(A!==x.texture&&(P=!0),b.texture=Ko("NineSlicePlane",r,S)),P},v};function fM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Sy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(t),!0).forEach(function(n){Sn(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var z6=function(r,e){var t=e.maxSize,n=t===void 0?1500:t,i=e.batchSize,a=i===void 0?16384:i,l=e.autoResize,u=l!==void 0&&l,f=Sy(Sy({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),p=Sy(Sy({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),g=new AO(n,f,a,u);return g.willUnmount=function(v,b,x){v.destroy(p)},g},G6=["image","texture"],H6=function(r,e){var t=new el(Ko("Sprite",r,e));return t.applyProps=function(n,i,a){var l=a.image,u=a.texture,f=Zo(n,i,Qu(a,G6));return(u&&i.texture!==a.texture||l&&i.image!==a.image)&&(i.texture!==a.texture&&(f=!0),n.texture=Ko("Sprite",r,a)),f},t},V6=["textures","isPlaying","initialFrame","images"],j6=function(r,e){var t=e.textures,n=e.images,i=e.isPlaying,a=i===void 0||i,l=e.initialFrame,u=function(p){return p.map(function(g){return dn(g instanceof je||g?.texture,"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),g})},f=n?v_.fromImages(n):new v_(u(t));return f[a?"gotoAndPlay":"gotoAndStop"](l||0),f.applyProps=function(p,g,v){var b=v.textures,x=v.isPlaying,S=v.initialFrame,E=v.images,A=Zo(p,g,Qu(v,V6));if(E&&g.images!==E){for(var P=[],L=0;L<E.length;++L)P.push(je.from(E[L]));p.textures=P,A=!0}if(b&&g.textures!==b&&(p.textures=u(b),A=!0),x!==g.isPlaying||S!==g.initialFrame){var D=typeof S=="number"?S:f.currentFrame||0;f[x?"gotoAndPlay":"gotoAndStop"](D),A=!0}return A},f},$6=function(r,e){var t=e.text,n=t===void 0?"":t,i=e.style,a=i===void 0?{}:i,l=e.isSprite,u=new i0(n,a);return l?(u.updateText(),new el(u.texture)):u},W6=["tileScale","tilePosition","image","texture"],X6=function(r,e){var t=e.width,n=t===void 0?100:t,i=e.height,a=i===void 0?100:i,l=Ko("TilingSprite",r,e),u=new PO(l,n,a);return u.applyProps=function(f,p,g){var v=g.tileScale,b=g.tilePosition,x=g.image,S=g.texture,E=Zo(f,p,Qu(g,W6));if(b){var A,P=xm(b);(A=f.tilePosition).set.apply(A,Ul(P)),E=!dM(xm(p.tilePosition),P)||E}if(v){var L,D=xm(v);(L=f.tileScale).set.apply(L,Ul(D)),E=!dM(xm(p.tileScale),D)||E}return(x||S)&&(S!==p.texture&&(E=!0),f.texture=Ko("Sprite",r,g)),E},u},Y6=["image","texture"],q6=function(r,e){var t=Ko("Mesh",r,e),n=e.vertices,i=e.uvs,a=e.indices,l=e.drawMode,u=l===void 0?us.TRIANGLES:l,f=new CO(t,n,i,a,u);return f.applyProps=function(p,g,v){var b=v.image,x=v.texture,S=Zo(p,g,Qu(v,Y6));return(b||x)&&(x!==g.texture&&(S=!0),p.texture=Ko("Mesh",r,v)),S},f},Q6=["image","texture"],K6=function(r,e){var t=Ko("SimpleRope",r,e),n=e.points,i=new wO(t,n);return i.applyProps=function(a,l,u){var f=u.image,p=u.texture,g=Qu(u,Q6);dn(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<Point>");var v=Zo(a,l,g);return(f||p)&&(p!==l.texture&&(v=!0),a.texture=Ko("SimpleRope",r,u)),v},i},Z6=Object.freeze({__proto__:null,BitmapText:F6,Container:L6,Graphics:N6,NineSlicePlane:k6,ParticleContainer:z6,Sprite:H6,Text:$6,TilingSprite:X6,SimpleMesh:q6,SimpleRope:K6,AnimatedSprite:j6});function pM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function mM(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(t),!0).forEach(function(n){Sn(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ya={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},J6=Object.keys(ya).reduce(function(r,e){return mM(mM({},r),{},Sn({},e,Z6[e]))},{}),qO={};function eV(r,e){return dn(!!r,"Expect type to be defined, got `%s`",r),dn(!ya[r],"Component `%s` could not be created, already exists in default components.",r),qO[r]=e,r}var gM,vM,yM,_M,bT={},xT={},tV={get exports(){return xT},set exports(r){xT=r}},bM={};function rV(){return vM||(vM=1,tV.exports=(gM||(gM=1,function(r){function e(k,J){var F=k.length;k.push(J);e:for(;0<F;){var H=F-1>>>1,Y=k[H];if(!(0<i(Y,J)))break e;k[H]=J,k[F]=Y,F=H}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var J=k[0],F=k.pop();if(F!==J){k[0]=F;e:for(var H=0,Y=k.length,K=Y>>>1;H<K;){var se=2*(H+1)-1,me=k[se],de=se+1,_e=k[de];if(0>i(me,F))de<Y&&0>i(_e,me)?(k[H]=_e,k[de]=F,H=de):(k[H]=me,k[se]=F,H=se);else{if(!(de<Y&&0>i(_e,F)))break e;k[H]=_e,k[de]=F,H=de}}}return J}function i(k,J){var F=k.sortIndex-J.sortIndex;return F!==0?F:k.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var f=[],p=[],g=1,v=null,b=3,x=!1,S=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function D(k){for(var J=t(p);J!==null;){if(J.callback===null)n(p);else{if(!(J.startTime<=k))break;n(p),J.sortIndex=J.expirationTime,e(f,J)}J=t(p)}}function N(k){if(E=!1,D(k),!S)if(t(f)!==null)S=!0,G(M);else{var J=t(p);J!==null&&W(N,J.startTime-k)}}function M(k,J){S=!1,E&&(E=!1,P(re),re=-1),x=!0;var F=b;try{for(D(J),v=t(f);v!==null&&(!(v.expirationTime>J)||k&&!q());){var H=v.callback;if(typeof H=="function"){v.callback=null,b=v.priorityLevel;var Y=H(v.expirationTime<=J);J=r.unstable_now(),typeof Y=="function"?v.callback=Y:v===t(f)&&n(f),D(J)}else n(f);v=t(f)}if(v!==null)var K=!0;else{var se=t(p);se!==null&&W(N,se.startTime-J),K=!1}return K}finally{v=null,b=F,x=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var $,U=!1,V=null,re=-1,O=5,Q=-1;function q(){return!(r.unstable_now()-Q<O)}function ae(){if(V!==null){var k=r.unstable_now();Q=k;var J=!0;try{J=V(!0,k)}finally{J?$():(U=!1,V=null)}}else U=!1}if(typeof L=="function")$=function(){L(ae)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ie=oe.port2;oe.port1.onmessage=ae,$=function(){Ie.postMessage(null)}}else $=function(){A(ae,0)};function G(k){V=k,U||(U=!0,$())}function W(k,J){re=A(function(){k(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_continueExecution=function(){S||x||(S=!0,G(M))},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(k){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var F=b;b=J;try{return k()}finally{b=F}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=b;b=k;try{return J()}finally{b=F}},r.unstable_scheduleCallback=function(k,J,F){var H=r.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?H+F:H,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return k={id:g++,callback:J,priorityLevel:k,startTime:F,expirationTime:Y=F+Y,sortIndex:-1},F>H?(k.sortIndex=F,e(p,k),t(f)===null&&k===t(p)&&(E?(P(re),re=-1):E=!0,W(N,F-H))):(k.sortIndex=Y,e(f,k),S||x||(S=!0,G(M))),k},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(k){var J=b;return function(){var F=b;b=J;try{return k.apply(this,arguments)}finally{b=F}}}}(bM)),bM)),xT}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nV(){return _M||(_M=1,yM=function(r){var e={},t=Tt,n=rV(),i=Object.assign;function a(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,_=1;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),N=Symbol.iterator;function M(c){return c===null||typeof c!="object"?null:typeof(c=N&&c[N]||c["@@iterator"])=="function"?c:null}function $(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case p:return"Fragment";case f:return"Portal";case v:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case x:return(c.displayName||"Context")+".Consumer";case b:return(c._context.displayName||"Context")+".Provider";case S:var h=c.render;return(c=c.displayName)||(c=(c=h.displayName||h.name||"")!==""?"ForwardRef("+c+")":"ForwardRef"),c;case P:return(h=c.displayName||null)!==null?h:$(c.type)||"Memo";case L:h=c._payload,c=c._init;try{return $(c(h))}catch{}}return null}function U(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=(c=h.render).displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(h);case 8:return h===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function V(c){var h=c,_=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do(4098&(h=c).flags)!=0&&(_=h.return),c=h.return;while(c)}return h.tag===3?_:null}function re(c){if(V(c)!==c)throw Error(a(188))}function O(c){var h=c.alternate;if(!h){if((h=V(c))===null)throw Error(a(188));return h!==c?null:c}for(var _=c,T=h;;){var w=_.return;if(w===null)break;var I=w.alternate;if(I===null){if((T=w.return)!==null){_=T;continue}break}if(w.child===I.child){for(I=w.child;I;){if(I===_)return re(w),c;if(I===T)return re(w),h;I=I.sibling}throw Error(a(188))}if(_.return!==T.return)_=w,T=I;else{for(var j=!1,ie=w.child;ie;){if(ie===_){j=!0,_=w,T=I;break}if(ie===T){j=!0,T=w,_=I;break}ie=ie.sibling}if(!j){for(ie=I.child;ie;){if(ie===_){j=!0,_=I,T=w;break}if(ie===T){j=!0,T=I,_=w;break}ie=ie.sibling}if(!j)throw Error(a(189))}}if(_.alternate!==T)throw Error(a(190))}if(_.tag!==3)throw Error(a(188));return _.stateNode.current===_?c:h}function Q(c){return(c=O(c))!==null?q(c):null}function q(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=q(c);if(h!==null)return h;c=c.sibling}return null}function ae(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=ae(c);if(h!==null)return h}c=c.sibling}return null}var oe,Ie=Array.isArray,G=r.getPublicInstance,W=r.getRootHostContext,k=r.getChildHostContext,J=r.prepareForCommit,F=r.resetAfterCommit,H=r.createInstance,Y=r.appendInitialChild,K=r.finalizeInitialChildren,se=r.prepareUpdate,me=r.shouldSetTextContent,de=r.createTextInstance,_e=r.scheduleTimeout,we=r.cancelTimeout,Pe=r.noTimeout,ve=r.isPrimaryRenderer,Ae=r.supportsMutation,fe=r.supportsPersistence,ke=r.supportsHydration,ut=r.getInstanceFromNode,He=r.preparePortalMount,qe=r.getCurrentEventPriority,Kt=r.detachDeletedInstance,cr=r.supportsMicrotasks,wn=r.scheduleMicrotask,Or=r.supportsTestSelectors,Wt=r.findFiberRoot,li=r.getBoundingRect,ra=r.getTextContent,fn=r.isHiddenSubtree,Ga=r.matchAccessibilityRole,gs=r.setFocusIfFocusable,vs=r.setupIntersectionObserver,ro=r.appendChild,We=r.appendChildToContainer,ot=r.commitTextUpdate,Lt=r.commitMount,or=r.commitUpdate,Ct=r.insertBefore,pn=r.insertInContainerBefore,Fr=r.removeChild,ne=r.removeChildFromContainer,te=r.resetTextContent,Rt=r.hideInstance,xt=r.hideTextInstance,rt=r.unhideInstance,vt=r.unhideTextInstance,An=r.clearContainer,zi=r.cloneInstance,St=r.createContainerChildSet,Vr=r.appendChildToContainerChildSet,Gi=r.finalizeContainerChildren,Rn=r.replaceContainerChildren,Lr=r.cloneHiddenInstance,ui=r.cloneHiddenTextInstance,na=r.canHydrateInstance,ys=r.canHydrateTextInstance,Ha=r.canHydrateSuspenseInstance,_a=r.isSuspenseInstancePending,Br=r.isSuspenseInstanceFallback,_s=r.getSuspenseInstanceFallbackErrorDetails,no=r.registerSuspenseInstanceRetry,Z=r.getNextHydratableSibling,Fe=r.getFirstHydratableChild,Xe=r.getFirstHydratableChildWithinContainer,ht=r.getFirstHydratableChildWithinSuspenseInstance,kt=r.hydrateInstance,Zt=r.hydrateTextInstance,Ot=r.hydrateSuspenseInstance,Mt=r.getNextHydratableInstanceAfterSuspenseInstance,hr=r.commitHydratedContainer,Vt=r.commitHydratedSuspenseInstance,Nr=r.clearSuspenseBoundary,Zr=r.clearSuspenseBoundaryFromContainer,io=r.shouldDeleteUnhydratedTailInstances,bs=r.didNotMatchHydratedContainerTextInstance,zn=r.didNotMatchHydratedTextInstance;function Va(c){if(oe===void 0)try{throw Error()}catch(_){var h=_.stack.trim().match(/\n( *(at )?)/);oe=h&&h[1]||""}return`
`+oe+c}var rl=!1;function zl(c,h){if(!c||rl)return"";rl=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Se){var T=Se}Reflect.construct(c,[],h)}else{try{h.call()}catch(Se){T=Se}c.call(h.prototype)}else{try{throw Error()}catch(Se){T=Se}c()}}catch(Se){if(Se&&T&&typeof Se.stack=="string"){for(var w=Se.stack.split(`
`),I=T.stack.split(`
`),j=w.length-1,ie=I.length-1;1<=j&&0<=ie&&w[j]!==I[ie];)ie--;for(;1<=j&&0<=ie;j--,ie--)if(w[j]!==I[ie]){if(j!==1||ie!==1)do if(j--,0>--ie||w[j]!==I[ie]){var he=`
`+w[j].replace(" at new "," at ");return c.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",c.displayName)),he}while(1<=j&&0<=ie);break}}}finally{rl=!1,Error.prepareStackTrace=_}return(c=c?c.displayName||c.name:"")?Va(c):""}var f0=Object.prototype.hasOwnProperty,ch=[],Gl=-1;function Jr(c){return{current:c}}function Er(c){0>Gl||(c.current=ch[Gl],ch[Gl]=null,Gl--)}function Tr(c,h){Gl++,ch[Gl]=c.current,c.current=h}var ao={},ei=Jr(ao),Ti=Jr(!1),nl=ao;function so(c,h){var _=c.type.contextTypes;if(!_)return ao;var T=c.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var w,I={};for(w in _)I[w]=h[w];return T&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=I),I}function Ci(c){return(c=c.childContextTypes)!=null}function hh(){Er(Ti),Er(ei)}function dh(c,h,_){if(ei.current!==ao)throw Error(a(168));Tr(ei,h),Tr(Ti,_)}function gf(c,h,_){var T=c.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return _;for(var w in T=T.getChildContext())if(!(w in h))throw Error(a(108,U(c)||"Unknown",w));return i({},_,T)}function Ju(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ao,nl=ei.current,Tr(ei,c),Tr(Ti,Ti.current),!0}function eg(c,h,_){var T=c.stateNode;if(!T)throw Error(a(169));_?(c=gf(c,h,nl),T.__reactInternalMemoizedMergedChildContext=c,Er(Ti),Er(ei),Tr(ei,c)):Er(Ti),Tr(Ti,_)}var Hi=Math.clz32?Math.clz32:function(c){return(c>>>=0)===0?32:31-(fh(c)/p0|0)|0},fh=Math.log,p0=Math.LN2,ci=64,Hl=4194304;function ti(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&c;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&c;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function ph(c,h){var _=c.pendingLanes;if(_===0)return 0;var T=0,w=c.suspendedLanes,I=c.pingedLanes,j=268435455&_;if(j!==0){var ie=j&~w;ie!==0?T=ti(ie):(I&=j)!==0&&(T=ti(I))}else(j=_&~w)!==0?T=ti(j):I!==0&&(T=ti(I));if(T===0)return 0;if(h!==0&&h!==T&&(h&w)==0&&((w=T&-T)>=(I=h&-h)||w===16&&(4194240&I)!=0))return h;if((4&T)!=0&&(T|=16&_),(h=c.entangledLanes)!==0)for(c=c.entanglements,h&=T;0<h;)w=1<<(_=31-Hi(h)),T|=c[_],h&=~w;return T}function m0(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;default:return-1}}function vf(c){return(c=-1073741825&c.pendingLanes)!==0?c:1073741824&c?1073741824:0}function tg(){var c=ci;return(4194240&(ci<<=1))==0&&(ci=64),c}function yf(c){for(var h=[],_=0;31>_;_++)h.push(c);return h}function ec(c,h,_){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),(c=c.eventTimes)[h=31-Hi(h)]=_}function oo(c,h){var _=c.entangledLanes|=h;for(c=c.entanglements;_;){var T=31-Hi(_),w=1<<T;w&h|c[T]&h&&(c[T]|=h),_&=~w}}var tr=0;function rg(c){return 1<(c&=-c)?4<c?(268435455&c)!=0?16:536870912:4:1}var _f=n.unstable_scheduleCallback,Vl=n.unstable_cancelCallback,g0=n.unstable_shouldYield,v0=n.unstable_requestPaint,Pn=n.unstable_now,bf=n.unstable_ImmediatePriority,y0=n.unstable_UserBlockingPriority,ng=n.unstable_NormalPriority,_0=n.unstable_IdlePriority,mh=null,ja=null,ba=typeof Object.is=="function"?Object.is:function(c,h){return c===h&&(c!==0||1/c==1/h)||c!=c&&h!=h},xs=null,gh=!1,vh=!1;function ig(c){xs===null?xs=[c]:xs.push(c)}function $a(){if(!vh&&xs!==null){vh=!0;var c=0,h=tr;try{var _=xs;for(tr=1;c<_.length;c++){var T=_[c];do T=T(!0);while(T!==null)}xs=null,gh=!1}catch(w){throw xs!==null&&(xs=xs.slice(c+1)),_f(bf,$a),w}finally{tr=h,vh=!1}}return null}var jl=[],$l=0,yh=null,_h=0,Vi=[],ji=0,il=null,ia=1,Wa="";function lo(c,h){jl[$l++]=_h,jl[$l++]=yh,yh=c,_h=h}function ag(c,h,_){Vi[ji++]=ia,Vi[ji++]=Wa,Vi[ji++]=il,il=c;var T=ia;c=Wa;var w=32-Hi(T)-1;T&=~(1<<w),_+=1;var I=32-Hi(h)+w;if(30<I){var j=w-w%5;I=(T&(1<<j)-1).toString(32),T>>=j,w-=j,ia=1<<32-Hi(h)+w|_<<w|T,Wa=I+c}else ia=1<<I|_<<w|T,Wa=c}function xf(c){c.return!==null&&(lo(c,1),ag(c,1,0))}function Sf(c){for(;c===yh;)yh=jl[--$l],jl[$l]=null,_h=jl[--$l],jl[$l]=null;for(;c===il;)il=Vi[--ji],Vi[ji]=null,Wa=Vi[--ji],Vi[ji]=null,ia=Vi[--ji],Vi[ji]=null}var wi=null,Ai=null,Ur=!1,tc=!1,Ri=null;function sg(c,h){var _=On(5,null,null,0);_.elementType="DELETED",_.stateNode=h,_.return=c,(h=c.deletions)===null?(c.deletions=[_],c.flags|=16):h.push(_)}function og(c,h){switch(c.tag){case 5:return(h=na(h,c.type,c.pendingProps))!==null&&(c.stateNode=h,wi=c,Ai=Fe(h),!0);case 6:return(h=ys(h,c.pendingProps))!==null&&(c.stateNode=h,wi=c,Ai=null,!0);case 13:if((h=Ha(h))!==null){var _=il!==null?{id:ia,overflow:Wa}:null;return c.memoizedState={dehydrated:h,treeContext:_,retryLane:1073741824},(_=On(18,null,null,0)).stateNode=h,_.return=c,c.child=_,wi=c,Ai=null,!0}return!1;default:return!1}}function Ef(c){return(1&c.mode)!=0&&(128&c.flags)==0}function Tf(c){if(Ur){var h=Ai;if(h){var _=h;if(!og(c,h)){if(Ef(c))throw Error(a(418));h=Z(_);var T=wi;h&&og(c,h)?sg(T,_):(c.flags=-4097&c.flags|2,Ur=!1,wi=c)}}else{if(Ef(c))throw Error(a(418));c.flags=-4097&c.flags|2,Ur=!1,wi=c}}}function lg(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;wi=c}function bh(c){if(!ke||c!==wi)return!1;if(!Ur)return lg(c),Ur=!0,!1;if(c.tag!==3&&(c.tag!==5||io(c.type)&&!me(c.type,c.memoizedProps))){var h=Ai;if(h){if(Ef(c))throw ug(),Error(a(418));for(;h;)sg(c,h),h=Z(h)}}if(lg(c),c.tag===13){if(!ke)throw Error(a(316));if(!(c=(c=c.memoizedState)!==null?c.dehydrated:null))throw Error(a(317));Ai=Mt(c)}else Ai=wi?Z(c.stateNode):null;return!0}function ug(){for(var c=Ai;c;)c=Z(c)}function Wl(){ke&&(Ai=wi=null,tc=Ur=!1)}function Cf(c){Ri===null?Ri=[c]:Ri.push(c)}var b0=l.ReactCurrentBatchConfig;function xh(c,h){if(ba(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var _=Object.keys(c),T=Object.keys(h);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var w=_[T];if(!f0.call(h,w)||!ba(c[w],h[w]))return!1}return!0}function x0(c){switch(c.tag){case 5:return Va(c.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return c=zl(c.type,!1);case 11:return c=zl(c.type.render,!1);case 1:return c=zl(c.type,!0);default:return""}}function xa(c,h){if(c&&c.defaultProps){for(var _ in h=i({},h),c=c.defaultProps)h[_]===void 0&&(h[_]=c[_]);return h}return h}var Sh=Jr(null),Eh=null,Xl=null,wf=null;function Af(){wf=Xl=Eh=null}function cg(c,h,_){ve?(Tr(Sh,h._currentValue),h._currentValue=_):(Tr(Sh,h._currentValue2),h._currentValue2=_)}function Rf(c){var h=Sh.current;Er(Sh),ve?c._currentValue=h:c._currentValue2=h}function Pf(c,h,_){for(;c!==null;){var T=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),c===_)break;c=c.return}}function Yl(c,h){Eh=c,wf=Xl=null,(c=c.dependencies)!==null&&c.firstContext!==null&&((c.lanes&h)!=0&&(rn=!0),c.firstContext=null)}function aa(c){var h=ve?c._currentValue:c._currentValue2;if(wf!==c)if(c={context:c,memoizedValue:h,next:null},Xl===null){if(Eh===null)throw Error(a(308));Xl=c,Eh.dependencies={lanes:0,firstContext:c}}else Xl=Xl.next=c;return h}var al=null;function Mf(c){al===null?al=[c]:al.push(c)}function hg(c,h,_,T){var w=h.interleaved;return w===null?(_.next=_,Mf(h)):(_.next=w.next,w.next=_),h.interleaved=_,Xa(c,T)}function Xa(c,h){c.lanes|=h;var _=c.alternate;for(_!==null&&(_.lanes|=h),_=c,c=c.return;c!==null;)c.childLanes|=h,(_=c.alternate)!==null&&(_.childLanes|=h),_=c,c=c.return;return _.tag===3?_.stateNode:null}var sa=!1;function Th(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function If(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ya(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function Ss(c,h,_){var T=c.updateQueue;if(T===null)return null;if(T=T.shared,(2&Xt)!=0){var w=T.pending;return w===null?h.next=h:(h.next=w.next,w.next=h),T.pending=h,Xa(c,_)}return(w=T.interleaved)===null?(h.next=h,Mf(T)):(h.next=w.next,w.next=h),T.interleaved=h,Xa(c,_)}function rc(c,h,_){if((h=h.updateQueue)!==null&&(h=h.shared,(4194240&_)!=0)){var T=h.lanes;_|=T&=c.pendingLanes,h.lanes=_,oo(c,_)}}function Df(c,h){var _=c.updateQueue,T=c.alternate;if(T!==null&&_===(T=T.updateQueue)){var w=null,I=null;if((_=_.firstBaseUpdate)!==null){do{var j={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};I===null?w=I=j:I=I.next=j,_=_.next}while(_!==null);I===null?w=I=h:I=I.next=h}else w=I=h;return _={baseState:T.baseState,firstBaseUpdate:w,lastBaseUpdate:I,shared:T.shared,effects:T.effects},void(c.updateQueue=_)}(c=_.lastBaseUpdate)===null?_.firstBaseUpdate=h:c.next=h,_.lastBaseUpdate=h}function nc(c,h,_,T){var w=c.updateQueue;sa=!1;var I=w.firstBaseUpdate,j=w.lastBaseUpdate,ie=w.shared.pending;if(ie!==null){w.shared.pending=null;var he=ie,Se=he.next;he.next=null,j===null?I=Se:j.next=Se,j=he;var Me=c.alternate;Me!==null&&(ie=(Me=Me.updateQueue).lastBaseUpdate)!==j&&(ie===null?Me.firstBaseUpdate=Se:ie.next=Se,Me.lastBaseUpdate=he)}if(I!==null){var Ve=w.baseState;for(j=0,Me=Se=he=null,ie=I;;){var Re=ie.lane,Le=ie.eventTime;if((T&Re)===Re){Me!==null&&(Me=Me.next={eventTime:Le,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var at=c,Nt=ie;switch(Re=h,Le=_,Nt.tag){case 1:if(typeof(at=Nt.payload)=="function"){Ve=at.call(Le,Ve,Re);break e}Ve=at;break e;case 3:at.flags=-65537&at.flags|128;case 0:if((Re=typeof(at=Nt.payload)=="function"?at.call(Le,Ve,Re):at)==null)break e;Ve=i({},Ve,Re);break e;case 2:sa=!0}}ie.callback!==null&&ie.lane!==0&&(c.flags|=64,(Re=w.effects)===null?w.effects=[ie]:Re.push(ie))}else Le={eventTime:Le,lane:Re,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Me===null?(Se=Me=Le,he=Ve):Me=Me.next=Le,j|=Re;if((ie=ie.next)===null){if((ie=w.shared.pending)===null)break;ie=(Re=ie).next,Re.next=null,w.lastBaseUpdate=Re,w.shared.pending=null}}if(Me===null&&(he=Ve),w.baseState=he,w.firstBaseUpdate=Se,w.lastBaseUpdate=Me,(h=w.shared.interleaved)!==null){w=h;do j|=w.lane,w=w.next;while(w!==h)}else I===null&&(w.shared.lanes=0);pl|=j,c.lanes=j,c.memoizedState=Ve}}function Of(c,h,_){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var T=c[h],w=T.callback;if(w!==null){if(T.callback=null,T=_,typeof w!="function")throw Error(a(191,w));w.call(T)}}}var dg=new t.Component().refs;function Ff(c,h,_,T){_=(_=_(T,h=c.memoizedState))==null?h:i({},h,_),c.memoizedState=_,c.lanes===0&&(c.updateQueue.baseState=_)}var ql={isMounted:function(c){return!!(c=c._reactInternals)&&V(c)===c},enqueueSetState:function(c,h,_){c=c._reactInternals;var T=ri(),w=sn(c),I=Ya(T,w);I.payload=h,_!=null&&(I.callback=_),(h=Ss(c,I,w))!==null&&(on(h,c,w,T),rc(h,c,w))},enqueueReplaceState:function(c,h,_){c=c._reactInternals;var T=ri(),w=sn(c),I=Ya(T,w);I.tag=1,I.payload=h,_!=null&&(I.callback=_),(h=Ss(c,I,w))!==null&&(on(h,c,w,T),rc(h,c,w))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var _=ri(),T=sn(c),w=Ya(_,T);w.tag=2,h!=null&&(w.callback=h),(h=Ss(c,w,T))!==null&&(on(h,c,T,_),rc(h,c,T))}};function Ch(c,h,_,T,w,I,j){return typeof(c=c.stateNode).shouldComponentUpdate=="function"?c.shouldComponentUpdate(T,I,j):!h.prototype||!h.prototype.isPureReactComponent||!xh(_,T)||!xh(w,I)}function Es(c,h,_){var T=!1,w=ao,I=h.contextType;return typeof I=="object"&&I!==null?I=aa(I):(w=Ci(h)?nl:ei.current,I=(T=(T=h.contextTypes)!=null)?so(c,w):ao),h=new h(_,I),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ql,c.stateNode=h,h._reactInternals=c,T&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=w,c.__reactInternalMemoizedMaskedChildContext=I),h}function wh(c,h,_,T){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(_,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(_,T),h.state!==c&&ql.enqueueReplaceState(h,h.state,null)}function Ql(c,h,_,T){var w=c.stateNode;w.props=_,w.state=c.memoizedState,w.refs=dg,Th(c);var I=h.contextType;typeof I=="object"&&I!==null?w.context=aa(I):(I=Ci(h)?nl:ei.current,w.context=so(c,I)),w.state=c.memoizedState,typeof(I=h.getDerivedStateFromProps)=="function"&&(Ff(c,h,I,_),w.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(h=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),h!==w.state&&ql.enqueueReplaceState(w,w.state,null),nc(c,_,w,T),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308)}function ic(c,h,_){if((c=_.ref)!==null&&typeof c!="function"&&typeof c!="object"){if(_._owner){if(_=_._owner){if(_.tag!==1)throw Error(a(309));var T=_.stateNode}if(!T)throw Error(a(147,c));var w=T,I=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===I?h.ref:(h=function(j){var ie=w.refs;ie===dg&&(ie=w.refs={}),j===null?delete ie[I]:ie[I]=j},h._stringRef=I,h)}if(typeof c!="string")throw Error(a(284));if(!_._owner)throw Error(a(290,c))}return c}function Kl(c,h){throw c=Object.prototype.toString.call(h),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function fg(c){return(0,c._init)(c._payload)}function Ah(c){function h(De,ue){if(c){var be=De.deletions;be===null?(De.deletions=[ue],De.flags|=16):be.push(ue)}}function _(De,ue){if(!c)return null;for(;ue!==null;)h(De,ue),ue=ue.sibling;return null}function T(De,ue){for(De=new Map;ue!==null;)ue.key!==null?De.set(ue.key,ue):De.set(ue.index,ue),ue=ue.sibling;return De}function w(De,ue){return(De=bn(De,ue)).index=0,De.sibling=null,De}function I(De,ue,be){return De.index=be,c?(be=De.alternate)!==null?(be=be.index)<ue?(De.flags|=2,ue):be:(De.flags|=2,ue):(De.flags|=1048576,ue)}function j(De){return c&&De.alternate===null&&(De.flags|=2),De}function ie(De,ue,be,Ue){return ue===null||ue.tag!==6?((ue=cp(be,De.mode,Ue)).return=De,ue):((ue=w(ue,be)).return=De,ue)}function he(De,ue,be,Ue){var pt=be.type;return pt===p?Me(De,ue,be.props.children,Ue,be.key):ue!==null&&(ue.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===L&&fg(pt)===ue.type)?((Ue=w(ue,be.props)).ref=ic(De,ue,be),Ue.return=De,Ue):((Ue=Di(be.type,be.key,be.props,null,De.mode,Ue)).ref=ic(De,ue,be),Ue.return=De,Ue)}function Se(De,ue,be,Ue){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==be.containerInfo||ue.stateNode.implementation!==be.implementation?((ue=ed(be,De.mode,Ue)).return=De,ue):((ue=w(ue,be.children||[])).return=De,ue)}function Me(De,ue,be,Ue,pt){return ue===null||ue.tag!==7?((ue=Oi(be,De.mode,Ue,pt)).return=De,ue):((ue=w(ue,be)).return=De,ue)}function Ve(De,ue,be){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return(ue=cp(""+ue,De.mode,be)).return=De,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case u:return(be=Di(ue.type,ue.key,ue.props,null,De.mode,be)).ref=ic(De,null,ue),be.return=De,be;case f:return(ue=ed(ue,De.mode,be)).return=De,ue;case L:return Ve(De,(0,ue._init)(ue._payload),be)}if(Ie(ue)||M(ue))return(ue=Oi(ue,De.mode,be,null)).return=De,ue;Kl(De,ue)}return null}function Re(De,ue,be,Ue){var pt=ue!==null?ue.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return pt!==null?null:ie(De,ue,""+be,Ue);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case u:return be.key===pt?he(De,ue,be,Ue):null;case f:return be.key===pt?Se(De,ue,be,Ue):null;case L:return Re(De,ue,(pt=be._init)(be._payload),Ue)}if(Ie(be)||M(be))return pt!==null?null:Me(De,ue,be,Ue,null);Kl(De,be)}return null}function Le(De,ue,be,Ue,pt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return ie(ue,De=De.get(be)||null,""+Ue,pt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case u:return he(ue,De=De.get(Ue.key===null?be:Ue.key)||null,Ue,pt);case f:return Se(ue,De=De.get(Ue.key===null?be:Ue.key)||null,Ue,pt);case L:return Le(De,ue,be,(0,Ue._init)(Ue._payload),pt)}if(Ie(Ue)||M(Ue))return Me(ue,De=De.get(be)||null,Ue,pt,null);Kl(ue,Ue)}return null}function at(De,ue,be,Ue){for(var pt=null,ar=null,Ke=ue,jt=ue=0,jn=null;Ke!==null&&jt<be.length;jt++){Ke.index>jt?(jn=Ke,Ke=null):jn=Ke.sibling;var lr=Re(De,Ke,be[jt],Ue);if(lr===null){Ke===null&&(Ke=jn);break}c&&Ke&&lr.alternate===null&&h(De,Ke),ue=I(lr,ue,jt),ar===null?pt=lr:ar.sibling=lr,ar=lr,Ke=jn}if(jt===be.length)return _(De,Ke),Ur&&lo(De,jt),pt;if(Ke===null){for(;jt<be.length;jt++)(Ke=Ve(De,be[jt],Ue))!==null&&(ue=I(Ke,ue,jt),ar===null?pt=Ke:ar.sibling=Ke,ar=Ke);return Ur&&lo(De,jt),pt}for(Ke=T(De,Ke);jt<be.length;jt++)(jn=Le(Ke,De,jt,be[jt],Ue))!==null&&(c&&jn.alternate!==null&&Ke.delete(jn.key===null?jt:jn.key),ue=I(jn,ue,jt),ar===null?pt=jn:ar.sibling=jn,ar=jn);return c&&Ke.forEach(function(jr){return h(De,jr)}),Ur&&lo(De,jt),pt}function Nt(De,ue,be,Ue){var pt=M(be);if(typeof pt!="function")throw Error(a(150));if((be=pt.call(be))==null)throw Error(a(151));for(var ar=pt=null,Ke=ue,jt=ue=0,jn=null,lr=be.next();Ke!==null&&!lr.done;jt++,lr=be.next()){Ke.index>jt?(jn=Ke,Ke=null):jn=Ke.sibling;var jr=Re(De,Ke,lr.value,Ue);if(jr===null){Ke===null&&(Ke=jn);break}c&&Ke&&jr.alternate===null&&h(De,Ke),ue=I(jr,ue,jt),ar===null?pt=jr:ar.sibling=jr,ar=jr,Ke=jn}if(lr.done)return _(De,Ke),Ur&&lo(De,jt),pt;if(Ke===null){for(;!lr.done;jt++,lr=be.next())(lr=Ve(De,lr.value,Ue))!==null&&(ue=I(lr,ue,jt),ar===null?pt=lr:ar.sibling=lr,ar=lr);return Ur&&lo(De,jt),pt}for(Ke=T(De,Ke);!lr.done;jt++,lr=be.next())(lr=Le(Ke,De,jt,lr.value,Ue))!==null&&(c&&lr.alternate!==null&&Ke.delete(lr.key===null?jt:lr.key),ue=I(lr,ue,jt),ar===null?pt=lr:ar.sibling=lr,ar=lr);return c&&Ke.forEach(function(Yr){return h(De,Yr)}),Ur&&lo(De,jt),pt}return function De(ue,be,Ue,pt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===p&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case u:e:{for(var ar=Ue.key,Ke=be;Ke!==null;){if(Ke.key===ar){if((ar=Ue.type)===p){if(Ke.tag===7){_(ue,Ke.sibling),(be=w(Ke,Ue.props.children)).return=ue,ue=be;break e}}else if(Ke.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===L&&fg(ar)===Ke.type){_(ue,Ke.sibling),(be=w(Ke,Ue.props)).ref=ic(ue,Ke,Ue),be.return=ue,ue=be;break e}_(ue,Ke);break}h(ue,Ke),Ke=Ke.sibling}Ue.type===p?((be=Oi(Ue.props.children,ue.mode,pt,Ue.key)).return=ue,ue=be):((pt=Di(Ue.type,Ue.key,Ue.props,null,ue.mode,pt)).ref=ic(ue,be,Ue),pt.return=ue,ue=pt)}return j(ue);case f:e:{for(Ke=Ue.key;be!==null;){if(be.key===Ke){if(be.tag===4&&be.stateNode.containerInfo===Ue.containerInfo&&be.stateNode.implementation===Ue.implementation){_(ue,be.sibling),(be=w(be,Ue.children||[])).return=ue,ue=be;break e}_(ue,be);break}h(ue,be),be=be.sibling}(be=ed(Ue,ue.mode,pt)).return=ue,ue=be}return j(ue);case L:return De(ue,be,(Ke=Ue._init)(Ue._payload),pt)}if(Ie(Ue))return at(ue,be,Ue,pt);if(M(Ue))return Nt(ue,be,Ue,pt);Kl(ue,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"?(Ue=""+Ue,be!==null&&be.tag===6?(_(ue,be.sibling),(be=w(be,Ue)).return=ue,ue=be):(_(ue,be),(be=cp(Ue,ue.mode,pt)).return=ue,ue=be),j(ue)):_(ue,be)}}var Zl=Ah(!0),Rh=Ah(!1),Jl={},$i=Jr(Jl),eu=Jr(Jl),Ts=Jr(Jl);function en(c){if(c===Jl)throw Error(a(174));return c}function ac(c,h){Tr(Ts,h),Tr(eu,c),Tr($i,Jl),c=W(h),Er($i),Tr($i,c)}function Cs(){Er($i),Er(eu),Er(Ts)}function qa(c){var h=en(Ts.current),_=en($i.current);_!==(h=k(_,c.type,h))&&(Tr(eu,c),Tr($i,h))}function Qa(c){eu.current===c&&(Er($i),Er(eu))}var zt=Jr(0);function tn(c){for(var h=c;h!==null;){if(h.tag===13){var _=h.memoizedState;if(_!==null&&((_=_.dehydrated)===null||_a(_)||Br(_)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((128&h.flags)!=0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var sc=[];function hi(){for(var c=0;c<sc.length;c++){var h=sc[c];ve?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}sc.length=0}var oa=l.ReactCurrentDispatcher,la=l.ReactCurrentBatchConfig,ws=0,pr=null,mn=null,zr=null,sl=!1,Pi=!1,uo=0,Lf=0;function Gn(){throw Error(a(321))}function Ph(c,h){if(h===null)return!1;for(var _=0;_<h.length&&_<c.length;_++)if(!ba(c[_],h[_]))return!1;return!0}function tu(c,h,_,T,w,I){if(ws=I,pr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,oa.current=c===null||c.memoizedState===null?zf:Gf,c=_(T,w),Pi){I=0;do{if(Pi=!1,uo=0,25<=I)throw Error(a(301));I+=1,zr=mn=null,h.updateQueue=null,oa.current=Hf,c=_(T,w)}while(Pi)}if(oa.current=au,h=mn!==null&&mn.next!==null,ws=0,zr=mn=pr=null,sl=!1,h)throw Error(a(300));return c}function Mh(){var c=uo!==0;return uo=0,c}function Ka(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?pr.memoizedState=zr=c:zr=zr.next=c,zr}function Hn(){if(mn===null){var c=pr.alternate;c=c!==null?c.memoizedState:null}else c=mn.next;var h=zr===null?pr.memoizedState:zr.next;if(h!==null)zr=h,mn=c;else{if(c===null)throw Error(a(310));c={memoizedState:(mn=c).memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},zr===null?pr.memoizedState=zr=c:zr=zr.next=c}return zr}function ru(c,h){return typeof h=="function"?h(c):h}function yt(c){var h=Hn(),_=h.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=c;var T=mn,w=T.baseQueue,I=_.pending;if(I!==null){if(w!==null){var j=w.next;w.next=I.next,I.next=j}T.baseQueue=w=I,_.pending=null}if(w!==null){I=w.next,T=T.baseState;var ie=j=null,he=null,Se=I;do{var Me=Se.lane;if((ws&Me)===Me)he!==null&&(he=he.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),T=Se.hasEagerState?Se.eagerState:c(T,Se.action);else{var Ve={lane:Me,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};he===null?(ie=he=Ve,j=T):he=he.next=Ve,pr.lanes|=Me,pl|=Me}Se=Se.next}while(Se!==null&&Se!==I);he===null?j=T:he.next=ie,ba(T,h.memoizedState)||(rn=!0),h.memoizedState=T,h.baseState=j,h.baseQueue=he,_.lastRenderedState=T}if((c=_.interleaved)!==null){w=c;do I=w.lane,pr.lanes|=I,pl|=I,w=w.next;while(w!==c)}else w===null&&(_.lanes=0);return[h.memoizedState,_.dispatch]}function Gt(c){var h=Hn(),_=h.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=c;var T=_.dispatch,w=_.pending,I=h.memoizedState;if(w!==null){_.pending=null;var j=w=w.next;do I=c(I,j.action),j=j.next;while(j!==w);ba(I,h.memoizedState)||(rn=!0),h.memoizedState=I,h.baseQueue===null&&(h.baseState=I),_.lastRenderedState=I}return[I,T]}function ir(){}function Wr(c,h){var _=pr,T=Hn(),w=h(),I=!ba(T.memoizedState,w);if(I&&(T.memoizedState=w,rn=!0),T=T.queue,Rs(pg.bind(null,_,T,c),[c]),T.getSnapshot!==h||I||zr!==null&&1&zr.memoizedState.tag){if(_.flags|=2048,Oe(9,Bf.bind(null,_,T,w,h),void 0,null),Yt===null)throw Error(a(349));(30&ws)!=0||Sa(_,h,w)}return w}function Sa(c,h,_){c.flags|=16384,c={getSnapshot:h,value:_},(h=pr.updateQueue)===null?(h={lastEffect:null,stores:null},pr.updateQueue=h,h.stores=[c]):(_=h.stores)===null?h.stores=[c]:_.push(c)}function Bf(c,h,_,T){h.value=_,h.getSnapshot=T,mg(h)&&gg(c)}function pg(c,h,_){return _(function(){mg(h)&&gg(c)})}function mg(c){var h=c.getSnapshot;c=c.value;try{var _=h();return!ba(c,_)}catch{return!0}}function gg(c){var h=Xa(c,1);h!==null&&on(h,c,1,-1)}function Ih(c){var h=Ka();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:c},h.queue=c,c=c.dispatch=kf.bind(null,pr,c),[h.memoizedState,c]}function Oe(c,h,_,T){return c={tag:c,create:h,destroy:_,deps:T,next:null},(h=pr.updateQueue)===null?(h={lastEffect:null,stores:null},pr.updateQueue=h,h.lastEffect=c.next=c):(_=h.lastEffect)===null?h.lastEffect=c.next=c:(T=_.next,_.next=c,c.next=T,h.lastEffect=c),c}function gn(){return Hn().memoizedState}function _t(c,h,_,T){var w=Ka();pr.flags|=c,w.memoizedState=Oe(1|h,_,void 0,T===void 0?null:T)}function As(c,h,_,T){var w=Hn();T=T===void 0?null:T;var I=void 0;if(mn!==null){var j=mn.memoizedState;if(I=j.destroy,T!==null&&Ph(T,j.deps))return void(w.memoizedState=Oe(h,_,I,T))}pr.flags|=c,w.memoizedState=Oe(1|h,_,I,T)}function Za(c,h){return _t(8390656,8,c,h)}function Rs(c,h){return As(2048,8,c,h)}function Ea(c,h){return As(4,2,c,h)}function nu(c,h){return As(4,4,c,h)}function ol(c,h){return typeof h=="function"?(c=c(),h(c),function(){h(null)}):h!=null?(c=c(),h.current=c,function(){h.current=null}):void 0}function iu(c,h,_){return _=_!=null?_.concat([c]):null,As(4,4,ol.bind(null,h,c),_)}function oc(){}function Dh(c,h){var _=Hn();h=h===void 0?null:h;var T=_.memoizedState;return T!==null&&h!==null&&Ph(h,T[1])?T[0]:(_.memoizedState=[c,h],c)}function Oh(c,h){var _=Hn();h=h===void 0?null:h;var T=_.memoizedState;return T!==null&&h!==null&&Ph(h,T[1])?T[0]:(c=c(),_.memoizedState=[c,h],c)}function Fh(c,h,_){return(21&ws)==0?(c.baseState&&(c.baseState=!1,rn=!0),c.memoizedState=_):(ba(_,h)||(_=tg(),pr.lanes|=_,pl|=_,c.baseState=!0),h)}function Nf(c,h){var _=tr;tr=_!==0&&4>_?_:4,c(!0);var T=la.transition;la.transition={};try{c(!1),h()}finally{tr=_,la.transition=T}}function Lh(){return Hn().memoizedState}function Uf(c,h,_){var T=sn(c);_={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null},Bh(c)?Nh(h,_):(_=hg(c,h,_,T))!==null&&(on(_,c,T,ri()),Uh(_,h,T))}function kf(c,h,_){var T=sn(c),w={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null};if(Bh(c))Nh(h,w);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=h.lastRenderedReducer)!==null)try{var j=h.lastRenderedState,ie=I(j,_);if(w.hasEagerState=!0,w.eagerState=ie,ba(ie,j)){var he=h.interleaved;return he===null?(w.next=w,Mf(h)):(w.next=he.next,he.next=w),void(h.interleaved=w)}}catch{}(_=hg(c,h,w,T))!==null&&(on(_,c,T,w=ri()),Uh(_,h,T))}}function Bh(c){var h=c.alternate;return c===pr||h!==null&&h===pr}function Nh(c,h){Pi=sl=!0;var _=c.pending;_===null?h.next=h:(h.next=_.next,_.next=h),c.pending=h}function Uh(c,h,_){if((4194240&_)!=0){var T=h.lanes;_|=T&=c.pendingLanes,h.lanes=_,oo(c,_)}}var au={readContext:aa,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},zf={readContext:aa,useCallback:function(c,h){return Ka().memoizedState=[c,h===void 0?null:h],c},useContext:aa,useEffect:Za,useImperativeHandle:function(c,h,_){return _=_!=null?_.concat([c]):null,_t(4194308,4,ol.bind(null,h,c),_)},useLayoutEffect:function(c,h){return _t(4194308,4,c,h)},useInsertionEffect:function(c,h){return _t(4,2,c,h)},useMemo:function(c,h){var _=Ka();return h=h===void 0?null:h,c=c(),_.memoizedState=[c,h],c},useReducer:function(c,h,_){var T=Ka();return h=_!==void 0?_(h):h,T.memoizedState=T.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},T.queue=c,c=c.dispatch=Uf.bind(null,pr,c),[T.memoizedState,c]},useRef:function(c){return c={current:c},Ka().memoizedState=c},useState:Ih,useDebugValue:oc,useDeferredValue:function(c){return Ka().memoizedState=c},useTransition:function(){var c=Ih(!1),h=c[0];return c=Nf.bind(null,c[1]),Ka().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,_){var T=pr,w=Ka();if(Ur){if(_===void 0)throw Error(a(407));_=_()}else{if(_=h(),Yt===null)throw Error(a(349));(30&ws)!=0||Sa(T,h,_)}w.memoizedState=_;var I={value:_,getSnapshot:h};return w.queue=I,Za(pg.bind(null,T,I,c),[c]),T.flags|=2048,Oe(9,Bf.bind(null,T,I,_,h),void 0,null),_},useId:function(){var c=Ka(),h=Yt.identifierPrefix;if(Ur){var _=Wa;h=":"+h+"R"+(_=(ia&~(1<<32-Hi(ia)-1)).toString(32)+_),0<(_=uo++)&&(h+="H"+_.toString(32)),h+=":"}else h=":"+h+"r"+(_=Lf++).toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},Gf={readContext:aa,useCallback:Dh,useContext:aa,useEffect:Rs,useImperativeHandle:iu,useInsertionEffect:Ea,useLayoutEffect:nu,useMemo:Oh,useReducer:yt,useRef:gn,useState:function(){return yt(ru)},useDebugValue:oc,useDeferredValue:function(c){return Fh(Hn(),mn.memoizedState,c)},useTransition:function(){return[yt(ru)[0],Hn().memoizedState]},useMutableSource:ir,useSyncExternalStore:Wr,useId:Lh,unstable_isNewReconciler:!1},Hf={readContext:aa,useCallback:Dh,useContext:aa,useEffect:Rs,useImperativeHandle:iu,useInsertionEffect:Ea,useLayoutEffect:nu,useMemo:Oh,useReducer:Gt,useRef:gn,useState:function(){return Gt(ru)},useDebugValue:oc,useDeferredValue:function(c){var h=Hn();return mn===null?h.memoizedState=c:Fh(h,mn.memoizedState,c)},useTransition:function(){return[Gt(ru)[0],Hn().memoizedState]},useMutableSource:ir,useSyncExternalStore:Wr,useId:Lh,unstable_isNewReconciler:!1};function Ps(c,h){try{var _="",T=h;do _+=x0(T),T=T.return;while(T);var w=_}catch(I){w=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:h,stack:w,digest:null}}function co(c,h,_){return{value:c,source:null,stack:_??null,digest:h??null}}function lc(c,h){try{console.error(h.value)}catch(_){setTimeout(function(){throw _})}}var Vf=typeof WeakMap=="function"?WeakMap:Map;function kh(c,h,_){(_=Ya(-1,_)).tag=3,_.payload={element:null};var T=h.value;return _.callback=function(){Yh||(Yh=!0,ip=T),lc(0,h)},_}function zh(c,h,_){(_=Ya(-1,_)).tag=3;var T=c.type.getDerivedStateFromError;if(typeof T=="function"){var w=h.value;_.payload=function(){return T(w)},_.callback=function(){lc(0,h)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(_.callback=function(){lc(0,h),typeof T!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})}),_}function jf(c,h,_){var T=c.pingCache;if(T===null){T=c.pingCache=new Vf;var w=new Set;T.set(h,w)}else(w=T.get(h))===void 0&&(w=new Set,T.set(h,w));w.has(_)||(w.add(_),c=lp.bind(null,c,h,_),h.then(c,c))}function su(c){do{var h;if((h=c.tag===13)&&(h=(h=c.memoizedState)===null||h.dehydrated!==null),h)return c;c=c.return}while(c!==null);return null}function $f(c,h,_,T,w){return(1&c.mode)==0?(c===h?c.flags|=65536:(c.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:((h=Ya(-1,1)).tag=2,Ss(_,h,1))),_.lanes|=1),c):(c.flags|=65536,c.lanes=w,c)}var uc=l.ReactCurrentOwner,rn=!1;function Cr(c,h,_,T){h.child=c===null?Rh(h,null,_,T):Zl(h,c.child,_,T)}function vg(c,h,_,T,w){_=_.render;var I=h.ref;return Yl(h,w),T=tu(c,h,_,T,I,w),_=Mh(),c===null||rn?(Ur&&_&&xf(h),h.flags|=1,Cr(c,h,T,w),h.child):(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~w,di(c,h,w))}function _r(c,h,_,T,w){if(c===null){var I=_.type;return typeof I!="function"||_n(I)||I.defaultProps!==void 0||_.compare!==null||_.defaultProps!==void 0?((c=Di(_.type,null,T,h,h.mode,w)).ref=h.ref,c.return=h,h.child=c):(h.tag=15,h.type=I,cc(c,h,I,T,w))}if(I=c.child,(c.lanes&w)==0){var j=I.memoizedProps;if((_=(_=_.compare)!==null?_:xh)(j,T)&&c.ref===h.ref)return di(c,h,w)}return h.flags|=1,(c=bn(I,T)).ref=h.ref,c.return=h,h.child=c}function cc(c,h,_,T,w){if(c!==null){var I=c.memoizedProps;if(xh(I,T)&&c.ref===h.ref){if(rn=!1,h.pendingProps=T=I,(c.lanes&w)==0)return h.lanes=c.lanes,di(c,h,w);(131072&c.flags)!=0&&(rn=!0)}}return lu(c,h,_,T,w)}function hc(c,h,_){var T=h.pendingProps,w=T.children,I=c!==null?c.memoizedState:null;if(T.mode==="hidden")if((1&h.mode)==0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(fl,Xi),Xi|=_;else{if((1073741824&_)==0)return c=I!==null?I.baseLanes|_:_,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,Tr(fl,Xi),Xi|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=I!==null?I.baseLanes:_,Tr(fl,Xi),Xi|=T}else I!==null?(T=I.baseLanes|_,h.memoizedState=null):T=_,Tr(fl,Xi),Xi|=T;return Cr(c,h,w,_),h.child}function ou(c,h){var _=h.ref;(c===null&&_!==null||c!==null&&c.ref!==_)&&(h.flags|=512,h.flags|=2097152)}function lu(c,h,_,T,w){var I=Ci(_)?nl:ei.current;return I=so(h,I),Yl(h,w),_=tu(c,h,_,T,I,w),T=Mh(),c===null||rn?(Ur&&T&&xf(h),h.flags|=1,Cr(c,h,_,w),h.child):(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~w,di(c,h,w))}function yg(c,h,_,T,w){if(Ci(_)){var I=!0;Ju(h)}else I=!1;if(Yl(h,w),h.stateNode===null)fo(c,h),Es(h,_,T),Ql(h,_,T,w),T=!0;else if(c===null){var j=h.stateNode,ie=h.memoizedProps;j.props=ie;var he=j.context,Se=_.contextType;typeof Se=="object"&&Se!==null?Se=aa(Se):Se=so(h,Se=Ci(_)?nl:ei.current);var Me=_.getDerivedStateFromProps,Ve=typeof Me=="function"||typeof j.getSnapshotBeforeUpdate=="function";Ve||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ie!==T||he!==Se)&&wh(h,j,T,Se),sa=!1;var Re=h.memoizedState;j.state=Re,nc(h,T,j,w),he=h.memoizedState,ie!==T||Re!==he||Ti.current||sa?(typeof Me=="function"&&(Ff(h,_,Me,T),he=h.memoizedState),(ie=sa||Ch(h,_,ie,T,Re,he,Se))?(Ve||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(h.flags|=4194308)):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=he),j.props=T,j.state=he,j.context=Se,T=ie):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{j=h.stateNode,If(c,h),ie=h.memoizedProps,Se=h.type===h.elementType?ie:xa(h.type,ie),j.props=Se,Ve=h.pendingProps,Re=j.context,typeof(he=_.contextType)=="object"&&he!==null?he=aa(he):he=so(h,he=Ci(_)?nl:ei.current);var Le=_.getDerivedStateFromProps;(Me=typeof Le=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ie!==Ve||Re!==he)&&wh(h,j,T,he),sa=!1,Re=h.memoizedState,j.state=Re,nc(h,T,j,w);var at=h.memoizedState;ie!==Ve||Re!==at||Ti.current||sa?(typeof Le=="function"&&(Ff(h,_,Le,T),at=h.memoizedState),(Se=sa||Ch(h,_,Se,T,Re,at,he)||!1)?(Me||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(T,at,he),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(T,at,he)),typeof j.componentDidUpdate=="function"&&(h.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof j.componentDidUpdate!="function"||ie===c.memoizedProps&&Re===c.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&Re===c.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=at),j.props=T,j.state=at,j.context=he,T=Se):(typeof j.componentDidUpdate!="function"||ie===c.memoizedProps&&Re===c.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ie===c.memoizedProps&&Re===c.memoizedState||(h.flags|=1024),T=!1)}return Wf(c,h,_,T,I,w)}function Wf(c,h,_,T,w,I){ou(c,h);var j=(128&h.flags)!=0;if(!T&&!j)return w&&eg(h,_,!1),di(c,h,I);T=h.stateNode,uc.current=h;var ie=j&&typeof _.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,c!==null&&j?(h.child=Zl(h,c.child,null,I),h.child=Zl(h,null,ie,I)):Cr(c,h,ie,I),h.memoizedState=T.state,w&&eg(h,_,!0),h.child}function _g(c){var h=c.stateNode;h.pendingContext?dh(0,h.pendingContext,h.pendingContext!==h.context):h.context&&dh(0,h.context,!1),ac(c,h.containerInfo)}function bg(c,h,_,T,w){return Wl(),Cf(w),h.flags|=256,Cr(c,h,_,T),h.child}var ll,dc,uu,fc,Xf={dehydrated:null,treeContext:null,retryLane:0};function Yf(c){return{baseLanes:c,cachePool:null,transitions:null}}function pc(c,h,_){var T,w=h.pendingProps,I=zt.current,j=!1,ie=(128&h.flags)!=0;if((T=ie)||(T=(c===null||c.memoizedState!==null)&&(2&I)!=0),T?(j=!0,h.flags&=-129):c!==null&&c.memoizedState===null||(I|=1),Tr(zt,1&I),c===null)return Tf(h),(c=h.memoizedState)!==null&&(c=c.dehydrated)!==null?((1&h.mode)==0?h.lanes=1:Br(c)?h.lanes=8:h.lanes=1073741824,null):(ie=w.children,c=w.fallback,j?(w=h.mode,j=h.child,ie={mode:"hidden",children:ie},(1&w)==0&&j!==null?(j.childLanes=0,j.pendingProps=ie):j=Pa(ie,w,0,null),c=Oi(c,w,_,null),j.return=h,c.return=h,j.sibling=c,h.child=j,h.child.memoizedState=Yf(_),h.memoizedState=Xf,c):qf(h,ie));if((I=c.memoizedState)!==null&&(T=I.dehydrated)!==null)return function(Se,Me,Ve,Re,Le,at,Nt){if(Ve)return 256&Me.flags?(Me.flags&=-257,mc(Se,Me,Nt,Re=co(Error(a(422))))):Me.memoizedState!==null?(Me.child=Se.child,Me.flags|=128,null):(at=Re.fallback,Le=Me.mode,Re=Pa({mode:"visible",children:Re.children},Le,0,null),(at=Oi(at,Le,Nt,null)).flags|=2,Re.return=Me,at.return=Me,Re.sibling=at,Me.child=Re,(1&Me.mode)!=0&&Zl(Me,Se.child,null,Nt),Me.child.memoizedState=Yf(Nt),Me.memoizedState=Xf,at);if((1&Me.mode)==0)return mc(Se,Me,Nt,null);if(Br(Le))return Re=_s(Le).digest,at=Error(a(419)),Re=co(at,Re,void 0),mc(Se,Me,Nt,Re);if(Ve=(Nt&Se.childLanes)!=0,rn||Ve){if((Re=Yt)!==null){switch(Nt&-Nt){case 4:Le=2;break;case 16:Le=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Le=32;break;case 536870912:Le=268435456;break;default:Le=0}(Le=(Le&(Re.suspendedLanes|Nt))!=0?0:Le)!==0&&Le!==at.retryLane&&(at.retryLane=Le,Xa(Se,Le),on(Re,Se,Le,-1))}return Ii(),mc(Se,Me,Nt,Re=co(Error(a(421))))}return _a(Le)?(Me.flags|=128,Me.child=Se.child,Me=E0.bind(null,Se),no(Le,Me),null):(Se=at.treeContext,ke&&(Ai=ht(Le),wi=Me,Ur=!0,Ri=null,tc=!1,Se!==null&&(Vi[ji++]=ia,Vi[ji++]=Wa,Vi[ji++]=il,ia=Se.id,Wa=Se.overflow,il=Me)),Me=qf(Me,Re.children),Me.flags|=4096,Me)}(c,h,ie,w,T,I,_);if(j){j=w.fallback,ie=h.mode,T=(I=c.child).sibling;var he={mode:"hidden",children:w.children};return(1&ie)==0&&h.child!==I?((w=h.child).childLanes=0,w.pendingProps=he,h.deletions=null):(w=bn(I,he)).subtreeFlags=14680064&I.subtreeFlags,T!==null?j=bn(T,j):(j=Oi(j,ie,_,null)).flags|=2,j.return=h,w.return=h,w.sibling=j,h.child=w,w=j,j=h.child,ie=(ie=c.child.memoizedState)===null?Yf(_):{baseLanes:ie.baseLanes|_,cachePool:null,transitions:ie.transitions},j.memoizedState=ie,j.childLanes=c.childLanes&~_,h.memoizedState=Xf,w}return c=(j=c.child).sibling,w=bn(j,{mode:"visible",children:w.children}),(1&h.mode)==0&&(w.lanes=_),w.return=h,w.sibling=null,c!==null&&((_=h.deletions)===null?(h.deletions=[c],h.flags|=16):_.push(c)),h.child=w,h.memoizedState=null,w}function qf(c,h){return(h=Pa({mode:"visible",children:h},c.mode,0,null)).return=c,c.child=h}function mc(c,h,_,T){return T!==null&&Cf(T),Zl(h,c.child,null,_),(c=qf(h,h.pendingProps.children)).flags|=2,h.memoizedState=null,c}function Qf(c,h,_){c.lanes|=h;var T=c.alternate;T!==null&&(T.lanes|=h),Pf(c.return,h,_)}function Kf(c,h,_,T,w){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:w}:(I.isBackwards=h,I.rendering=null,I.renderingStartTime=0,I.last=T,I.tail=_,I.tailMode=w)}function ho(c,h,_){var T=h.pendingProps,w=T.revealOrder,I=T.tail;if(Cr(c,h,T.children,_),(2&(T=zt.current))!=0)T=1&T|2,h.flags|=128;else{if(c!==null&&(128&c.flags)!=0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Qf(c,_,h);else if(c.tag===19)Qf(c,_,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}T&=1}if(Tr(zt,T),(1&h.mode)==0)h.memoizedState=null;else switch(w){case"forwards":for(_=h.child,w=null;_!==null;)(c=_.alternate)!==null&&tn(c)===null&&(w=_),_=_.sibling;(_=w)===null?(w=h.child,h.child=null):(w=_.sibling,_.sibling=null),Kf(h,!1,w,_,I);break;case"backwards":for(_=null,w=h.child,h.child=null;w!==null;){if((c=w.alternate)!==null&&tn(c)===null){h.child=w;break}c=w.sibling,w.sibling=_,_=w,w=c}Kf(h,!0,_,null,I);break;case"together":Kf(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function fo(c,h){(1&h.mode)==0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function di(c,h,_){if(c!==null&&(h.dependencies=c.dependencies),pl|=h.lanes,(_&h.childLanes)==0)return null;if(c!==null&&h.child!==c.child)throw Error(a(153));if(h.child!==null){for(_=bn(c=h.child,c.pendingProps),h.child=_,_.return=h;c.sibling!==null;)c=c.sibling,(_=_.sibling=bn(c,c.pendingProps)).return=h;_.sibling=null}return h.child}function ua(c){c.flags|=4}function Mi(c,h){if(c!==null&&c.child===h.child)return!0;if((16&h.flags)!=0)return!1;for(c=h.child;c!==null;){if((12854&c.flags)!=0||(12854&c.subtreeFlags)!=0)return!1;c=c.sibling}return!0}if(Ae)ll=function(c,h){for(var _=h.child;_!==null;){if(_.tag===5||_.tag===6)Y(c,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},dc=function(){},uu=function(c,h,_,T,w){if((c=c.memoizedProps)!==T){var I=h.stateNode,j=en($i.current);_=se(I,_,c,T,w,j),(h.updateQueue=_)&&ua(h)}},fc=function(c,h,_,T){_!==T&&ua(h)};else if(fe){ll=function(c,h,_,T){for(var w=h.child;w!==null;){if(w.tag===5){var I=w.stateNode;_&&T&&(I=Lr(I,w.type,w.memoizedProps,w)),Y(c,I)}else if(w.tag===6)I=w.stateNode,_&&T&&(I=ui(I,w.memoizedProps,w)),Y(c,I);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(I=w.child)!==null&&(I.return=w),ll(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var ul=function(c,h,_,T){for(var w=h.child;w!==null;){if(w.tag===5){var I=w.stateNode;_&&T&&(I=Lr(I,w.type,w.memoizedProps,w)),Vr(c,I)}else if(w.tag===6)I=w.stateNode,_&&T&&(I=ui(I,w.memoizedProps,w)),Vr(c,I);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(I=w.child)!==null&&(I.return=w),ul(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};dc=function(c,h){var _=h.stateNode;if(!Mi(c,h)){c=_.containerInfo;var T=St(c);ul(T,h,!1,!1),_.pendingChildren=T,ua(h),Gi(c,T)}},uu=function(c,h,_,T,w){var I=c.stateNode,j=c.memoizedProps;if((c=Mi(c,h))&&j===T)h.stateNode=I;else{var ie=h.stateNode,he=en($i.current),Se=null;j!==T&&(Se=se(ie,_,j,T,w,he)),c&&Se===null?h.stateNode=I:(I=zi(I,Se,_,j,T,h,c,ie),K(I,_,T,w,he)&&ua(h),h.stateNode=I,c?ua(h):ll(I,h,!1,!1))}},fc=function(c,h,_,T){_!==T?(c=en(Ts.current),_=en($i.current),h.stateNode=de(T,c,_,h),ua(h)):h.stateNode=c.stateNode}}else dc=function(){},uu=function(){},fc=function(){};function It(c,h){if(!Ur)switch(c.tailMode){case"hidden":h=c.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?c.tail=null:_.sibling=null;break;case"collapsed":_=c.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:T.sibling=null}}function Mn(c){var h=c.alternate!==null&&c.alternate.child===c.child,_=0,T=0;if(h)for(var w=c.child;w!==null;)_|=w.lanes|w.childLanes,T|=14680064&w.subtreeFlags,T|=14680064&w.flags,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)_|=w.lanes|w.childLanes,T|=w.subtreeFlags,T|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=T,c.childLanes=_,h}function xg(c,h,_){var T=h.pendingProps;switch(Sf(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(h),null;case 1:case 17:return Ci(h.type)&&hh(),Mn(h),null;case 3:return _=h.stateNode,Cs(),Er(Ti),Er(ei),hi(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),c!==null&&c.child!==null||(bh(h)?ua(h):c===null||c.memoizedState.isDehydrated&&(256&h.flags)==0||(h.flags|=1024,Ri!==null&&(sp(Ri),Ri=null))),dc(c,h),Mn(h),null;case 5:Qa(h),_=en(Ts.current);var w=h.type;if(c!==null&&h.stateNode!=null)uu(c,h,w,T,_),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(a(166));return Mn(h),null}if(c=en($i.current),bh(h)){if(!ke)throw Error(a(175));c=kt(h.stateNode,h.type,h.memoizedProps,_,c,h,!tc),h.updateQueue=c,c!==null&&ua(h)}else{var I=H(w,T,_,c,h);ll(I,h,!1,!1),h.stateNode=I,K(I,w,T,_,c)&&ua(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Mn(h),null;case 6:if(c&&h.stateNode!=null)fc(c,h,c.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(a(166));if(c=en(Ts.current),_=en($i.current),bh(h)){if(!ke)throw Error(a(176));if(c=h.stateNode,_=h.memoizedProps,(T=Zt(c,_,h,!tc))&&(w=wi)!==null)switch(w.tag){case 3:bs(w.stateNode.containerInfo,c,_,(1&w.mode)!=0);break;case 5:zn(w.type,w.memoizedProps,w.stateNode,c,_,(1&w.mode)!=0)}T&&ua(h)}else h.stateNode=de(T,c,_,h)}return Mn(h),null;case 13:if(Er(zt),T=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Ur&&Ai!==null&&(1&h.mode)!=0&&(128&h.flags)==0)ug(),Wl(),h.flags|=98560,w=!1;else if(w=bh(h),T!==null&&T.dehydrated!==null){if(c===null){if(!w)throw Error(a(318));if(!ke)throw Error(a(344));if(!(w=(w=h.memoizedState)!==null?w.dehydrated:null))throw Error(a(317));Ot(w,h)}else Wl(),(128&h.flags)==0&&(h.memoizedState=null),h.flags|=4;Mn(h),w=!1}else Ri!==null&&(sp(Ri),Ri=null),w=!0;if(!w)return 65536&h.flags?h:null}return(128&h.flags)!=0?(h.lanes=_,h):((_=T!==null)!=(c!==null&&c.memoizedState!==null)&&_&&(h.child.flags|=8192,(1&h.mode)!=0&&(c===null||(1&zt.current)!=0?Gr===0&&(Gr=3):Ii())),h.updateQueue!==null&&(h.flags|=4),Mn(h),null);case 4:return Cs(),dc(c,h),c===null&&He(h.stateNode.containerInfo),Mn(h),null;case 10:return Rf(h.type._context),Mn(h),null;case 19:if(Er(zt),(w=h.memoizedState)===null)return Mn(h),null;if(T=(128&h.flags)!=0,(I=w.rendering)===null)if(T)It(w,!1);else{if(Gr!==0||c!==null&&(128&c.flags)!=0)for(c=h.child;c!==null;){if((I=tn(c))!==null){for(h.flags|=128,It(w,!1),(c=I.updateQueue)!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=_,_=h.child;_!==null;)w=c,(T=_).flags&=14680066,(I=T.alternate)===null?(T.childLanes=0,T.lanes=w,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=I.childLanes,T.lanes=I.lanes,T.child=I.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=I.memoizedProps,T.memoizedState=I.memoizedState,T.updateQueue=I.updateQueue,T.type=I.type,w=I.dependencies,T.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),_=_.sibling;return Tr(zt,1&zt.current|2),h.child}c=c.sibling}w.tail!==null&&Pn()>Xh&&(h.flags|=128,T=!0,It(w,!1),h.lanes=4194304)}else{if(!T)if((c=tn(I))!==null){if(h.flags|=128,T=!0,(c=c.updateQueue)!==null&&(h.updateQueue=c,h.flags|=4),It(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!Ur)return Mn(h),null}else 2*Pn()-w.renderingStartTime>Xh&&_!==1073741824&&(h.flags|=128,T=!0,It(w,!1),h.lanes=4194304);w.isBackwards?(I.sibling=h.child,h.child=I):((c=w.last)!==null?c.sibling=I:h.child=I,w.last=I)}return w.tail!==null?(h=w.tail,w.rendering=h,w.tail=h.sibling,w.renderingStartTime=Pn(),h.sibling=null,c=zt.current,Tr(zt,T?1&c|2:1&c),h):(Mn(h),null);case 22:case 23:return go(),_=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==_&&(h.flags|=8192),_&&(1&h.mode)!=0?(1073741824&Xi)!=0&&(Mn(h),Ae&&6&h.subtreeFlags&&(h.flags|=8192)):Mn(h),null;case 24:case 25:return null}throw Error(a(156,h.tag))}function B1(c,h){switch(Sf(h),h.tag){case 1:return Ci(h.type)&&hh(),65536&(c=h.flags)?(h.flags=-65537&c|128,h):null;case 3:return Cs(),Er(Ti),Er(ei),hi(),(65536&(c=h.flags))!=0&&(128&c)==0?(h.flags=-65537&c|128,h):null;case 5:return Qa(h),null;case 13:if(Er(zt),(c=h.memoizedState)!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(a(340));Wl()}return 65536&(c=h.flags)?(h.flags=-65537&c|128,h):null;case 19:return Er(zt),null;case 4:return Cs(),null;case 10:return Rf(h.type._context),null;case 22:case 23:return go(),null;default:return null}}var Gh=!1,In=!1,gc=typeof WeakSet=="function"?WeakSet:Set,nt=null;function cl(c,h){var _=c.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(T){Rr(c,h,T)}else _.current=null}function Sg(c,h,_){try{_()}catch(T){Rr(c,h,T)}}var Hh=!1;function vc(c,h,_){var T=h.updateQueue;if((T=T!==null?T.lastEffect:null)!==null){var w=T=T.next;do{if((w.tag&c)===c){var I=w.destroy;w.destroy=void 0,I!==void 0&&Sg(h,_,I)}w=w.next}while(w!==T)}}function yc(c,h){if((h=(h=h.updateQueue)!==null?h.lastEffect:null)!==null){var _=h=h.next;do{if((_.tag&c)===c){var T=_.create;_.destroy=T()}_=_.next}while(_!==h)}}function Vh(c){var h=c.ref;if(h!==null){var _=c.stateNode;c.tag===5?c=G(_):c=_,typeof h=="function"?h(c):h.current=c}}function Zf(c){var h=c.alternate;h!==null&&(c.alternate=null,Zf(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode)!==null&&Kt(h),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Ta(c){return c.tag===5||c.tag===3||c.tag===4}function cu(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Ta(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(2&c.flags||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(2&c.flags))return c.stateNode}}function hl(c,h,_){var T=c.tag;if(T===5||T===6)c=c.stateNode,h?pn(_,c,h):We(_,c);else if(T!==4&&(c=c.child)!==null)for(hl(c,h,_),c=c.sibling;c!==null;)hl(c,h,_),c=c.sibling}function _c(c,h,_){var T=c.tag;if(T===5||T===6)c=c.stateNode,h?Ct(_,c,h):ro(_,c);else if(T!==4&&(c=c.child)!==null)for(_c(c,h,_),c=c.sibling;c!==null;)_c(c,h,_),c=c.sibling}var vn=null,nn=!1;function br(c,h,_){for(_=_.child;_!==null;)Jf(c,h,_),_=_.sibling}function Jf(c,h,_){if(ja&&typeof ja.onCommitFiberUnmount=="function")try{ja.onCommitFiberUnmount(mh,_)}catch{}switch(_.tag){case 5:In||cl(_,h);case 6:if(Ae){var T=vn,w=nn;vn=null,br(c,h,_),nn=w,(vn=T)!==null&&(nn?ne(vn,_.stateNode):Fr(vn,_.stateNode))}else br(c,h,_);break;case 18:Ae&&vn!==null&&(nn?Zr(vn,_.stateNode):Nr(vn,_.stateNode));break;case 4:Ae?(T=vn,w=nn,vn=_.stateNode.containerInfo,nn=!0,br(c,h,_),vn=T,nn=w):(fe&&(T=_.stateNode.containerInfo,w=St(T),Rn(T,w)),br(c,h,_));break;case 0:case 11:case 14:case 15:if(!In&&(T=_.updateQueue)!==null&&(T=T.lastEffect)!==null){w=T=T.next;do{var I=w,j=I.destroy;I=I.tag,j!==void 0&&((2&I)!=0||(4&I)!=0)&&Sg(_,h,j),w=w.next}while(w!==T)}br(c,h,_);break;case 1:if(!In&&(cl(_,h),typeof(T=_.stateNode).componentWillUnmount=="function"))try{T.props=_.memoizedProps,T.state=_.memoizedState,T.componentWillUnmount()}catch(ie){Rr(_,h,ie)}br(c,h,_);break;case 21:br(c,h,_);break;case 22:1&_.mode?(In=(T=In)||_.memoizedState!==null,br(c,h,_),In=T):br(c,h,_);break;default:br(c,h,_)}}function Eg(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var _=c.stateNode;_===null&&(_=c.stateNode=new gc),h.forEach(function(T){var w=up.bind(null,c,T);_.has(T)||(_.add(T),T.then(w,w))})}}function Ca(c,h){var _=h.deletions;if(_!==null)for(var T=0;T<_.length;T++){var w=_[T];try{var I=c,j=h;if(Ae){var ie=j;e:for(;ie!==null;){switch(ie.tag){case 5:vn=ie.stateNode,nn=!1;break e;case 3:case 4:vn=ie.stateNode.containerInfo,nn=!0;break e}ie=ie.return}if(vn===null)throw Error(a(160));Jf(I,j,w),vn=null,nn=!1}else Jf(I,j,w);var he=w.alternate;he!==null&&(he.return=null),w.return=null}catch(Se){Rr(w,h,Se)}}if(12854&h.subtreeFlags)for(h=h.child;h!==null;)ep(h,c),h=h.sibling}function ep(c,h){var _=c.alternate,T=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Ca(h,c),wa(c),4&T){try{vc(3,c,c.return),yc(3,c)}catch(Re){Rr(c,c.return,Re)}try{vc(5,c,c.return)}catch(Re){Rr(c,c.return,Re)}}break;case 1:Ca(h,c),wa(c),512&T&&_!==null&&cl(_,_.return);break;case 5:if(Ca(h,c),wa(c),512&T&&_!==null&&cl(_,_.return),Ae){if(32&c.flags){var w=c.stateNode;try{te(w)}catch(Re){Rr(c,c.return,Re)}}if(4&T&&(w=c.stateNode)!=null){var I=c.memoizedProps;if(_=_!==null?_.memoizedProps:I,T=c.type,h=c.updateQueue,c.updateQueue=null,h!==null)try{or(w,h,T,_,I,c)}catch(Re){Rr(c,c.return,Re)}}}break;case 6:if(Ca(h,c),wa(c),4&T&&Ae){if(c.stateNode===null)throw Error(a(162));w=c.stateNode,I=c.memoizedProps,_=_!==null?_.memoizedProps:I;try{ot(w,_,I)}catch(Re){Rr(c,c.return,Re)}}break;case 3:if(Ca(h,c),wa(c),4&T){if(Ae&&ke&&_!==null&&_.memoizedState.isDehydrated)try{hr(h.containerInfo)}catch(Re){Rr(c,c.return,Re)}if(fe){w=h.containerInfo,I=h.pendingChildren;try{Rn(w,I)}catch(Re){Rr(c,c.return,Re)}}}break;case 4:if(Ca(h,c),wa(c),4&T&&fe){w=(I=c.stateNode).containerInfo,I=I.pendingChildren;try{Rn(w,I)}catch(Re){Rr(c,c.return,Re)}}break;case 13:Ca(h,c),wa(c),8192&(w=c.child).flags&&(I=w.memoizedState!==null,w.stateNode.isHidden=I,!I||w.alternate!==null&&w.alternate.memoizedState!==null||(np=Pn())),4&T&&Eg(c);break;case 22:var j=_!==null&&_.memoizedState!==null;if(1&c.mode?(In=(_=In)||j,Ca(h,c),In=_):Ca(h,c),wa(c),8192&T){if(_=c.memoizedState!==null,(c.stateNode.isHidden=_)&&!j&&(1&c.mode)!=0)for(nt=c,T=c.child;T!==null;){for(h=nt=T;nt!==null;){var ie=(j=nt).child;switch(j.tag){case 0:case 11:case 14:case 15:vc(4,j,j.return);break;case 1:cl(j,j.return);var he=j.stateNode;if(typeof he.componentWillUnmount=="function"){var Se=j,Me=j.return;try{var Ve=Se;he.props=Ve.memoizedProps,he.state=Ve.memoizedState,he.componentWillUnmount()}catch(Re){Rr(Se,Me,Re)}}break;case 5:cl(j,j.return);break;case 22:if(j.memoizedState!==null){Ag(h);continue}}ie!==null?(ie.return=j,nt=ie):Ag(h)}T=T.sibling}if(Ae){e:if(T=null,Ae)for(h=c;;){if(h.tag===5){if(T===null){T=h;try{w=h.stateNode,_?Rt(w):rt(h.stateNode,h.memoizedProps)}catch(Re){Rr(c,c.return,Re)}}}else if(h.tag===6){if(T===null)try{I=h.stateNode,_?xt(I):vt(I,h.memoizedProps)}catch(Re){Rr(c,c.return,Re)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;T===h&&(T=null),h=h.return}T===h&&(T=null),h.sibling.return=h.return,h=h.sibling}}}break;case 19:Ca(h,c),wa(c),4&T&&Eg(c);break;case 21:break;default:Ca(h,c),wa(c)}}function wa(c){var h=c.flags;if(2&h){try{if(Ae){e:{for(var _=c.return;_!==null;){if(Ta(_)){var T=_;break e}_=_.return}throw Error(a(160))}switch(T.tag){case 5:var w=T.stateNode;32&T.flags&&(te(w),T.flags&=-33),_c(c,cu(c),w);break;case 3:case 4:var I=T.stateNode.containerInfo;hl(c,cu(c),I);break;default:throw Error(a(161))}}}catch(j){Rr(c,c.return,j)}c.flags&=-3}4096&h&&(c.flags&=-4097)}function Tg(c,h,_){nt=c,Cg(c)}function Cg(c,h,_){for(var T=(1&c.mode)!=0;nt!==null;){var w=nt,I=w.child;if(w.tag===22&&T){var j=w.memoizedState!==null||Gh;if(!j){var ie=w.alternate,he=ie!==null&&ie.memoizedState!==null||In;ie=Gh;var Se=In;if(Gh=j,(In=he)&&!Se)for(nt=w;nt!==null;)he=(j=nt).child,j.tag===22&&j.memoizedState!==null?yn(w):he!==null?(he.return=j,nt=he):yn(w);for(;I!==null;)nt=I,Cg(I),I=I.sibling;nt=w,Gh=ie,In=Se}wg(c)}else(8772&w.subtreeFlags)!=0&&I!==null?(I.return=w,nt=I):wg(c)}}function wg(c){for(;nt!==null;){var h=nt;if((8772&h.flags)!=0){var _=h.alternate;try{if((8772&h.flags)!=0)switch(h.tag){case 0:case 11:case 15:In||yc(5,h);break;case 1:var T=h.stateNode;if(4&h.flags&&!In)if(_===null)T.componentDidMount();else{var w=h.elementType===h.type?_.memoizedProps:xa(h.type,_.memoizedProps);T.componentDidUpdate(w,_.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var I=h.updateQueue;I!==null&&Of(h,I,T);break;case 3:var j=h.updateQueue;if(j!==null){if(_=null,h.child!==null)switch(h.child.tag){case 5:_=G(h.child.stateNode);break;case 1:_=h.child.stateNode}Of(h,j,_)}break;case 5:var ie=h.stateNode;_===null&&4&h.flags&&Lt(ie,h.type,h.memoizedProps,h);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(ke&&h.memoizedState===null){var he=h.alternate;if(he!==null){var Se=he.memoizedState;if(Se!==null){var Me=Se.dehydrated;Me!==null&&Vt(Me)}}}break;default:throw Error(a(163))}In||512&h.flags&&Vh(h)}catch(Ve){Rr(h,h.return,Ve)}}if(h===c){nt=null;break}if((_=h.sibling)!==null){_.return=h.return,nt=_;break}nt=h.return}}function Ag(c){for(;nt!==null;){var h=nt;if(h===c){nt=null;break}var _=h.sibling;if(_!==null){_.return=h.return,nt=_;break}nt=h.return}}function yn(c){for(;nt!==null;){var h=nt;try{switch(h.tag){case 0:case 11:case 15:var _=h.return;try{yc(4,h)}catch(he){Rr(h,_,he)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var w=h.return;try{T.componentDidMount()}catch(he){Rr(h,w,he)}}var I=h.return;try{Vh(h)}catch(he){Rr(h,I,he)}break;case 5:var j=h.return;try{Vh(h)}catch(he){Rr(h,j,he)}}}catch(he){Rr(h,h.return,he)}if(h===c){nt=null;break}var ie=h.sibling;if(ie!==null){ie.return=h.return,nt=ie;break}nt=h.return}}var dl=0,bc=1,Ms=2,xc=3,jh=4;if(typeof Symbol=="function"&&Symbol.for){var Sc=Symbol.for;dl=Sc("selector.component"),bc=Sc("selector.has_pseudo_class"),Ms=Sc("selector.role"),xc=Sc("selector.test_id"),jh=Sc("selector.text")}function po(c){var h=ut(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if((c=Wt(c))===null)throw Error(a(362));return c.stateNode.current}function Dn(c,h){switch(h.$$typeof){case dl:if(c.type===h.value)return!0;break;case bc:e:{h=h.value,c=[c,0];for(var _=0;_<c.length;){var T=c[_++],w=c[_++],I=h[w];if(T.tag!==5||!fn(T)){for(;I!=null&&Dn(T,I);)I=h[++w];if(w===h.length){h=!0;break e}for(T=T.child;T!==null;)c.push(T,w),T=T.sibling}}h=!1}return h;case Ms:if(c.tag===5&&Ga(c.stateNode,h.value))return!0;break;case jh:if((c.tag===5||c.tag===6)&&(c=ra(c))!==null&&0<=c.indexOf(h.value))return!0;break;case xc:if(c.tag===5&&typeof(c=c.memoizedProps["data-testname"])=="string"&&c.toLowerCase()===h.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function Ye(c){switch(c.$$typeof){case dl:return"<"+($(c.value)||"Unknown")+">";case bc:return":has("+(Ye(c)||"")+")";case Ms:return'[role="'+c.value+'"]';case jh:return'"'+c.value+'"';case xc:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function Aa(c,h){var _=[];c=[c,0];for(var T=0;T<c.length;){var w=c[T++],I=c[T++],j=h[I];if(w.tag!==5||!fn(w)){for(;j!=null&&Dn(w,j);)j=h[++I];if(I===h.length)_.push(w);else for(w=w.child;w!==null;)c.push(w,I),w=w.sibling}}return _}function Wi(c,h){if(!Or)throw Error(a(363));c=Aa(c=po(c),h),h=[],c=Array.from(c);for(var _=0;_<c.length;){var T=c[_++];if(T.tag===5)fn(T)||h.push(T.stateNode);else for(T=T.child;T!==null;)c.push(T),T=T.sibling}return h}var S0=Math.ceil,$h=l.ReactCurrentDispatcher,tp=l.ReactCurrentOwner,Xr=l.ReactCurrentBatchConfig,Xt=0,Yt=null,an=null,Vn=0,Xi=0,fl=Jr(0),Gr=0,Ja=null,pl=0,Wh=0,rp=0,Ec=null,Yi=null,np=0,Xh=1/0,Is=null;function hu(){Xh=Pn()+500}var Rg,Yh=!1,ip=null,mo=null,qh=!1,Ds=null,Qh=0,du=0,ap=null,Kh=-1,fu=0;function ri(){return(6&Xt)!=0?Pn():Kh!==-1?Kh:Kh=Pn()}function sn(c){return(1&c.mode)==0?1:(2&Xt)!=0&&Vn!==0?Vn&-Vn:b0.transition!==null?(fu===0&&(fu=tg()),fu):(c=tr)!==0?c:qe()}function on(c,h,_,T){if(50<du)throw du=0,ap=null,Error(a(185));ec(c,_,T),(2&Xt)!=0&&c===Yt||(c===Yt&&((2&Xt)==0&&(Wh|=_),Gr===4&&Os(c,Vn)),ni(c,T),_===1&&Xt===0&&(1&h.mode)==0&&(hu(),gh&&$a()))}function ni(c,h){var _=c.callbackNode;(function(w,I){for(var j=w.suspendedLanes,ie=w.pingedLanes,he=w.expirationTimes,Se=w.pendingLanes;0<Se;){var Me=31-Hi(Se),Ve=1<<Me,Re=he[Me];Re===-1?(Ve&j)!=0&&(Ve&ie)==0||(he[Me]=m0(Ve,I)):Re<=I&&(w.expiredLanes|=Ve),Se&=~Ve}})(c,h);var T=ph(c,c===Yt?Vn:0);if(T===0)_!==null&&Vl(_),c.callbackNode=null,c.callbackPriority=0;else if(h=T&-T,c.callbackPriority!==h){if(_!=null&&Vl(_),h===1)c.tag===0?function(w){gh=!0,ig(w)}(Ra.bind(null,c)):ig(Ra.bind(null,c)),cr?wn(function(){(6&Xt)==0&&$a()}):_f(bf,$a),_=null;else{switch(rg(T)){case 1:_=bf;break;case 4:_=y0;break;case 16:default:_=ng;break;case 536870912:_=_0}_=Mg(_,Zh.bind(null,c))}c.callbackPriority=h,c.callbackNode=_}}function Zh(c,h){if(Kh=-1,fu=0,(6&Xt)!=0)throw Error(a(327));var _=c.callbackNode;if(gl()&&c.callbackNode!==_)return null;var T=ph(c,c===Yt?Vn:0);if(T===0)return null;if((30&T)!=0||(T&c.expiredLanes)!=0||h)h=fi(c,T);else{h=T;var w=Xt;Xt|=2;var I=Cc();for(Yt===c&&Vn===h||(Is=null,hu(),ca(c,h));;)try{Fs();break}catch(ie){Tc(c,ie)}Af(),$h.current=I,Xt=w,an!==null?h=0:(Yt=null,Vn=0,h=Gr)}if(h!==0){if(h===2&&(w=vf(c))!==0&&(T=w,h=Jh(c,w)),h===1)throw _=Ja,ca(c,0),Os(c,T),ni(c,Pn()),_;if(h===6)Os(c,T);else{if(w=c.current.alternate,(30&T)==0&&!function(ie){for(var he=ie;;){if(16384&he.flags){var Se=he.updateQueue;if(Se!==null&&(Se=Se.stores)!==null)for(var Me=0;Me<Se.length;Me++){var Ve=Se[Me],Re=Ve.getSnapshot;Ve=Ve.value;try{if(!ba(Re(),Ve))return!1}catch{return!1}}}if(Se=he.child,16384&he.subtreeFlags&&Se!==null)Se.return=he,he=Se;else{if(he===ie)break;for(;he.sibling===null;){if(he.return===null||he.return===ie)return!0;he=he.return}he.sibling.return=he.return,he=he.sibling}}return!0}(w)&&((h=fi(c,T))===2&&(I=vf(c))!==0&&(T=I,h=Jh(c,I)),h===1))throw _=Ja,ca(c,0),Os(c,T),ni(c,Pn()),_;switch(c.finishedWork=w,c.finishedLanes=T,h){case 0:case 1:throw Error(a(345));case 2:case 5:pu(c,Yi,Is);break;case 3:if(Os(c,T),(130023424&T)===T&&10<(h=np+500-Pn())){if(ph(c,0)!==0)break;if(((w=c.suspendedLanes)&T)!==T){ri(),c.pingedLanes|=c.suspendedLanes&w;break}c.timeoutHandle=_e(pu.bind(null,c,Yi,Is),h);break}pu(c,Yi,Is);break;case 4:if(Os(c,T),(4194240&T)===T)break;for(h=c.eventTimes,w=-1;0<T;){var j=31-Hi(T);I=1<<j,(j=h[j])>w&&(w=j),T&=~I}if(T=w,10<(T=(120>(T=Pn()-T)?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*S0(T/1960))-T)){c.timeoutHandle=_e(pu.bind(null,c,Yi,Is),T);break}pu(c,Yi,Is);break;default:throw Error(a(329))}}}return ni(c,Pn()),c.callbackNode===_?Zh.bind(null,c):null}function Jh(c,h){var _=Ec;return c.current.memoizedState.isDehydrated&&(ca(c,h).flags|=256),(c=fi(c,h))!==2&&(h=Yi,Yi=_,h!==null&&sp(h)),c}function sp(c){Yi===null?Yi=c:Yi.push.apply(Yi,c)}function Os(c,h){for(h&=~rp,h&=~Wh,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var _=31-Hi(h),T=1<<_;c[_]=-1,h&=~T}}function Ra(c){if((6&Xt)!=0)throw Error(a(327));gl();var h=ph(c,0);if((1&h)==0)return ni(c,Pn()),null;var _=fi(c,h);if(c.tag!==0&&_===2){var T=vf(c);T!==0&&(h=T,_=Jh(c,T))}if(_===1)throw _=Ja,ca(c,0),Os(c,h),ni(c,Pn()),_;if(_===6)throw Error(a(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,pu(c,Yi,Is),ni(c,Pn()),null}function op(c){Ds!==null&&Ds.tag===0&&(6&Xt)==0&&gl();var h=Xt;Xt|=1;var _=Xr.transition,T=tr;try{if(Xr.transition=null,tr=1,c)return c()}finally{tr=T,Xr.transition=_,(6&(Xt=h))==0&&$a()}}function go(){Xi=fl.current,Er(fl)}function ca(c,h){c.finishedWork=null,c.finishedLanes=0;var _=c.timeoutHandle;if(_!==Pe&&(c.timeoutHandle=Pe,we(_)),an!==null)for(_=an.return;_!==null;){var T=_;switch(Sf(T),T.tag){case 1:(T=T.type.childContextTypes)!=null&&hh();break;case 3:Cs(),Er(Ti),Er(ei),hi();break;case 5:Qa(T);break;case 4:Cs();break;case 13:case 19:Er(zt);break;case 10:Rf(T.type._context);break;case 22:case 23:go()}_=_.return}if(Yt=c,an=c=bn(c.current,null),Vn=Xi=h,Gr=0,Ja=null,rp=Wh=pl=0,Yi=Ec=null,al!==null){for(h=0;h<al.length;h++)if((T=(_=al[h]).interleaved)!==null){_.interleaved=null;var w=T.next,I=_.pending;if(I!==null){var j=I.next;I.next=w,T.next=j}_.pending=T}al=null}return c}function Tc(c,h){for(;;){var _=an;try{if(Af(),oa.current=au,sl){for(var T=pr.memoizedState;T!==null;){var w=T.queue;w!==null&&(w.pending=null),T=T.next}sl=!1}if(ws=0,zr=mn=pr=null,Pi=!1,uo=0,tp.current=null,_===null||_.return===null){Gr=1,Ja=h,an=null;break}e:{var I=c,j=_.return,ie=_,he=h;if(h=Vn,ie.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Se=he,Me=ie,Ve=Me.tag;if((1&Me.mode)==0&&(Ve===0||Ve===11||Ve===15)){var Re=Me.alternate;Re?(Me.updateQueue=Re.updateQueue,Me.memoizedState=Re.memoizedState,Me.lanes=Re.lanes):(Me.updateQueue=null,Me.memoizedState=null)}var Le=su(j);if(Le!==null){Le.flags&=-257,$f(Le,j,ie,0,h),1&Le.mode&&jf(I,Se,h),he=Se;var at=(h=Le).updateQueue;if(at===null){var Nt=new Set;Nt.add(he),h.updateQueue=Nt}else at.add(he);break e}if((1&h)==0){jf(I,Se,h),Ii();break e}he=Error(a(426))}else if(Ur&&1&ie.mode){var De=su(j);if(De!==null){(65536&De.flags)==0&&(De.flags|=256),$f(De,j,ie,0,h),Cf(Ps(he,ie));break e}}I=he=Ps(he,ie),Gr!==4&&(Gr=2),Ec===null?Ec=[I]:Ec.push(I),I=j;do{switch(I.tag){case 3:I.flags|=65536,h&=-h,I.lanes|=h,Df(I,kh(0,he,h));break e;case 1:ie=he;var ue=I.type,be=I.stateNode;if((128&I.flags)==0&&(typeof ue.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(mo===null||!mo.has(be)))){I.flags|=65536,h&=-h,I.lanes|=h,Df(I,zh(I,ie,h));break e}}I=I.return}while(I!==null)}Pg(_)}catch(Ue){h=Ue,an===_&&_!==null&&(an=_=_.return);continue}break}}function Cc(){var c=$h.current;return $h.current=au,c===null?au:c}function Ii(){Gr!==0&&Gr!==3&&Gr!==2||(Gr=4),Yt===null||(268435455&pl)==0&&(268435455&Wh)==0||Os(Yt,Vn)}function fi(c,h){var _=Xt;Xt|=2;var T=Cc();for(Yt===c&&Vn===h||(Is=null,ca(c,h));;)try{ml();break}catch(w){Tc(c,w)}if(Af(),Xt=_,$h.current=T,an!==null)throw Error(a(261));return Yt=null,Vn=0,Gr}function ml(){for(;an!==null;)es(an)}function Fs(){for(;an!==null&&!g0();)es(an)}function es(c){var h=Rg(c.alternate,c,Xi);c.memoizedProps=c.pendingProps,h===null?Pg(c):an=h,tp.current=null}function Pg(c){var h=c;do{var _=h.alternate;if(c=h.return,(32768&h.flags)==0){if((_=xg(_,h,Xi))!==null)return void(an=_)}else{if((_=B1(_,h))!==null)return _.flags&=32767,void(an=_);if(c===null)return Gr=6,void(an=null);c.flags|=32768,c.subtreeFlags=0,c.deletions=null}if((h=h.sibling)!==null)return void(an=h);an=h=c}while(h!==null);Gr===0&&(Gr=5)}function pu(c,h,_){var T=tr,w=Xr.transition;try{Xr.transition=null,tr=1,function(I,j,ie,he){do gl();while(Ds!==null);if((6&Xt)!=0)throw Error(a(327));ie=I.finishedWork;var Se=I.finishedLanes;if(ie===null)return null;if(I.finishedWork=null,I.finishedLanes=0,ie===I.current)throw Error(a(177));I.callbackNode=null,I.callbackPriority=0;var Me=ie.lanes|ie.childLanes;if(function(Le,at){var Nt=Le.pendingLanes&~at;Le.pendingLanes=at,Le.suspendedLanes=0,Le.pingedLanes=0,Le.expiredLanes&=at,Le.mutableReadLanes&=at,Le.entangledLanes&=at,at=Le.entanglements;var De=Le.eventTimes;for(Le=Le.expirationTimes;0<Nt;){var ue=31-Hi(Nt),be=1<<ue;at[ue]=0,De[ue]=-1,Le[ue]=-1,Nt&=~be}}(I,Me),I===Yt&&(an=Yt=null,Vn=0),(2064&ie.subtreeFlags)==0&&(2064&ie.flags)==0||qh||(qh=!0,Mg(ng,function(){return gl(),null})),Me=(15990&ie.flags)!=0,(15990&ie.subtreeFlags)!=0||Me){Me=Xr.transition,Xr.transition=null;var Ve=tr;tr=1;var Re=Xt;Xt|=4,tp.current=null,function(Le,at){for(J(Le.containerInfo),nt=at;nt!==null;)if(at=(Le=nt).child,(1028&Le.subtreeFlags)!=0&&at!==null)at.return=Le,nt=at;else for(;nt!==null;){Le=nt;try{var Nt=Le.alternate;if((1024&Le.flags)!=0)switch(Le.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Nt!==null){var De=Nt.memoizedProps,ue=Nt.memoizedState,be=Le.stateNode,Ue=be.getSnapshotBeforeUpdate(Le.elementType===Le.type?De:xa(Le.type,De),ue);be.__reactInternalSnapshotBeforeUpdate=Ue}break;case 3:Ae&&An(Le.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(pt){Rr(Le,Le.return,pt)}if((at=Le.sibling)!==null){at.return=Le.return,nt=at;break}nt=Le.return}Nt=Hh,Hh=!1}(I,ie),ep(ie,I),F(I.containerInfo),I.current=ie,Tg(ie),v0(),Xt=Re,tr=Ve,Xr.transition=Me}else I.current=ie;if(qh&&(qh=!1,Ds=I,Qh=Se),Me=I.pendingLanes,Me===0&&(mo=null),function(Le){if(ja&&typeof ja.onCommitFiberRoot=="function")try{ja.onCommitFiberRoot(mh,Le,void 0,(128&Le.current.flags)==128)}catch{}}(ie.stateNode),ni(I,Pn()),j!==null)for(he=I.onRecoverableError,ie=0;ie<j.length;ie++)Se=j[ie],he(Se.value,{componentStack:Se.stack,digest:Se.digest});if(Yh)throw Yh=!1,I=ip,ip=null,I;(1&Qh)!=0&&I.tag!==0&&gl(),Me=I.pendingLanes,(1&Me)!=0?I===ap?du++:(du=0,ap=I):du=0,$a()}(c,h,_,T)}finally{Xr.transition=w,tr=T}return null}function gl(){if(Ds!==null){var c=rg(Qh),h=Xr.transition,_=tr;try{if(Xr.transition=null,tr=16>c?16:c,Ds===null)var T=!1;else{if(c=Ds,Ds=null,Qh=0,(6&Xt)!=0)throw Error(a(331));var w=Xt;for(Xt|=4,nt=c.current;nt!==null;){var I=nt,j=I.child;if((16&nt.flags)!=0){var ie=I.deletions;if(ie!==null){for(var he=0;he<ie.length;he++){var Se=ie[he];for(nt=Se;nt!==null;){var Me=nt;switch(Me.tag){case 0:case 11:case 15:vc(8,Me,I)}var Ve=Me.child;if(Ve!==null)Ve.return=Me,nt=Ve;else for(;nt!==null;){var Re=(Me=nt).sibling,Le=Me.return;if(Zf(Me),Me===Se){nt=null;break}if(Re!==null){Re.return=Le,nt=Re;break}nt=Le}}}var at=I.alternate;if(at!==null){var Nt=at.child;if(Nt!==null){at.child=null;do{var De=Nt.sibling;Nt.sibling=null,Nt=De}while(Nt!==null)}}nt=I}}if((2064&I.subtreeFlags)!=0&&j!==null)j.return=I,nt=j;else e:for(;nt!==null;){if((2048&(I=nt).flags)!=0)switch(I.tag){case 0:case 11:case 15:vc(9,I,I.return)}var ue=I.sibling;if(ue!==null){ue.return=I.return,nt=ue;break e}nt=I.return}}var be=c.current;for(nt=be;nt!==null;){var Ue=(j=nt).child;if((2064&j.subtreeFlags)!=0&&Ue!==null)Ue.return=j,nt=Ue;else e:for(j=be;nt!==null;){if((2048&(ie=nt).flags)!=0)try{switch(ie.tag){case 0:case 11:case 15:yc(9,ie)}}catch(ar){Rr(ie,ie.return,ar)}if(ie===j){nt=null;break e}var pt=ie.sibling;if(pt!==null){pt.return=ie.return,nt=pt;break e}nt=ie.return}}if(Xt=w,$a(),ja&&typeof ja.onPostCommitFiberRoot=="function")try{ja.onPostCommitFiberRoot(mh,c)}catch{}T=!0}return T}finally{tr=_,Xr.transition=h}}return!1}function vo(c,h,_){c=Ss(c,h=kh(0,h=Ps(_,h),1),1),h=ri(),c!==null&&(ec(c,1,h),ni(c,h))}function Rr(c,h,_){if(c.tag===3)vo(c,c,_);else for(;h!==null;){if(h.tag===3){vo(h,c,_);break}if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(mo===null||!mo.has(T))){h=Ss(h,c=zh(h,c=Ps(_,c),1),1),c=ri(),h!==null&&(ec(h,1,c),ni(h,c));break}}h=h.return}}function lp(c,h,_){var T=c.pingCache;T!==null&&T.delete(h),h=ri(),c.pingedLanes|=c.suspendedLanes&_,Yt===c&&(Vn&_)===_&&(Gr===4||Gr===3&&(130023424&Vn)===Vn&&500>Pn()-np?ca(c,0):rp|=_),ni(c,h)}function wc(c,h){h===0&&((1&c.mode)==0?h=1:(h=Hl,(130023424&(Hl<<=1))==0&&(Hl=4194304)));var _=ri();(c=Xa(c,h))!==null&&(ec(c,h,_),ni(c,_))}function E0(c){var h=c.memoizedState,_=0;h!==null&&(_=h.retryLane),wc(c,_)}function up(c,h){var _=0;switch(c.tag){case 13:var T=c.stateNode,w=c.memoizedState;w!==null&&(_=w.retryLane);break;case 19:T=c.stateNode;break;default:throw Error(a(314))}T!==null&&T.delete(h),wc(c,_)}function Mg(c,h){return _f(c,h)}function T0(c,h,_,T){this.tag=c,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(c,h,_,T){return new T0(c,h,_,T)}function _n(c){return!(!(c=c.prototype)||!c.isReactComponent)}function bn(c,h){var _=c.alternate;return _===null?((_=On(c.tag,h,c.key,c.mode)).elementType=c.elementType,_.type=c.type,_.stateNode=c.stateNode,_.alternate=c,c.alternate=_):(_.pendingProps=h,_.type=c.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=14680064&c.flags,_.childLanes=c.childLanes,_.lanes=c.lanes,_.child=c.child,_.memoizedProps=c.memoizedProps,_.memoizedState=c.memoizedState,_.updateQueue=c.updateQueue,h=c.dependencies,_.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},_.sibling=c.sibling,_.index=c.index,_.ref=c.ref,_}function Di(c,h,_,T,w,I){var j=2;if(T=c,typeof c=="function")_n(c)&&(j=1);else if(typeof c=="string")j=5;else e:switch(c){case p:return Oi(_.children,w,I,h);case g:j=8,w|=8;break;case v:return(c=On(12,_,h,2|w)).elementType=v,c.lanes=I,c;case E:return(c=On(13,_,h,w)).elementType=E,c.lanes=I,c;case A:return(c=On(19,_,h,w)).elementType=A,c.lanes=I,c;case D:return Pa(_,w,I,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case b:j=10;break e;case x:j=9;break e;case S:j=11;break e;case P:j=14;break e;case L:j=16,T=null;break e}throw Error(a(130,c==null?c:typeof c,""))}return(h=On(j,_,h,w)).elementType=c,h.type=T,h.lanes=I,h}function Oi(c,h,_,T){return(c=On(7,c,T,h)).lanes=_,c}function Pa(c,h,_,T){return(c=On(22,c,T,h)).elementType=D,c.lanes=_,c.stateNode={isHidden:!1},c}function cp(c,h,_){return(c=On(6,c,null,h)).lanes=_,c}function ed(c,h,_){return(h=On(4,c.children!==null?c.children:[],c.key,h)).lanes=_,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function C0(c,h,_,T,w){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=T,this.onRecoverableError=w,ke&&(this.mutableSourceEagerHydrationData=null)}function Ig(c,h,_,T,w,I,j,ie,he){return c=new C0(c,h,_,ie,he),h===1?(h=1,I===!0&&(h|=8)):h=0,I=On(3,null,null,h),c.current=I,I.stateNode=c,I.memoizedState={element:T,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(I),c}function Dg(c){if(!c)return ao;e:{if(V(c=c._reactInternals)!==c||c.tag!==1)throw Error(a(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Ci(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(a(171))}if(c.tag===1){var _=c.type;if(Ci(_))return gf(c,_,h)}return h}function hp(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return(c=Q(h))===null?null:c.stateNode}function dp(c,h){if((c=c.memoizedState)!==null&&c.dehydrated!==null){var _=c.retryLane;c.retryLane=_!==0&&_<h?_:h}}function mu(c,h){dp(c,h),(c=c.alternate)&&dp(c,h)}function Og(c){return(c=Q(c))===null?null:c.stateNode}function Fg(){return null}return Rg=function(c,h,_){if(c!==null)if(c.memoizedProps!==h.pendingProps||Ti.current)rn=!0;else{if((c.lanes&_)==0&&(128&h.flags)==0)return rn=!1,function(Ve,Re,Le){switch(Re.tag){case 3:_g(Re),Wl();break;case 5:qa(Re);break;case 1:Ci(Re.type)&&Ju(Re);break;case 4:ac(Re,Re.stateNode.containerInfo);break;case 10:cg(0,Re.type._context,Re.memoizedProps.value);break;case 13:var at=Re.memoizedState;if(at!==null)return at.dehydrated!==null?(Tr(zt,1&zt.current),Re.flags|=128,null):(Le&Re.child.childLanes)!=0?pc(Ve,Re,Le):(Tr(zt,1&zt.current),(Ve=di(Ve,Re,Le))!==null?Ve.sibling:null);Tr(zt,1&zt.current);break;case 19:if(at=(Le&Re.childLanes)!=0,(128&Ve.flags)!=0){if(at)return ho(Ve,Re,Le);Re.flags|=128}var Nt=Re.memoizedState;if(Nt!==null&&(Nt.rendering=null,Nt.tail=null,Nt.lastEffect=null),Tr(zt,zt.current),at)break;return null;case 22:case 23:return Re.lanes=0,hc(Ve,Re,Le)}return di(Ve,Re,Le)}(c,h,_);rn=(131072&c.flags)!=0}else rn=!1,Ur&&(1048576&h.flags)!=0&&ag(h,_h,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;fo(c,h),c=h.pendingProps;var w=so(h,ei.current);Yl(h,_),w=tu(null,h,T,c,w,_);var I=Mh();return h.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Ci(T)?(I=!0,Ju(h)):I=!1,h.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Th(h),w.updater=ql,h.stateNode=w,w._reactInternals=h,Ql(h,T,c,_),h=Wf(null,h,T,!0,I,_)):(h.tag=0,Ur&&I&&xf(h),Cr(null,h,w,_),h=h.child),h;case 16:T=h.elementType;e:{switch(fo(c,h),c=h.pendingProps,T=(w=T._init)(T._payload),h.type=T,w=h.tag=function(Ve){if(typeof Ve=="function")return _n(Ve)?1:0;if(Ve!=null){if((Ve=Ve.$$typeof)===S)return 11;if(Ve===P)return 14}return 2}(T),c=xa(T,c),w){case 0:h=lu(null,h,T,c,_);break e;case 1:h=yg(null,h,T,c,_);break e;case 11:h=vg(null,h,T,c,_);break e;case 14:h=_r(null,h,T,xa(T.type,c),_);break e}throw Error(a(306,T,""))}return h;case 0:return T=h.type,w=h.pendingProps,lu(c,h,T,w=h.elementType===T?w:xa(T,w),_);case 1:return T=h.type,w=h.pendingProps,yg(c,h,T,w=h.elementType===T?w:xa(T,w),_);case 3:e:{if(_g(h),c===null)throw Error(a(387));T=h.pendingProps,w=(I=h.memoizedState).element,If(c,h),nc(h,T,null,_);var j=h.memoizedState;if(T=j.element,ke&&I.isDehydrated){if(I={element:T,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},h.updateQueue.baseState=I,h.memoizedState=I,256&h.flags){h=bg(c,h,T,_,w=Ps(Error(a(423)),h));break e}if(T!==w){h=bg(c,h,T,_,w=Ps(Error(a(424)),h));break e}for(ke&&(Ai=Xe(h.stateNode.containerInfo),wi=h,Ur=!0,Ri=null,tc=!1),_=Rh(h,null,T,_),h.child=_;_;)_.flags=-3&_.flags|4096,_=_.sibling}else{if(Wl(),T===w){h=di(c,h,_);break e}Cr(c,h,T,_)}h=h.child}return h;case 5:return qa(h),c===null&&Tf(h),T=h.type,w=h.pendingProps,I=c!==null?c.memoizedProps:null,j=w.children,me(T,w)?j=null:I!==null&&me(T,I)&&(h.flags|=32),ou(c,h),Cr(c,h,j,_),h.child;case 6:return c===null&&Tf(h),null;case 13:return pc(c,h,_);case 4:return ac(h,h.stateNode.containerInfo),T=h.pendingProps,c===null?h.child=Zl(h,null,T,_):Cr(c,h,T,_),h.child;case 11:return T=h.type,w=h.pendingProps,vg(c,h,T,w=h.elementType===T?w:xa(T,w),_);case 7:return Cr(c,h,h.pendingProps,_),h.child;case 8:case 12:return Cr(c,h,h.pendingProps.children,_),h.child;case 10:e:{if(T=h.type._context,w=h.pendingProps,I=h.memoizedProps,cg(0,T,j=w.value),I!==null)if(ba(I.value,j)){if(I.children===w.children&&!Ti.current){h=di(c,h,_);break e}}else for((I=h.child)!==null&&(I.return=h);I!==null;){var ie=I.dependencies;if(ie!==null){j=I.child;for(var he=ie.firstContext;he!==null;){if(he.context===T){if(I.tag===1){(he=Ya(-1,_&-_)).tag=2;var Se=I.updateQueue;if(Se!==null){var Me=(Se=Se.shared).pending;Me===null?he.next=he:(he.next=Me.next,Me.next=he),Se.pending=he}}I.lanes|=_,(he=I.alternate)!==null&&(he.lanes|=_),Pf(I.return,_,h),ie.lanes|=_;break}he=he.next}}else if(I.tag===10)j=I.type===h.type?null:I.child;else if(I.tag===18){if((j=I.return)===null)throw Error(a(341));j.lanes|=_,(ie=j.alternate)!==null&&(ie.lanes|=_),Pf(j,_,h),j=I.sibling}else j=I.child;if(j!==null)j.return=I;else for(j=I;j!==null;){if(j===h){j=null;break}if((I=j.sibling)!==null){I.return=j.return,j=I;break}j=j.return}I=j}Cr(c,h,w.children,_),h=h.child}return h;case 9:return w=h.type,T=h.pendingProps.children,Yl(h,_),T=T(w=aa(w)),h.flags|=1,Cr(c,h,T,_),h.child;case 14:return w=xa(T=h.type,h.pendingProps),_r(c,h,T,w=xa(T.type,w),_);case 15:return cc(c,h,h.type,h.pendingProps,_);case 17:return T=h.type,w=h.pendingProps,w=h.elementType===T?w:xa(T,w),fo(c,h),h.tag=1,Ci(T)?(c=!0,Ju(h)):c=!1,Yl(h,_),Es(h,T,w),Ql(h,T,w,_),Wf(null,h,T,!0,c,_);case 19:return ho(c,h,_);case 22:return hc(c,h,_)}throw Error(a(156,h.tag))},e.attemptContinuousHydration=function(c){if(c.tag===13){var h=Xa(c,134217728);h!==null&&on(h,c,134217728,ri()),mu(c,134217728)}},e.attemptDiscreteHydration=function(c){if(c.tag===13){var h=Xa(c,1);h!==null&&on(h,c,1,ri()),mu(c,1)}},e.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=sn(c),_=Xa(c,h);_!==null&&on(_,c,h,ri()),mu(c,h)}},e.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var _=ti(h.pendingLanes);_!==0&&(oo(h,1|_),ni(h,Pn()),(6&Xt)==0&&(hu(),$a()))}break;case 13:op(function(){var T=Xa(c,1);if(T!==null){var w=ri();on(T,c,1,w)}}),mu(c,1)}},e.batchedUpdates=function(c,h){var _=Xt;Xt|=1;try{return c(h)}finally{(Xt=_)===0&&(hu(),gh&&$a())}},e.createComponentSelector=function(c){return{$$typeof:dl,value:c}},e.createContainer=function(c,h,_,T,w,I,j){return Ig(c,h,!1,null,0,T,0,I,j)},e.createHasPseudoClassSelector=function(c){return{$$typeof:bc,value:c}},e.createHydrationContainer=function(c,h,_,T,w,I,j,ie,he){return(c=Ig(_,T,!0,c,0,I,0,ie,he)).context=Dg(null),_=c.current,(I=Ya(T=ri(),w=sn(_))).callback=h??null,Ss(_,I,w),c.current.lanes=w,ec(c,w,T),ni(c,T),c},e.createPortal=function(c,h,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:T==null?null:""+T,children:c,containerInfo:h,implementation:_}},e.createRoleSelector=function(c){return{$$typeof:Ms,value:c}},e.createTestNameSelector=function(c){return{$$typeof:xc,value:c}},e.createTextSelector=function(c){return{$$typeof:jh,value:c}},e.deferredUpdates=function(c){var h=tr,_=Xr.transition;try{return Xr.transition=null,tr=16,c()}finally{tr=h,Xr.transition=_}},e.discreteUpdates=function(c,h,_,T,w){var I=tr,j=Xr.transition;try{return Xr.transition=null,tr=1,c(h,_,T,w)}finally{tr=I,Xr.transition=j,Xt===0&&hu()}},e.findAllNodes=Wi,e.findBoundingRects=function(c,h){if(!Or)throw Error(a(363));h=Wi(c,h),c=[];for(var _=0;_<h.length;_++)c.push(li(h[_]));for(h=c.length-1;0<h;h--)for(var T=(_=c[h]).x,w=T+_.width,I=_.y,j=I+_.height,ie=h-1;0<=ie;ie--)if(h!==ie){var he=c[ie],Se=he.x,Me=Se+he.width,Ve=he.y,Re=Ve+he.height;if(T>=Se&&I>=Ve&&w<=Me&&j<=Re){c.splice(h,1);break}if(!(T!==Se||_.width!==he.width||Re<I||Ve>j)){Ve>I&&(he.height+=Ve-I,he.y=I),Re<j&&(he.height=j-Ve),c.splice(h,1);break}if(!(I!==Ve||_.height!==he.height||Me<T||Se>w)){Se>T&&(he.width+=Se-T,he.x=T),Me<w&&(he.width=w-Se),c.splice(h,1);break}}return c},e.findHostInstance=hp,e.findHostInstanceWithNoPortals=function(c){return(c=(c=O(c))!==null?ae(c):null)===null?null:c.stateNode},e.findHostInstanceWithWarning=function(c){return hp(c)},e.flushControlled=function(c){var h=Xt;Xt|=1;var _=Xr.transition,T=tr;try{Xr.transition=null,tr=1,c()}finally{tr=T,Xr.transition=_,(Xt=h)===0&&(hu(),$a())}},e.flushPassiveEffects=gl,e.flushSync=op,e.focusWithin=function(c,h){if(!Or)throw Error(a(363));for(h=Aa(c=po(c),h),h=Array.from(h),c=0;c<h.length;){var _=h[c++];if(!fn(_)){if(_.tag===5&&gs(_.stateNode))return!0;for(_=_.child;_!==null;)h.push(_),_=_.sibling}}return!1},e.getCurrentUpdatePriority=function(){return tr},e.getFindAllNodesFailureDescription=function(c,h){if(!Or)throw Error(a(363));var _=0,T=[];c=[po(c),0];for(var w=0;w<c.length;){var I=c[w++],j=c[w++],ie=h[j];if((I.tag!==5||!fn(I))&&(Dn(I,ie)&&(T.push(Ye(ie)),++j>_&&(_=j)),j<h.length))for(I=I.child;I!==null;)c.push(I,j),I=I.sibling}if(_<h.length){for(c=[];_<h.length;_++)c.push(Ye(h[_]));return`findAllNodes was able to match part of the selector:
  `+T.join(" > ")+`

No matching component was found for:
  `+c.join(" > ")}return null},e.getPublicRootInstance=function(c){return(c=c.current).child?c.child.tag===5?G(c.child.stateNode):c.child.stateNode:null},e.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Og,findFiberByHostInstance:c.findFiberByHostInstance||Fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{mh=h.inject(c),ja=h}catch{}c=!!h.checkDCE}}return c},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(c,h,_,T){if(!Or)throw Error(a(363));c=Wi(c,h);var w=vs(c,_,T).disconnect;return{disconnect:function(){w()}}},e.registerMutableSourceForHydration=function(c,h){var _=h._getVersion;_=_(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,_]:c.mutableSourceEagerHydrationData.push(h,_)},e.runWithPriority=function(c,h){var _=tr;try{return tr=c,h()}finally{tr=_}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(c,h,_,T){var w=h.current,I=ri(),j=sn(w);return _=Dg(_),h.context===null?h.context=_:h.pendingContext=_,(h=Ya(I,j)).payload={element:c},(T=T===void 0?null:T)!==null&&(h.callback=T),(c=Ss(w,h,j))!==null&&(on(c,w,j,I),rc(c,w,j)),j},e}),yM}({get exports(){return bT},set exports(r){bT=r}}).exports=nV();var iV=M6(bT),QO={name:"root",dependencies:{"react-dom":"^18.0.0"}},ST={},Ey={get exports(){return ST},set exports(r){ST=r}};(function(){var r,e,t,n,i,a;typeof performance<"u"&&performance!==null&&performance.now?Ey.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ey.exports=function(){return(r()-i)/1e6},e=process.hrtime,n=(r=function(){var l;return 1e9*(l=e())[0]+l[1]})(),a=1e9*process.uptime(),i=n-a):Date.now?(Ey.exports=function(){return Date.now()-t},t=Date.now()):(Ey.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(P6);var xM,Hd={},Hc={};({get exports(){return Hd},set exports(r){Hd=r}}).exports=(xM||(xM=1,Hc.ConcurrentRoot=1,Hc.ContinuousEventPriority=4,Hc.DefaultEventPriority=16,Hc.DiscreteEventPriority=1,Hc.IdleEventPriority=536870912,Hc.LegacyRoot=0),Hc);var aV={};function dE(r,e){r.addChild&&(r.addChild(e),typeof e.didMount=="function"&&e.didMount(e,r))}function KO(r,e){var t,n,i;(t=r.willUnmount)===null||t===void 0||t.call(r,r,e),((n=r.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=r.children)!==null&&i!==void 0&&i.length&&Ul(r.children).forEach(function(a){KO(a,r)})}function SM(r,e){var t;KO(e,r),r.removeChild(e);var n=(t=e.config)!==null&&t!==void 0?t:{},i=n.destroy,a=i===void 0||i,l=n.destroyChildren,u=l===void 0||l,f=n.destroyTexture,p=f!==void 0&&f,g=n.destroyBaseTexture,v=g!==void 0&&g;a&&e.destroy({children:u,texture:p,baseTexture:v})}function EM(r,e,t){var n,i;dn(e!==t,"Cannot insert node before itself"),r.children.indexOf(e)!==-1&&r.removeChild(e);var a=r.getChildIndex(t);r.addChildAt(e,a),(n=r.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var TM=null,Ks=iV({getRootHostContext:function(){return aV},getChildHostContext:function(r){return r},getChildHostContextForEventComponent:function(r){return r},getPublicInstance:function(r){return r},getCurrentEventPriority:function(){return function(){var r,e;if(typeof window>"u")return Hd.DefaultEventPriority;switch((r=window)===null||r===void 0||(e=r.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Hd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Hd.ContinuousEventPriority;default:return Hd.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(r){var e,t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=J6[r];if(typeof a=="function"&&(e=a(i,n)),!e){var l=qO[r];l&&((e=l.create(n,{root:i})).didMount=l.didMount?l.didMount.bind(e):void 0,e.willUnmount=l.willUnmount?l.willUnmount.bind(e):void 0,e.applyProps=l.applyProps?l.applyProps.bind(e):void 0,e.config=l.config)}return e&&(e.__reactpixi={root:i},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Zo)(e,{},n)),e},hideInstance:function(r){r.visible=!1},unhideInstance:function(r,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;r.visible=t},finalizeInitialChildren:function(r,e,t){return!1},prepareUpdate:function(r,e,t,n,i,a){return TM=function(l,u,f,p){var g=null;for(var v in f)!p.hasOwnProperty(v)&&f.hasOwnProperty(v)&&f[v]!==null&&(v===yT||(g||(g=[]),g.push(v,null)));for(var b in p){var x=p[b],S=f!==null?f[b]:void 0;!p.hasOwnProperty(b)||x===S||x===null&&S===null||b===yT||(g||(g=[]),g.push(b,x))}return g}(0,0,t,n)},shouldSetTextContent:function(r,e){return!1},shouldDeprioritizeSubtree:function(r,e){var t=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(t&&n&&i)},createTextInstance:function(r,e,t){dn(!1,'Error trying to add text node "'.concat(r,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(r,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:ST,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=dE.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=dE.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=dE.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=SM.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=SM.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:EM,insertInContainerBefore:function(){for(var r,e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=EM.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(r,e,t,n,i){var a,l,u=r&&r.applyProps;typeof u!="function"&&(u=Zo),(u(r,n,i)||TM)&&((a=r.__reactpixi)===null||a===void 0||(l=a.root)===null||l===void 0||l.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(r,e,t,n,i){},commitTextUpdate:function(r,e,t){},resetTextContent:function(r){},clearContainer:function(r){},getFundamentalComponentInstance:function(r){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(r){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},getInstanceFromNode:function(r){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(r){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(r){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(r){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(r){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(r){}}),sV=QO.dependencies["react-dom"].replace(/[^0-9.]/g,""),oV=QO.name;Ks.injectIntoDevTools({bundleType:0,version:sV,rendererPackageName:oV,findHostInstanceByFiber:Ks.findHostInstance});var zu=new Map;function ZO(r){if(dn(Jn.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`."),zu.has(r)){var e=zu.get(r).pixiFiberContainer;Ks.updateContainer(null,e,void 0,function(){zu.delete(r)})}}function JO(r){dn(Jn.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`.");var e=zu.get(r);if(dn(!e,"createRoot should only be called once"),!e){var t=Ks.createContainer(r);e={pixiFiberContainer:t,reactRoot:{render:function(n){return Ks.updateContainer(n,t,void 0),Ks.getPublicRootInstance(t)},unmount:function(){ZO(r),zu.delete(r)}}},zu.set(r,e)}return e.reactRoot}function lV(r,e,t){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),zu.has(e)?n=zu.get(e).reactRoot:n=JO(e),n.render(r)}function uV(r){ZO(r)}function zm(){return zm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zm.apply(this,arguments)}function cV(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hV(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,WO(n.key),n)}}function wl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function C_(r,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},C_(r,e)}function dV(r,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wl(r)}function w_(r){return w_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w_(r)}var u0=Tt.createContext(null),eF=u0.Provider,tF=u0.Consumer,fV=function(r){var e=Tt.forwardRef(function(t,n){return Tt.createElement(tF,null,function(i){return Tt.createElement(r,zm({},t,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(r.displayName||r.name,")"),e};function pV(r){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=w_(r);if(e){var i=w_(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return dV(this,t)}}function CM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ty(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(t),!0).forEach(function(n){Sn(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var wM=function(){},rF={width:st.number,height:st.number,onMount:st.func,onUnmount:st.func,raf:st.bool,renderOnComponentChange:st.bool,children:st.node,options:st.shape({autoStart:st.bool,width:st.number,height:st.number,useContextAlpha:st.bool,backgroundAlpha:st.number,autoDensity:st.bool,antialias:st.bool,preserveDrawingBuffer:st.bool,resolution:st.number,forceCanvas:st.bool,backgroundColor:st.number,clearBeforeRender:st.bool,powerPreference:st.string,sharedTicker:st.bool,sharedLoader:st.bool,resizeTo:function(r,e){var t=r[e];t&&dn(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Ua(t),", expect `window` or an `HTMLElement`."))},view:function(r,e,t){var n=r[e];n&&dn(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Ua(n),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},mV={width:800,height:600,onMount:wM,onUnmount:wM,raf:!0,renderOnComponentChange:!0},ET=function(r){(function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),l&&C_(a,l)})(i,Tt.Component);var e,t,n=pV(i);function i(){var a;cV(this,i);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return Sn(wl(a=n.call.apply(n,[this].concat(u))),"_canvas",null),Sn(wl(a),"_mediaQuery",null),Sn(wl(a),"_ticker",null),Sn(wl(a),"_needsUpdate",!0),Sn(wl(a),"app",null),Sn(wl(a),"updateSize",function(){var p=a.props,g=p.width,v=p.height,b=p.options;b!=null&&b.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(g,v)}),Sn(wl(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),Sn(wl(a),"renderStage",function(){var p=a.props,g=p.renderOnComponentChange;!p.raf&&g&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return e=i,(t=[{key:"componentDidMount",value:function(){var a=this.props,l=a.onMount,u=a.width,f=a.height,p=a.options,g=a.raf,v=a.renderOnComponentChange;this.app=new uh(Ty(Ty({width:u,height:f,view:this._canvas},p),{},{autoDensity:p?.autoDensity!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[g?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Ks.createContainer(this.app.stage),Ks.updateContainer(this.getChildren(),this.mountNode,this),l(this.app),p!=null&&p.autoDensity&&window.matchMedia&&p?.resolution===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),v&&!g&&(this._ticker=new kn,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,l,u){var f,p=this.props,g=p.width,v=p.height,b=p.raf,x=p.renderOnComponentChange,S=p.options;S?.resolution!==void 0&&a?.options.resolution!==S?.resolution&&(this.app.renderer.resolution=S.resolution,this.resetInteractionManager()),a.height===v&&a.width===g&&((f=a.options)===null||f===void 0?void 0:f.resolution)===S?.resolution||this.updateSize(),a.raf!==b&&this.app.ticker[b?"start":"stop"](),Ks.updateContainer(this.getChildren(),this.mountNode,this),a.width===g&&a.height===v&&a.raf===b&&a.renderOnComponentChange===x&&a.options===S||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var a=this.app.renderer.plugins.interaction;a!=null&&a.resolution&&(a.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return Tt.createElement(eF,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,l){console.error("Error occurred in `Stage`."),console.error(a),console.error(l)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Ks.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,l,u=this,f=this.props.options;return f&&f.view?(dn(f.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Tt.createElement("canvas",zm({},(a=this.props,l=[].concat(Ul(Object.keys(rF)),Ul(Object.keys(_T))),Object.keys(a).filter(function(p){return!l.includes(p)}).reduce(function(p,g){return Ty(Ty({},p),{},Sn({},g,a[g]))},{})),{ref:function(p){return u._canvas=p}}))}}])&&hV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}();ET.propTypes=rF,ET.defaultProps=mV;var gV=ET;function nF(){var r=Tt.useContext(u0);return dn(r instanceof uh,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),r}function vV(r){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=nF();dn(typeof r=="function","`useTick` needs a callback function."),dn(t instanceof uh,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=Tt.useRef(null);Tt.useEffect(function(){n.current=r},[r]),Tt.useEffect(function(){if(e){var i=function(a){return n.current.apply(t.ticker,[a,t.ticker])};return t.ticker.add(i),function(){t.ticker&&t.ticker.remove(i)}}},[e])}function yV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function TT(r,e,t){return TT=yV()?Reflect.construct.bind():function(n,i,a){var l=[null];l.push.apply(l,i);var u=new(Function.bind.apply(n,l));return a&&C_(u,a.prototype),u},TT.apply(null,arguments)}var _V=["children","apply"];function AM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Cy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(t),!0).forEach(function(n){Sn(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var bV=function(r,e){dn(Ua(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),n=function(i){var a=i.children,l=i.apply,u=Qu(i,_V),f=Tt.useRef(Tt.useMemo(function(){return t.map(function(v){var b,x=(u==null||(b=u[v])===null||b===void 0?void 0:b.construct)||[];return TT(e[v],Ul(x))})},[t])),p=Tt.useMemo(function(){return t.reduce(function(v,b,x){return Cy(Cy({},v),{},Sn({},b,f.current[x]))},{})},[t]),g=Tt.useMemo(function(){return Object.keys(u).filter(YO(XO(t))).reduce(function(v,b){return Cy(Cy({},v),{},Sn({},b,u[b]))},{})},[u,t]);return t.forEach(function(v,b){return Object.assign(f.current[b],u[v])}),l&&function(){for(var v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];return b.every(function(S){return typeof S=="function"})}(l)&&l.call(r,p),Tt.createElement(r,zm({},g,{filters:f.current}),a)};return n.displayName="FilterWrapper",n.propTypes={children:st.node,apply:st.func},n},xV=ya.BitmapText,SV=ya.Container,EV=ya.Graphics,TV=ya.NineSlicePlane,CV=ya.ParticleContainer,wV=ya.Sprite,AV=ya.AnimatedSprite,RV=ya.Text,PV=ya.TilingSprite,MV=ya.SimpleMesh,IV=ya.SimpleRope;const DV=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:AV,AppConsumer:tF,AppContext:u0,AppProvider:eF,BitmapText:xV,Container:SV,Graphics:EV,NineSlicePlane:TV,ParticleContainer:CV,PixiComponent:eV,PixiFiber:Ks,SimpleMesh:MV,SimpleRope:IV,Sprite:wV,Stage:gV,TYPES:ya,Text:RV,TilingSprite:PV,applyDefaultProps:Zo,createRoot:JO,eventHandlers:T_,render:lV,unmountComponentAtNode:uV,useApp:nF,useTick:vV,withFilters:bV,withPixiApp:fV},Symbol.toStringTag,{value:"Module"})),OV=qT(DV);var RM;function FV(){return RM||(RM=1,process.env.NODE_ENV==="development"?ty.exports=R6:ty.exports=OV),ty.exports}var iF=FV();const aF=new Sr;Hr.prototype._cacheAsBitmap=!1;Hr.prototype._cacheData=null;Hr.prototype._cacheAsBitmapResolution=null;Hr.prototype._cacheAsBitmapMultisample=null;class LV{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Hr.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(r){if(this._cacheAsBitmap===r)return;this._cacheAsBitmap=r;let e;r?(this._cacheData||(this._cacheData=new LV),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Hr.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};Hr.prototype._initCachedDisplayObject=function(r){if(this._cacheData?.sprite)return;const e=this.alpha;this.alpha=1,r.batch.flush();const t=this.getLocalBounds(new Bt,!0);if(this.filters?.length){const b=this.filters[0].padding;t.pad(b)}const n=this.cacheAsBitmapResolution||r.resolution;t.ceil(n),t.width=Math.max(t.width,1/n),t.height=Math.max(t.height,1/n);const i=r.renderTexture.current,a=r.renderTexture.sourceFrame.clone(),l=r.renderTexture.destinationFrame.clone(),u=r.projection.transform,f=lh.create({width:t.width,height:t.height,resolution:n,multisample:this.cacheAsBitmapMultisample??r.multisample}),p=`cacheAsBitmap_${ah()}`;this._cacheData.textureCacheId=p,Ft.addToCache(f.baseTexture,p),je.addToCache(f,p);const g=this.transform.localTransform.copyTo(aF).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:f,clear:!0,transform:g,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=u,r.renderTexture.bind(i,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const v=new el(f);v.transform.worldTransform=this.transform.worldTransform,v.anchor.x=-(t.x/t.width),v.anchor.y=-(t.y/t.height),v.alpha=e,v._bounds=this._bounds,this._cacheData.sprite=v,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=v.containsPoint.bind(v)};Hr.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};Hr.prototype._initCachedDisplayObjectCanvas=function(r){if(this._cacheData?.sprite)return;const e=this.getLocalBounds(new Bt,!0),t=this.alpha;this.alpha=1;const n=r.canvasContext.activeContext,i=r._projTransform,a=this.cacheAsBitmapResolution||r.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const l=lh.create({width:e.width,height:e.height,resolution:a}),u=`cacheAsBitmap_${ah()}`;this._cacheData.textureCacheId=u,Ft.addToCache(l.baseTexture,u),je.addToCache(l,u);const f=aF;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=e.x,f.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:l,clear:!0,transform:f,skipUpdateTransform:!1}),r.canvasContext.activeContext=n,r._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const p=new el(l);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(e.x/e.width),p.anchor.y=-(e.y/e.height),p.alpha=t,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)};Hr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Hr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Hr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ft.removeFromCache(this._cacheData.textureCacheId),je.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Hr.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};Hr.prototype.name=null;Jn.prototype.getChildByName=function(r,e){for(let t=0,n=this.children.length;t<n;t++)if(this.children[t].name===r)return this.children[t];if(e)for(let t=0,n=this.children.length;t<n;t++){const i=this.children[t];if(!i.getChildByName)continue;const a=i.getChildByName(r,!0);if(a)return a}return null};Hr.prototype.getGlobalPosition=function(r=new $t,e=!1){return this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};var BV=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class NV extends ta{constructor(e=1){super(gz,BV,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const UV={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},kV=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function zV(r){const e=UV[r],t=e.length;let n=kV,i="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let l;for(let u=0;u<r;u++){let f=a.replace("%index%",u.toString());l=u,u>=t&&(l=r-u-1),f=f.replace("%value%",e[l].toString()),i+=f,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}const GV=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function HV(r,e){const t=Math.ceil(r/2);let n=GV,i="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let l=0;l<r;l++){let u=a.replace("%index%",l.toString());u=u.replace("%sampleIndex%",`${l-(t-1)}.0`),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}class CT extends ta{constructor(e,t=8,n=4,i=ta.defaultResolution,a=5){const l=HV(a,e),u=zV(a);super(l,u),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=t}apply(e,t,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,n,i);else{const a=e.getFilterTexture(),l=e.renderer;let u=t,f=a;this.state.blend=!1,e.applyFilter(this,u,f,Vo.CLEAR);for(let p=1;p<this.passes-1;p++){e.bindAndClear(u,Vo.BLIT),this.uniforms.uSampler=f;const g=f;f=u,u=g,l.shader.bind(this),l.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,f,n,i),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class VV extends ta{constructor(e=8,t=4,n=ta.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new CT(!0,e,t,n,i),this.blurYFilter=new CT(!1,e,t,n,i),this.resolution=n,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,n,i){const a=Math.abs(this.blurXFilter.strength),l=Math.abs(this.blurYFilter.strength);if(a&&l){const u=e.getFilterTexture();this.blurXFilter.apply(e,t,u,Vo.CLEAR),this.blurYFilter.apply(e,u,n,i),e.returnFilterTexture(u)}else l?this.blurYFilter.apply(e,t,n,i):this.blurXFilter.apply(e,t,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var jV=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class wT extends ta{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(tO,jV,e),this.alpha=1}_loadMatrix(e,t=!1){let n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}tint(e,t){const[n,i,a]=kr.shared.setValue(e).toArray(),l=[n,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(l,t)}greyscale(e,t){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),a=Math.sqrt,l=1/3,u=a(l),f=n+(1-n)*l,p=l*(1-n)-u*i,g=l*(1-n)+u*i,v=l*(1-n)+u*i,b=n+l*(1-n),x=l*(1-n)-u*i,S=l*(1-n)-u*i,E=l*(1-n)+u*i,A=n+l*(1-n),P=[f,p,g,0,0,v,b,x,0,0,S,E,A,0,0,0,0,0,1,0];this._loadMatrix(P,t)}contrast(e,t){const n=(e||0)+1,i=-.5*(n-1),a=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(a,t)}saturate(e=0,t){const n=e*2/3+1,i=(n-1)*-.5,a=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(a,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,n,i,a){e=e||.2,t=t||.15,n=n||16770432,i=i||3375104;const l=kr.shared,[u,f,p]=l.setValue(n).toArray(),[g,v,b]=l.setValue(i).toArray(),x=[.3,.59,.11,0,0,u,f,p,e,0,g,v,b,t,0,u-g,f-v,p-b,0,0];this._loadMatrix(x,a)}night(e,t){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}wT.prototype.grayscale=wT.prototype.greyscale;var $V=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,WV=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class XV extends ta{constructor(e,t){const n=new Sr;e.renderable=!1,super(WV,$V,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,t==null&&(t=20),this.scale=new $t(t,t)}apply(e,t,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,l=Math.sqrt(a.a*a.a+a.b*a.b),u=Math.sqrt(a.c*a.c+a.d*a.d);l!==0&&u!==0&&(this.uniforms.rotation[0]=a.a/l,this.uniforms.rotation[1]=a.b/l,this.uniforms.rotation[2]=a.c/u,this.uniforms.rotation[3]=a.d/u),e.applyFilter(this,t,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var YV=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,qV=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class QV extends ta{constructor(){super(qV,YV)}}var KV=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class ZV extends ta{constructor(e=.5,t=Math.random()){super(tO,KV,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const PM={AlphaFilter:NV,BlurFilter:VV,BlurFilterPass:CT,ColorMatrixFilter:wT,DisplacementFilter:XV,FXAAFilter:QV,NoiseFilter:ZV};Object.entries(PM).forEach(([r,e])=>{Object.defineProperty(PM,r,{get(){return Qt("7.1.0",`filters.${r} has moved to ${r}`),e}})});class JV{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(kn.system.add(this.tickerUpdate,this,ju.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(kn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Fu=new JV;class Qm{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Qm.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new $t,this.page=new $t,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,i,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class A_ extends Qm{constructor(){super(...arguments),this.client=new $t,this.movement=new $t,this.offset=new $t,this.global=new $t,this.screen=new $t}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,i,a,l,u,f,p,g,v,b,x,S,E){throw new Error("Method not implemented.")}}class Xs extends A_{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Kd extends A_{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Kd.DOM_DELTA_PIXEL=0,Kd.DOM_DELTA_LINE=1,Kd.DOM_DELTA_PAGE=2;const e8=2048,t8=new $t,fE=new $t;class r8{constructor(e){this.dispatch=new kl,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,i=t.length;n<i;n++)t[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){Fu.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,t8.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,a=n.length-1;i<a;i++)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(t)?t:[t];for(let a=n.length-1;a>=0;a--)i.forEach(l=>{e.currentTarget=n[a],this.notifyTarget(e,l)})}propagationPath(e){const t=[e];for(let n=0;n<e8&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,i,a,l=!1){let u=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Fu.pauseUpdate=!1),e.interactiveChildren&&e.children){const g=e.children;for(let v=g.length-1;v>=0;v--){const b=g[v],x=this.hitTestMoveRecursive(b,this._isInteractive(t)?t:b.eventMode,n,i,a,l||a(e,n));if(x){if(x.length>0&&!x[x.length-1].parent)continue;const S=e.isInteractive();(x.length>0||S)&&(S&&this._allInteractiveElements.push(e),x.push(e)),this._hitElements.length===0&&(this._hitElements=x),u=!0}}}const f=this._isInteractive(t),p=e.isInteractive();return f&&p&&this._allInteractiveElements.push(e),l||this._hitElements.length>0?null:u?this._hitElements:f&&!a(e,n)&&i(e,n)?p?[e]:[]:null}hitTestRecursive(e,t,n,i,a){if(this._interactivePrune(e)||a(e,n))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Fu.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const g=f[p],v=this.hitTestRecursive(g,this._isInteractive(t)?t:g.eventMode,n,i,a);if(v){if(v.length>0&&!v[v.length-1].parent)continue;const b=e.isInteractive();return(v.length>0||b)&&v.push(e),v}}}const l=this._isInteractive(t),u=e.isInteractive();return l&&i(e,n)?u?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,fE),!e.hitArea.contains(fE.x,fE.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!n.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){t=t??e.type;const n=`on${t}`;e.currentTarget[n]?.(e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof Xs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const i=t.button===2;this.dispatchEvent(t,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof Xs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=t.pointerType==="mouse"||t.pointerType==="pen",i=this.trackingData(e.pointerId),a=this.findMountedTarget(i.overTargets);if(i.overTargets?.length>0&&a!==t.target){const f=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,f,a);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!t.composedPath().includes(a)){const g=this.createPointerEvent(e,"pointerleave",a);for(g.eventPhase=g.AT_TARGET;g.target&&!t.composedPath().includes(g.target);)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseleave"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(p)}if(a!==t.target){const f=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(t,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let g=a?.parent;for(;g&&g!==this.rootTarget.parent&&g!==t.target;)g=g.parent;if(!g||g===this.rootTarget.parent){const v=this.clonePointerEvent(t,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==a&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(p)}const l=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?l.push("pointermove"):this.dispatchEvent(t,"pointermove"),u&&l.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?l.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),u&&l.push("globaltouchmove")),n&&(this.moveOnAll?l.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),u&&l.push("globalmousemove"),this.cursor=t.target?.cursor),l.length>0&&this.all(t,l),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof Xs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=n.target?.cursor);const a=this.clonePointerEvent(n,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;t.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof Xs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(t.overTargets),a=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(a),n&&this.dispatchEvent(a,"mouseout");const l=this.createPointerEvent(e,"pointerleave",i);for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==this.rootTarget.parent;)l.currentTarget=l.target,this.notifyTarget(l),n&&this.notifyTarget(l,"mouseleave"),l.target=l.target.parent;t.overTargets=null,this.freeEvent(a),this.freeEvent(l)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Xs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.dispatchEvent(n,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),a=this.findMountedTarget(i.pressTargetsByButton[e.button]);let l=a;if(a&&!n.composedPath().includes(a)){let u=a;for(;u&&!n.composedPath().includes(u);){if(n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const f=n.button===2;this.notifyTarget(n,f?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],l=u}if(l){const u=this.clonePointerEvent(n,"click");u.target=l,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:t});const f=i.clicksByButton[e.button];if(f.target===u.target&&t-f.timeStamp<200?++f.clickCount:f.clickCount=1,f.target=u.target,f.timeStamp=t,u.detail=f.clickCount,u.pointerType==="mouse"){const p=u.button===2;this.dispatchEvent(u,p?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Xs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let a=n;for(;a;)i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Kd)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){const i=this.allocateEvent(Xs);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof t=="string"&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(Kd);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(Xs);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Xs&&t instanceof Xs&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof A_&&t instanceof A_&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,a=n.length;i<a&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(t,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const n8=1,i8={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},AT=class RT{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new r8(null),Fu.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Xs(null),this.rootWheelEvent=new Kd(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...RT.defaultEventFeatures},{set:(t,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),t[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:n}=this.renderer;this.setTargetElement(t),this.resolution=n,RT._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=t.length;n<i;n++){const a=t[n],l=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Fu.pointerMoved();const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const a=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let a=0,l=i.length;a<l;a++){const u=this.bootstrapEvent(this.rootPointerEvent,i[a]);u.type+=n,this.rootBoundary.mapEvent(u)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let n=0,i=t.length;n<i;n++){const a=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,Fu.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Fu.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Fu.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*a,e.y=(n-i.top)*(this.domElement.height/i.height)*a}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const a=e.changedTouches[n];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=n8),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=i8[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};AT.extension={name:"events",type:[Qe.RendererSystem,Qe.CanvasRendererSystem]},AT.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let PT=AT;ct.add(PT);function MM(r){return r==="dynamic"||r==="static"}const a8={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??MM(PT.defaultEventMode)},set interactive(r){Qt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??PT.defaultEventMode},set eventMode(r){this._internalInteractive=MM(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof t=="object"?t.signal:void 0,a=typeof t=="object"?t.once===!0:!1,l=typeof e=="function"?void 0:e;r=n?`${r}capture`:r;const u=typeof e=="function"?e:e.handleEvent,f=this;i&&i.addEventListener("abort",()=>{f.off(r,u,l)}),a?f.once(r,u,l):f.on(r,u,l)},removeEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;r=n?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.off(r,e,i)},dispatchEvent(r){if(!(r instanceof Qm))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};Hr.mixin(a8);const s8={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Hr.mixin(s8);const o8=9,wy=100,l8=0,u8=0,IM=2,DM=1,c8=-1e3,h8=-1e3,d8=2;class sF{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ml.tablet||Ml.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${wy}px`,t.style.height=`${wy}px`,t.style.position="absolute",t.style.top=`${l8}px`,t.style.left=`${u8}px`,t.style.zIndex=IM.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${DM}px`,e.style.height=`${DM}px`,e.style.position="absolute",e.style.top=`${c8}px`,e.style.left=`${h8}px`,e.style.zIndex=d8.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}update(){const e=performance.now();if(Ml.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:n,width:i,height:a}=this.renderer.view.getBoundingClientRect(),{width:l,height:u,resolution:f}=this.renderer,p=i/l*f,g=a/u*f;let v=this.div;v.style.left=`${t}px`,v.style.top=`${n}px`,v.style.width=`${l}px`,v.style.height=`${u}px`;for(let b=0;b<this.children.length;b++){const x=this.children[b];if(x.renderId!==this.renderId)x._accessibleActive=!1,Xd(this.children,b,1),this.div.removeChild(x._accessibleDiv),this.pool.push(x._accessibleDiv),x._accessibleDiv=null,b--;else{v=x._accessibleDiv;let S=x.hitArea;const E=x.worldTransform;x.hitArea?(v.style.left=`${(E.tx+S.x*E.a)*p}px`,v.style.top=`${(E.ty+S.y*E.d)*g}px`,v.style.width=`${S.width*E.a*p}px`,v.style.height=`${S.height*E.d*g}px`):(S=x.getBounds(),this.capHitArea(S),v.style.left=`${S.x*p}px`,v.style.top=`${S.y*g}px`,v.style.width=`${S.width*p}px`,v.style.height=`${S.height*g}px`,v.title!==x.accessibleTitle&&x.accessibleTitle!==null&&(v.title=x.accessibleTitle),v.getAttribute("aria-label")!==x.accessibleHint&&x.accessibleHint!==null&&v.setAttribute("aria-label",x.accessibleHint)),(x.accessibleTitle!==v.title||x.tabIndex!==v.tabIndex)&&(v.title=x.accessibleTitle,v.tabIndex=x.tabIndex,this.debug&&this.updateDebugHTML(v))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:n}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${wy}px`,t.style.height=`${wy}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=IM.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,a=Object.assign(new Qm(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(l=>i.dispatchEvent(a,l))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===o8&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}sF.extension={name:"accessibility",type:[Qe.RendererPlugin,Qe.CanvasRendererPlugin]};ct.add(sF);var xi=(r=>(r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",r[r.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",r[r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",r[r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",r[r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",r))(xi||{});const R_={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let No,Ld;function OM(){Ld={bptc:No.getExtension("EXT_texture_compression_bptc"),astc:No.getExtension("WEBGL_compressed_texture_astc"),etc:No.getExtension("WEBGL_compressed_texture_etc"),s3tc:No.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:No.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:No.getExtension("WEBGL_compressed_texture_pvrtc")||No.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:No.getExtension("WEBGL_compressed_texture_etc1"),atc:No.getExtension("WEBGL_compressed_texture_atc")}}const f8={extension:{type:Qe.DetectionParser,priority:2},test:async()=>{const r=tt.ADAPTER.createCanvas().getContext("webgl");return r?(No=r,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async r=>{Ld||OM();const e=[];for(const t in Ld)Ld[t]&&e.push(t);return[...e,...r]},remove:async r=>(Ld||OM(),r.filter(e=>!(e in Ld)))};ct.add(f8);class p8 extends Z_{constructor(e,t={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,t),this.origin=n,this.buffer=i?new HE(i):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new HE(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class rh extends p8{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=rh._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||rh._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let a=0,l=this.levels;a<l;a++){const{levelID:u,levelWidth:f,levelHeight:p,levelBuffer:g}=this._levelBuffers[a];i.compressedTexImage2D(i.TEXTURE_2D,u,this.format,f,p,0,g)}return!0}onBlobLoaded(){this._levelBuffers=rh._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,n,i,a,l,u){const f=new Array(n);let p=e.byteOffset,g=l,v=u,b=g+i-1&~(i-1),x=v+a-1&~(a-1),S=b*x*R_[t];for(let E=0;E<n;E++)f[E]={levelID:E,levelWidth:n>1?g:b,levelHeight:n>1?v:x,levelBuffer:new Uint8Array(e.buffer,p,S)},p+=S,g=g>>1||1,v=v>>1||1,b=g+i-1&~(i-1),x=v+a-1&~(a-1),S=b*x*R_[t];return f}}const pE=4,Ay=124,m8=32,FM=20,g8=542327876,Ry={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},v8={FOURCC:2},Py={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},y8=1,_8=2,b8=4,x8=64,S8=512,E8=131072,T8=827611204,C8=861165636,w8=894720068,A8=808540228,R8=4,P8={[T8]:xi.COMPRESSED_RGBA_S3TC_DXT1_EXT,[C8]:xi.COMPRESSED_RGBA_S3TC_DXT3_EXT,[w8]:xi.COMPRESSED_RGBA_S3TC_DXT5_EXT},M8={70:xi.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:xi.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:xi.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:xi.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:xi.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:xi.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:xi.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:xi.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:xi.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:xi.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:xi.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:xi.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:xi.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function I8(r){const e=new Uint32Array(r);if(e[0]!==g8)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(r,0,Ay/Uint32Array.BYTES_PER_ELEMENT),n=t[Ry.HEIGHT],i=t[Ry.WIDTH],a=t[Ry.MIPMAP_COUNT],l=new Uint32Array(r,Ry.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,m8/Uint32Array.BYTES_PER_ELEMENT),u=l[y8];if(u&b8){const f=l[v8.FOURCC];if(f!==A8){const L=P8[f],D=pE+Ay,N=new Uint8Array(r,D);return[new rh(N,{format:L,width:i,height:n,levels:a})]}const p=pE+Ay,g=new Uint32Array(e.buffer,p,FM/Uint32Array.BYTES_PER_ELEMENT),v=g[Py.DXGI_FORMAT],b=g[Py.RESOURCE_DIMENSION],x=g[Py.MISC_FLAG],S=g[Py.ARRAY_SIZE],E=M8[v];if(E===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${v}`);if(x===R8)throw new Error("DDSParser does not support cubemap textures");if(b===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,P=pE+Ay+FM;if(S===1)A.push(new Uint8Array(r,P));else{const L=R_[E];let D=0,N=i,M=n;for(let U=0;U<a;U++){const V=Math.max(1,N+3&-4),re=Math.max(1,M+3&-4),O=V*re*L;D+=O,N=N>>>1,M=M>>>1}let $=P;for(let U=0;U<S;U++)A.push(new Uint8Array(r,$,D)),$+=D}return A.map(L=>new rh(L,{format:E,width:i,height:n,levels:a}))}throw u&x8?new Error("DDSParser does not support uncompressed texture data."):u&S8?new Error("DDSParser does not supported YUV uncompressed texture data."):u&E8?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&_8?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const LM=[171,75,84,88,32,49,49,187,13,10,26,10],D8=67305985,$s={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},MT=64,BM={[mt.UNSIGNED_BYTE]:1,[mt.UNSIGNED_SHORT]:2,[mt.INT]:4,[mt.UNSIGNED_INT]:4,[mt.FLOAT]:4,[mt.HALF_FLOAT]:8},O8={[Ge.RGBA]:4,[Ge.RGB]:3,[Ge.RG]:2,[Ge.RED]:1,[Ge.LUMINANCE]:1,[Ge.LUMINANCE_ALPHA]:2,[Ge.ALPHA]:1},F8={[mt.UNSIGNED_SHORT_4_4_4_4]:2,[mt.UNSIGNED_SHORT_5_5_5_1]:2,[mt.UNSIGNED_SHORT_5_6_5]:2};function L8(r,e,t=!1){const n=new DataView(e);if(!B8(r,n))return null;const i=n.getUint32($s.ENDIANNESS,!0)===D8,a=n.getUint32($s.GL_TYPE,i),l=n.getUint32($s.GL_FORMAT,i),u=n.getUint32($s.GL_INTERNAL_FORMAT,i),f=n.getUint32($s.PIXEL_WIDTH,i),p=n.getUint32($s.PIXEL_HEIGHT,i)||1,g=n.getUint32($s.PIXEL_DEPTH,i)||1,v=n.getUint32($s.NUMBER_OF_ARRAY_ELEMENTS,i)||1,b=n.getUint32($s.NUMBER_OF_FACES,i),x=n.getUint32($s.NUMBER_OF_MIPMAP_LEVELS,i),S=n.getUint32($s.BYTES_OF_KEY_VALUE_DATA,i);if(p===0||g!==1)throw new Error("Only 2D textures are supported");if(b!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(v!==1)throw new Error("WebGL does not support array textures");const E=4,A=4,P=f+3&-4,L=p+3&-4,D=new Array(v);let N=f*p;a===0&&(N=P*L);let M;if(a!==0?BM[a]?M=BM[a]*O8[l]:M=F8[a]:M=R_[u],M===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const $=t?U8(n,S,i):null;let U=N*M,V=f,re=p,O=P,Q=L,q=MT+S;for(let ae=0;ae<x;ae++){const oe=n.getUint32(q,i);let Ie=q+4;for(let G=0;G<v;G++){let W=D[G];W||(W=D[G]=new Array(x)),W[ae]={levelID:ae,levelWidth:x>1||a!==0?V:O,levelHeight:x>1||a!==0?re:Q,levelBuffer:new Uint8Array(e,Ie,U)},Ie+=U}q+=oe+4,q=q%4!==0?q+4-q%4:q,V=V>>1||1,re=re>>1||1,O=V+E-1&-4,Q=re+A-1&-4,U=O*Q*M}return a!==0?{uncompressed:D.map(ae=>{let oe=ae[0].levelBuffer,Ie=!1;return a===mt.FLOAT?oe=new Float32Array(ae[0].levelBuffer.buffer,ae[0].levelBuffer.byteOffset,ae[0].levelBuffer.byteLength/4):a===mt.UNSIGNED_INT?(Ie=!0,oe=new Uint32Array(ae[0].levelBuffer.buffer,ae[0].levelBuffer.byteOffset,ae[0].levelBuffer.byteLength/4)):a===mt.INT&&(Ie=!0,oe=new Int32Array(ae[0].levelBuffer.buffer,ae[0].levelBuffer.byteOffset,ae[0].levelBuffer.byteLength/4)),{resource:new Z_(oe,{width:ae[0].levelWidth,height:ae[0].levelHeight}),type:a,format:Ie?N8(l):l}}),kvData:$}:{compressed:D.map(ae=>new rh(null,{format:u,width:f,height:p,levels:x,levelBuffers:ae})),kvData:$}}function B8(r,e){for(let t=0;t<LM.length;t++)if(e.getUint8(t)!==LM[t])return console.error(`${r} is not a valid *.ktx file!`),!1;return!0}function N8(r){switch(r){case Ge.RGBA:return Ge.RGBA_INTEGER;case Ge.RGB:return Ge.RGB_INTEGER;case Ge.RG:return Ge.RG_INTEGER;case Ge.RED:return Ge.RED_INTEGER;default:return r}}function U8(r,e,t){const n=new Map;let i=0;for(;i<e;){const a=r.getUint32(MT+i,t),l=MT+i+4,u=3-(a+3)%4;if(a===0||a>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let f=0;for(;f<a&&r.getUint8(l+f)!==0;f++);if(f===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const p=new TextDecoder().decode(new Uint8Array(r.buffer,l,f)),g=new DataView(r.buffer,l+f+1,a-f-1);n.set(p,g),i+=4+a+u}return n}const k8={extension:{type:Qe.LoadParser,priority:eo.High},name:"loadDDS",test(r){return Yu(r,".dds")},async load(r,e,t){const n=await(await tt.ADAPTER.fetch(r)).arrayBuffer(),i=I8(n).map(a=>{const l=new Ft(a,{mipmap:qo.OFF,alphaMode:ma.NO_PREMULTIPLIED_ALPHA,resolution:Ll(r),...e.data});return qm(l,t,r)});return i.length===1?i[0]:i},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};ct.add(k8);const z8={extension:{type:Qe.LoadParser,priority:eo.High},name:"loadKTX",test(r){return Yu(r,".ktx")},async load(r,e,t){const n=await(await tt.ADAPTER.fetch(r)).arrayBuffer(),{compressed:i,uncompressed:a,kvData:l}=L8(r,n),u=i??a,f={mipmap:qo.OFF,alphaMode:ma.NO_PREMULTIPLIED_ALPHA,resolution:Ll(r),...e.data},p=u.map(g=>{u===a&&Object.assign(f,{type:g.type,format:g.format});const v=g.resource??g,b=new Ft(v,f);return b.ktxKeyValueData=l,qm(b,t,r)});return p.length===1?p[0]:p},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};ct.add(z8);const G8=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],H8={extension:Qe.ResolveParser,test:r=>{const e=oi.extname(r).slice(1);return["basis","ktx","dds"].includes(e)},parse:r=>{const e=r.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const n=e.pop();if(G8.includes(n))return{resolution:parseFloat(tt.RETINA_PREFIX.exec(r)?.[1]??"1"),format:n,src:r}}return{resolution:parseFloat(tt.RETINA_PREFIX.exec(r)?.[1]??"1"),format:t,src:r}}};ct.add(H8);const My=new Bt,V8=4,oF=class Sm{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,n,i){const a=new Image;return a.src=await this.base64(e,t,n,i),a}async base64(e,t,n,i){const a=this.canvas(e,i);if(a.toBlob!==void 0)return new Promise((l,u)=>{a.toBlob(f=>{if(!f){u(new Error("ICanvas.toBlob failed!"));return}const p=new FileReader;p.onload=()=>l(p.result),p.onerror=u,p.readAsDataURL(f)},t,n)});if(a.toDataURL!==void 0)return a.toDataURL(t,n);if(a.convertToBlob!==void 0){const l=await a.convertToBlob({type:t,quality:n});return new Promise((u,f)=>{const p=new FileReader;p.onload=()=>u(p.result),p.onerror=f,p.readAsDataURL(l)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:n,width:i,height:a,flipY:l,premultipliedAlpha:u}=this._rawPixels(e,t);l&&Sm._flipY(n,i,a),u&&Sm._unpremultiplyAlpha(n);const f=new t5(i,a,1),p=new ImageData(new Uint8ClampedArray(n.buffer),i,a);return f.context.putImageData(p,0,0),f.canvas}pixels(e,t){const{pixels:n,width:i,height:a,flipY:l,premultipliedAlpha:u}=this._rawPixels(e,t);return l&&Sm._flipY(n,i,a),u&&Sm._unpremultiplyAlpha(n),n}_rawPixels(e,t){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,a=!1,l=!1,u,f=!1;e&&(e instanceof lh?u=e:(u=n.generateTexture(e,{region:t,resolution:n.resolution,multisample:n.multisample}),f=!0,t&&(My.width=t.width,My.height=t.height,t=My)));const p=n.gl;if(u){if(i=u.baseTexture.resolution,t=t??u.frame,a=!1,l=u.baseTexture.alphaMode>0&&u.baseTexture.format===Ge.RGBA,!f){n.renderTexture.bind(u);const x=u.framebuffer.glFramebuffers[n.CONTEXT_UID];x.blitFramebuffer&&n.framebuffer.bind(x.blitFramebuffer)}}else i=n.resolution,t||(t=My,t.width=n.width/i,t.height=n.height/i),a=!0,l=this._rendererPremultipliedAlpha,n.renderTexture.bind();const g=Math.max(Math.round(t.width*i),1),v=Math.max(Math.round(t.height*i),1),b=new Uint8Array(V8*g*v);return p.readPixels(Math.round(t.x*i),Math.round(t.y*i),g,v,p.RGBA,p.UNSIGNED_BYTE,b),f&&u?.destroy(!0),{pixels:b,width:g,height:v,flipY:a,premultipliedAlpha:l}}destroy(){this.renderer=null}static _flipY(e,t,n){const i=t<<2,a=n>>1,l=new Uint8Array(i);for(let u=0;u<a;u++){const f=u*i,p=(n-u-1)*i;l.set(e.subarray(f,f+i)),e.copyWithin(f,p,p+i),e.set(l,p)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let n=0;n<t;n+=4){const i=e[n+3];if(i!==0){const a=255.001/i;e[n]=e[n]*a+.5,e[n+1]=e[n+1]*a+.5,e[n+2]=e[n+2]*a+.5}}}};oF.extension={name:"extract",type:Qe.RendererSystem};let lF=oF;ct.add(lF);class j8{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function $8(r,e){let t=!1;if(r?._textures?.length){for(let n=0;n<r._textures.length;n++)if(r._textures[n]instanceof je){const i=r._textures[n].baseTexture;e.includes(i)||(e.push(i),t=!0)}}return t}function W8(r,e){if(r.baseTexture instanceof Ft){const t=r.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function X8(r,e){if(r._texture&&r._texture instanceof je){const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function Y8(r,e){return e instanceof i0?(e.updateText(!0),!0):!1}function q8(r,e){if(e instanceof $u){const t=e.toFontString();return Du.measureFont(t),!0}return!1}function Q8(r,e){if(r instanceof i0){e.includes(r.style)||e.push(r.style),e.includes(r)||e.push(r);const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function K8(r,e){return r instanceof $u?(e.includes(r)||e.push(r),!0):!1}const uF=class cF{constructor(e){this.limiter=new j8(cF.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Q8),this.registerFindHook(K8),this.registerFindHook($8),this.registerFindHook(W8),this.registerFindHook(X8),this.registerUploadHook(Y8),this.registerUploadHook(q8)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,kn.system.addOnce(this.tick,this,ju.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)kn.system.addOnce(this.tick,this,ju.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,n=e.length;t<n;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Jn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&kn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};uF.uploadsPerFrame=4;let IT=uF;Object.defineProperties(tt,{UPLOADS_PER_FRAME:{get(){return IT.uploadsPerFrame},set(r){Qt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),IT.uploadsPerFrame=r}}});function hF(r,e){return e instanceof Ft?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function Z8(r,e){if(!(e instanceof Uu))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:n}=t;for(let i=0;i<n.length;i++){const{texture:a}=n[i].style;a&&hF(r,a.baseTexture)}return t.batchable||r.geometry.bind(t,e._resolveDirectShader(r)),!0}function J8(r,e){return r instanceof Uu?(e.push(r),!0):!1}class dF extends IT{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(J8),this.registerUploadHook(hF),this.registerUploadHook(Z8)}}dF.extension={name:"prepare",type:Qe.RendererSystem};ct.add(dF);const fF=class Em{constructor(e,t,n){this.linkedSheets=[],(e instanceof Ft||e instanceof je)&&(e={texture:e,data:t,resolutionFilename:n});const{texture:i,data:a,resolutionFilename:l=null,cachePrefix:u=""}=e;this.cachePrefix=u,this._texture=i instanceof je?i:null,this.baseTexture=i instanceof Ft?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const f=this.baseTexture.resource;this.resolution=this._updateResolution(l||(f?f.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let n=Ll(e,null);return n===null&&(n=typeof t=="number"?t:parseFloat(t??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Em.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const n=Em.BATCH_SIZE;for(;t-e<n&&t<this._frameKeys.length;){const i=this._frameKeys[t],a=this._frames[i],l=a.frame;if(l){let u=null,f=null;const p=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,g=new Bt(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);a.rotated?u=new Bt(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):u=new Bt(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(f=new Bt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[i]=new je(this.baseTexture,u,g,f,a.rotated?2:0,a.anchor,a.borders),je.addToCache(this.textures[i],this.cachePrefix+i.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){const i=e[t][n];this.animations[t].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Em.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Em.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};fF.BATCH_SIZE=1e3;let NM=fF;const ej=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function pF(r,e,t){const n={};if(r.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!t){const i=oi.dirname(r[0]);e.linkedSheets.forEach((a,l)=>{Object.assign(n,pF([`${i}/${e.data.meta.related_multi_packs[l]}`],a,!0))})}return n}const tj={extension:Qe.Asset,cache:{test:r=>r instanceof NM,getCacheableAssets:(r,e)=>pF(r,e,!1)},resolver:{test:r=>{const e=r.split("?")[0].split("."),t=e.pop(),n=e.pop();return t==="json"&&ej.includes(n)},parse:r=>{const e=r.split(".");return{resolution:parseFloat(tt.RETINA_PREFIX.exec(r)?.[1]??"1"),format:e[e.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:Qe.LoadParser,priority:eo.Normal},async testParse(r,e){return oi.extname(e.src).toLowerCase()===".json"&&!!r.frames},async parse(r,e,t){const{texture:n,imageFilename:i,cachePrefix:a}=e?.data??{};let l=oi.dirname(e.src);l&&l.lastIndexOf("/")!==l.length-1&&(l+="/");let u;if(n&&n.baseTexture)u=n;else{const g=lT(l+(i??r.meta.image),e.src);u=(await t.load([g]))[g]}const f=new NM({texture:u.baseTexture,data:r,resolutionFilename:e.src,cachePrefix:a});await f.parse();const p=r?.meta?.related_multi_packs;if(Array.isArray(p)){const g=[];for(const b of p){if(typeof b!="string")continue;let x=l+b;e.data?.ignoreMultiPack||(x=lT(x,e.src),g.push(t.load({src:x,data:{ignoreMultiPack:!0}})))}const v=await Promise.all(g);f.linkedSheets=v,v.forEach(b=>{b.linkedSheets=[f].concat(f.linkedSheets.filter(x=>x!==b))})}return f},unload(r){r.destroy(!0)}}};ct.add(tj);const DT=class Bd extends $u{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Bd(Object.keys(Bd.defaultOptions).reduce((t,n)=>({...t,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Bd.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:n}=Bd;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return tt.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((a,l)=>{const u=URL.createObjectURL(i),f=new FileReader;f.onload=()=>a([u,f.result]),f.onerror=l,f.readAsDataURL(i)})).then(async([i,a])=>{const l=Object.assign({family:oi.basename(e,oi.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:a,refs:1,originalUrl:e,fontFace:null},t);n[e]=l,this._fonts.push(l),this.styleID++;const u=new FontFace(l.family,`url(${l.src})`,{weight:l.weight,style:l.style,display:l.display});l.fontFace=u,await u.load(),document.fonts.add(u),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(n=>!this._overrides.includes(n));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(n=>this._overrides.includes(n));t.length>0&&(this._overrides=this._overrides.filter(n=>!t.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=K4(e)),typeof e=="number"?Q4(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const a=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${a} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${a} ${e}`}reset(){Object.assign(this,Bd.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=tt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};DT.availableFonts={},DT.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let mE=DT;const Iy=class Nd extends el{constructor(e="",t={}){super(je.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=je.from(n,{scaleMode:tt.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Bt,i.trim=new Bt,this.texture=i;const a="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xhtml",u=document.createElementNS(a,"svg"),f=document.createElementNS(a,"foreignObject"),p=document.createElementNS(l,"div"),g=document.createElementNS(l,"style");f.setAttribute("width","10000"),f.setAttribute("height","10000"),f.style.overflow="hidden",u.appendChild(f),this.maxWidth=Nd.defaultMaxWidth,this.maxHeight=Nd.defaultMaxHeight,this._domElement=p,this._styleElement=g,this._svgRoot=u,this._foreignObject=f,this._foreignObject.appendChild(g),this._foreignObject.appendChild(p),this._image=n,this._loadImage=new Image,this._autoResolution=Nd.defaultAutoResolution,this._resolution=Nd.defaultResolution??tt.RESOLUTION,this.text=e,this.style=t}measureText(e){const{text:t,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:l,height:u}=a;(l>this.maxWidth||u>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const f=Math.min(this.maxWidth,Math.ceil(l)),p=Math.min(this.maxHeight,Math.ceil(u));return this._svgRoot.setAttribute("width",f.toString()),this._svgRoot.setAttribute("height",p.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(i)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:f+n.padding*2,height:p+n.padding*2}}async updateText(e=!0){const{style:t,_image:n,_loadImage:i}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:a,height:l}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,a)),n.height=i.height=Math.ceil(Math.max(1,l)),this._updateID++;const u=this._updateID;await new Promise(f=>{i.onload=async()=>{if(u<this._updateID){f();return}await t.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),f()};const p=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(p)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:n,resolution:i}=this,{padding:a}=e,{baseTexture:l}=t;t.trim.width=t._frame.width=n.width/i,t.trim.height=t._frame.height=n.height/i,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-a*2,t.orig.height=t._frame.height-a*2,this._onTextureUpdate(),l.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Nd.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=t,this._svgRoot?.remove(),this._svgRoot=t,this._domElement?.remove(),this._domElement=t,this._foreignObject?.remove(),this._foreignObject=t,this._styleElement?.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=Lu(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=Lu(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof mE?(this.ownsStyle=!1,this._style=e):e instanceof $u?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=mE.from(e)):(this.ownsStyle=!0,this._style=new mE(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Iy.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Iy.defaultMaxWidth=2024,Iy.defaultMaxHeight=2024,Iy.defaultAutoResolution=!0;var rj=Object.defineProperty,Vc=Math.pow,nj=(r,e,t)=>e in r?rj(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,le=(r,e,t)=>(nj(r,typeof e!="symbol"?e+"":e,t),t),Dr=(r,e,t)=>new Promise((n,i)=>{var a=f=>{try{u(t.next(f))}catch(p){i(p)}},l=f=>{try{u(t.throw(f))}catch(p){i(p)}},u=f=>f.done?n(f.value):Promise.resolve(f.value).then(a,l);u((t=t.apply(r,e)).next())});const UM=2,kM=2;var P_;(r=>{r.supportMoreMaskDivisions=!0,r.setOpacityFromMotion=!1})(P_||(P_={}));const sh={fftSize:512,motionFadingDuration:500,idleMotionFadingDuration:2e3,expressionFadingDuration:500},nr={log(r,...e){},warn(r,...e){console.warn(`[${r}]`,...e)},error(r,...e){console.error(`[${r}]`,...e)}};function sf(r,e,t){return r<e?e:r>t?t:r}function ij(r,e){return Math.random()*(e-r)+r}function om(r,e,t,n,i){const a=e[n];a!==null&&typeof a===r&&(t[i]=a)}function lm(r,e,t,n,i){const a=e[n];Array.isArray(a)&&(t[i]=a.filter(l=>l!==null&&typeof l===r))}function aj(r,e){e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(r.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))})})}function sj(r){let e=r.lastIndexOf("/");return e!=-1&&(r=r.slice(0,e)),e=r.lastIndexOf("/"),e!==-1&&(r=r.slice(e+1)),r}function oj(r,e){const t=r.indexOf(e);t!==-1&&r.splice(t,1)}class _1 extends kl{constructor(e,t){super(),le(this,"tag"),le(this,"settings"),le(this,"expressions",[]),le(this,"defaultExpression"),le(this,"currentExpression"),le(this,"reserveExpressionIndex",-1),le(this,"destroyed",!1),this.settings=e,this.tag=`ExpressionManager(${e.name})`}init(){this.defaultExpression=this.createExpression({},void 0),this.currentExpression=this.defaultExpression,this.stopAllExpressions()}loadExpression(e){return Dr(this,null,function*(){if(!this.definitions[e]){nr.warn(this.tag,`Undefined expression at [${e}]`);return}if(this.expressions[e]===null){nr.warn(this.tag,`Cannot set expression at [${e}] because it's already failed in loading.`);return}if(this.expressions[e])return this.expressions[e];const t=yield this._loadExpression(e);return this.expressions[e]=t,t})}_loadExpression(e){throw new Error("Not implemented.")}setRandomExpression(){return Dr(this,null,function*(){if(this.definitions.length){const e=[];for(let t=0;t<this.definitions.length;t++)this.expressions[t]!==null&&this.expressions[t]!==this.currentExpression&&t!==this.reserveExpressionIndex&&e.push(t);if(e.length){const t=Math.floor(Math.random()*e.length);return this.setExpression(t)}}return!1})}resetExpression(){this._setExpression(this.defaultExpression)}restoreExpression(){this._setExpression(this.currentExpression)}setExpression(e){return Dr(this,null,function*(){if(typeof e!="number"&&(e=this.getExpressionIndex(e)),!(e>-1&&e<this.definitions.length)||e===this.expressions.indexOf(this.currentExpression))return!1;this.reserveExpressionIndex=e;const t=yield this.loadExpression(e);return!t||this.reserveExpressionIndex!==e?!1:(this.reserveExpressionIndex=-1,this.currentExpression=t,this._setExpression(t),!0)})}update(e,t){return this.isFinished()?!1:this.updateParameters(e,t)}destroy(){this.destroyed=!0,this.emit("destroy");const e=this;e.definitions=void 0,e.expressions=void 0}}const zM=.01,lj=40/7.5,uj=1/(.15*1e3);class cj{constructor(){le(this,"targetX",0),le(this,"targetY",0),le(this,"x",0),le(this,"y",0),le(this,"vx",0),le(this,"vy",0)}focus(e,t,n=!1){this.targetX=sf(e,-1,1),this.targetY=sf(t,-1,1),n&&(this.x=this.targetX,this.y=this.targetY)}update(e){const t=this.targetX-this.x,n=this.targetY-this.y;if(Math.abs(t)<zM&&Math.abs(n)<zM)return;const i=Math.sqrt(Vc(t,2)+Vc(n,2)),a=lj/(1e3/e);let l=a*(t/i)-this.vx,u=a*(n/i)-this.vy;const f=Math.sqrt(Vc(l,2)+Vc(u,2)),p=a*uj*e;f>p&&(l*=p/f,u*=p/f),this.vx+=l,this.vy+=u;const g=Math.sqrt(Vc(this.vx,2)+Vc(this.vy,2)),v=.5*(Math.sqrt(Vc(p,2)+8*p*i)-p);g>v&&(this.vx*=v/g,this.vy*=v/g),this.x+=this.vx,this.y+=this.vy}}var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hj(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Ku={},M_={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */M_.exports;(function(r,e){(function(t){var n=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,a=typeof Ky=="object"&&Ky;(a.global===a||a.window===a||a.self===a)&&(t=a);var l,u=2147483647,f=36,p=1,g=26,v=38,b=700,x=72,S=128,E="-",A=/^xn--/,P=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=f-p,M=Math.floor,$=String.fromCharCode,U;function V(F){throw new RangeError(D[F])}function re(F,H){for(var Y=F.length,K=[];Y--;)K[Y]=H(F[Y]);return K}function O(F,H){var Y=F.split("@"),K="";Y.length>1&&(K=Y[0]+"@",F=Y[1]),F=F.replace(L,".");var se=F.split("."),me=re(se,H).join(".");return K+me}function Q(F){for(var H=[],Y=0,K=F.length,se,me;Y<K;)se=F.charCodeAt(Y++),se>=55296&&se<=56319&&Y<K?(me=F.charCodeAt(Y++),(me&64512)==56320?H.push(((se&1023)<<10)+(me&1023)+65536):(H.push(se),Y--)):H.push(se);return H}function q(F){return re(F,function(H){var Y="";return H>65535&&(H-=65536,Y+=$(H>>>10&1023|55296),H=56320|H&1023),Y+=$(H),Y}).join("")}function ae(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:f}function oe(F,H){return F+22+75*(F<26)-((H!=0)<<5)}function Ie(F,H,Y){var K=0;for(F=Y?M(F/b):F>>1,F+=M(F/H);F>N*g>>1;K+=f)F=M(F/N);return M(K+(N+1)*F/(F+v))}function G(F){var H=[],Y=F.length,K,se=0,me=S,de=x,_e,we,Pe,ve,Ae,fe,ke,ut,He;for(_e=F.lastIndexOf(E),_e<0&&(_e=0),we=0;we<_e;++we)F.charCodeAt(we)>=128&&V("not-basic"),H.push(F.charCodeAt(we));for(Pe=_e>0?_e+1:0;Pe<Y;){for(ve=se,Ae=1,fe=f;Pe>=Y&&V("invalid-input"),ke=ae(F.charCodeAt(Pe++)),(ke>=f||ke>M((u-se)/Ae))&&V("overflow"),se+=ke*Ae,ut=fe<=de?p:fe>=de+g?g:fe-de,!(ke<ut);fe+=f)He=f-ut,Ae>M(u/He)&&V("overflow"),Ae*=He;K=H.length+1,de=Ie(se-ve,K,ve==0),M(se/K)>u-me&&V("overflow"),me+=M(se/K),se%=K,H.splice(se++,0,me)}return q(H)}function W(F){var H,Y,K,se,me,de,_e,we,Pe,ve,Ae,fe=[],ke,ut,He,qe;for(F=Q(F),ke=F.length,H=S,Y=0,me=x,de=0;de<ke;++de)Ae=F[de],Ae<128&&fe.push($(Ae));for(K=se=fe.length,se&&fe.push(E);K<ke;){for(_e=u,de=0;de<ke;++de)Ae=F[de],Ae>=H&&Ae<_e&&(_e=Ae);for(ut=K+1,_e-H>M((u-Y)/ut)&&V("overflow"),Y+=(_e-H)*ut,H=_e,de=0;de<ke;++de)if(Ae=F[de],Ae<H&&++Y>u&&V("overflow"),Ae==H){for(we=Y,Pe=f;ve=Pe<=me?p:Pe>=me+g?g:Pe-me,!(we<ve);Pe+=f)qe=we-ve,He=f-ve,fe.push($(oe(ve+qe%He,0))),we=M(qe/He);fe.push($(oe(we,0))),me=Ie(Y,ut,K==se),Y=0,++K}++Y,++H}return fe.join("")}function k(F){return O(F,function(H){return A.test(H)?G(H.slice(4).toLowerCase()):H})}function J(F){return O(F,function(H){return P.test(H)?"xn--"+W(H):H})}if(l={version:"1.4.1",ucs2:{decode:Q,encode:q},decode:G,encode:W,toASCII:J,toUnicode:k},n&&i)if(r.exports==n)i.exports=l;else for(U in l)l.hasOwnProperty(U)&&(n[U]=l[U]);else t.punycode=l})(Ky)})(M_,M_.exports);var dj=M_.exports,fj=Error,pj=EvalError,mj=RangeError,gj=ReferenceError,mF=SyntaxError,Km=TypeError,vj=URIError,yj=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==i||l.enumerable!==!0)return!1}return!0},GM=typeof Symbol<"u"&&Symbol,_j=yj,bj=function(){return typeof GM!="function"||typeof Symbol!="function"||typeof GM("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:_j()},gE={__proto__:null,foo:{}},xj=Object,Sj=function(){return{__proto__:gE}.foo===gE.foo&&!(gE instanceof xj)},Ej="Function.prototype.bind called on incompatible ",Tj=Object.prototype.toString,Cj=Math.max,wj="[object Function]",HM=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<t.length;a+=1)n[a+e.length]=t[a];return n},Aj=function(e,t){for(var n=[],i=t,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},Rj=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},Pj=function(e){var t=this;if(typeof t!="function"||Tj.apply(t)!==wj)throw new TypeError(Ej+t);for(var n=Aj(arguments,1),i,a=function(){if(this instanceof i){var g=t.apply(this,HM(n,arguments));return Object(g)===g?g:this}return t.apply(e,HM(n,arguments))},l=Cj(0,t.length-n.length),u=[],f=0;f<l;f++)u[f]="$"+f;if(i=Function("binder","return function ("+Rj(u,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var p=function(){};p.prototype=t.prototype,i.prototype=new p,p.prototype=null}return i},Mj=Pj,b1=Function.prototype.bind||Mj,Ij=Function.prototype.call,Dj=Object.prototype.hasOwnProperty,Oj=b1,Fj=Oj.call(Ij,Dj),er,Lj=fj,Bj=pj,Nj=mj,Uj=gj,of=mF,Zd=Km,kj=vj,gF=Function,vE=function(r){try{return gF('"use strict"; return ('+r+").constructor;")()}catch{}},nh=Object.getOwnPropertyDescriptor;if(nh)try{nh({},"")}catch{nh=null}var yE=function(){throw new Zd},zj=nh?function(){try{return arguments.callee,yE}catch{try{return nh(arguments,"callee").get}catch{return yE}}}():yE,Rd=bj(),Gj=Sj(),ai=Object.getPrototypeOf||(Gj?function(r){return r.__proto__}:null),Ud={},Hj=typeof Uint8Array>"u"||!ai?er:ai(Uint8Array),ih={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?er:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?er:ArrayBuffer,"%ArrayIteratorPrototype%":Rd&&ai?ai([][Symbol.iterator]()):er,"%AsyncFromSyncIteratorPrototype%":er,"%AsyncFunction%":Ud,"%AsyncGenerator%":Ud,"%AsyncGeneratorFunction%":Ud,"%AsyncIteratorPrototype%":Ud,"%Atomics%":typeof Atomics>"u"?er:Atomics,"%BigInt%":typeof BigInt>"u"?er:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?er:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?er:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?er:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Lj,"%eval%":eval,"%EvalError%":Bj,"%Float32Array%":typeof Float32Array>"u"?er:Float32Array,"%Float64Array%":typeof Float64Array>"u"?er:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?er:FinalizationRegistry,"%Function%":gF,"%GeneratorFunction%":Ud,"%Int8Array%":typeof Int8Array>"u"?er:Int8Array,"%Int16Array%":typeof Int16Array>"u"?er:Int16Array,"%Int32Array%":typeof Int32Array>"u"?er:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Rd&&ai?ai(ai([][Symbol.iterator]())):er,"%JSON%":typeof JSON=="object"?JSON:er,"%Map%":typeof Map>"u"?er:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Rd||!ai?er:ai(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?er:Promise,"%Proxy%":typeof Proxy>"u"?er:Proxy,"%RangeError%":Nj,"%ReferenceError%":Uj,"%Reflect%":typeof Reflect>"u"?er:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?er:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Rd||!ai?er:ai(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?er:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Rd&&ai?ai(""[Symbol.iterator]()):er,"%Symbol%":Rd?Symbol:er,"%SyntaxError%":of,"%ThrowTypeError%":zj,"%TypedArray%":Hj,"%TypeError%":Zd,"%Uint8Array%":typeof Uint8Array>"u"?er:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?er:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?er:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?er:Uint32Array,"%URIError%":kj,"%WeakMap%":typeof WeakMap>"u"?er:WeakMap,"%WeakRef%":typeof WeakRef>"u"?er:WeakRef,"%WeakSet%":typeof WeakSet>"u"?er:WeakSet};if(ai)try{null.error}catch(r){var Vj=ai(ai(r));ih["%Error.prototype%"]=Vj}var jj=function r(e){var t;if(e==="%AsyncFunction%")t=vE("async function () {}");else if(e==="%GeneratorFunction%")t=vE("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=vE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&ai&&(t=ai(i.prototype))}return ih[e]=t,t},VM={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zm=b1,I_=Fj,$j=Zm.call(Function.call,Array.prototype.concat),Wj=Zm.call(Function.apply,Array.prototype.splice),jM=Zm.call(Function.call,String.prototype.replace),D_=Zm.call(Function.call,String.prototype.slice),Xj=Zm.call(Function.call,RegExp.prototype.exec),Yj=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,qj=/\\(\\)?/g,Qj=function(e){var t=D_(e,0,1),n=D_(e,-1);if(t==="%"&&n!=="%")throw new of("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new of("invalid intrinsic syntax, expected opening `%`");var i=[];return jM(e,Yj,function(a,l,u,f){i[i.length]=u?jM(f,qj,"$1"):l||a}),i},Kj=function(e,t){var n=e,i;if(I_(VM,n)&&(i=VM[n],n="%"+i[0]+"%"),I_(ih,n)){var a=ih[n];if(a===Ud&&(a=jj(n)),typeof a>"u"&&!t)throw new Zd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new of("intrinsic "+e+" does not exist!")},ff=function(e,t){if(typeof e!="string"||e.length===0)throw new Zd("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Zd('"allowMissing" argument must be a boolean');if(Xj(/^%?[^%]*%?$/,e)===null)throw new of("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Qj(e),i=n.length>0?n[0]:"",a=Kj("%"+i+"%",t),l=a.name,u=a.value,f=!1,p=a.alias;p&&(i=p[0],Wj(n,$j([0,1],p)));for(var g=1,v=!0;g<n.length;g+=1){var b=n[g],x=D_(b,0,1),S=D_(b,-1);if((x==='"'||x==="'"||x==="`"||S==='"'||S==="'"||S==="`")&&x!==S)throw new of("property names with quotes must have matching quotes");if((b==="constructor"||!v)&&(f=!0),i+="."+b,l="%"+i+"%",I_(ih,l))u=ih[l];else if(u!=null){if(!(b in u)){if(!t)throw new Zd("base intrinsic for "+e+" exists, but the property is not available.");return}if(nh&&g+1>=n.length){var E=nh(u,b);v=!!E,v&&"get"in E&&!("originalValue"in E.get)?u=E.get:u=u[b]}else v=I_(u,b),u=u[b];v&&!f&&(ih[l]=u)}}return u},vF={exports:{}},_E,$M;function x1(){if($M)return _E;$M=1;var r=ff,e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return _E=e,_E}var Zj=ff,Zy=Zj("%Object.getOwnPropertyDescriptor%",!0);if(Zy)try{Zy([],"length")}catch{Zy=null}var yF=Zy,WM=x1(),Jj=mF,Pd=Km,XM=yF,e$=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Pd("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Pd("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Pd("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Pd("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Pd("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Pd("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,f=!!XM&&XM(e,t);if(WM)WM(e,t,{configurable:l===null&&f?f.configurable:!l,enumerable:i===null&&f?f.enumerable:!i,value:n,writable:a===null&&f?f.writable:!a});else if(u||!i&&!a&&!l)e[t]=n;else throw new Jj("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},OT=x1(),_F=function(){return!!OT};_F.hasArrayLengthDefineBug=function(){if(!OT)return null;try{return OT([],"length",{value:1}).length!==1}catch{return!0}};var t$=_F,r$=ff,YM=e$,n$=t$(),qM=yF,QM=Km,i$=r$("%Math.floor%"),a$=function(e,t){if(typeof e!="function")throw new QM("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||i$(t)!==t)throw new QM("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&qM){var l=qM(e,"length");l&&!l.configurable&&(i=!1),l&&!l.writable&&(a=!1)}return(i||a||!n)&&(n$?YM(e,"length",t,!0,!0):YM(e,"length",t)),e};(function(r){var e=b1,t=ff,n=a$,i=Km,a=t("%Function.prototype.apply%"),l=t("%Function.prototype.call%"),u=t("%Reflect.apply%",!0)||e.call(l,a),f=x1(),p=t("%Math.max%");r.exports=function(b){if(typeof b!="function")throw new i("a function is required");var x=u(e,l,arguments);return n(x,1+p(0,b.length-(arguments.length-1)),!0)};var g=function(){return u(e,a,arguments)};f?f(r.exports,"apply",{value:g}):r.exports.apply=g})(vF);var s$=vF.exports,bF=ff,xF=s$,o$=xF(bF("String.prototype.indexOf")),l$=function(e,t){var n=bF(e,!!t);return typeof n=="function"&&o$(e,".prototype.")>-1?xF(n):n};const u$={},c$=Object.freeze(Object.defineProperty({__proto__:null,default:u$},Symbol.toStringTag,{value:"Module"})),h$=hj(c$);var S1=typeof Map=="function"&&Map.prototype,bE=Object.getOwnPropertyDescriptor&&S1?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,O_=S1&&bE&&typeof bE.get=="function"?bE.get:null,KM=S1&&Map.prototype.forEach,E1=typeof Set=="function"&&Set.prototype,xE=Object.getOwnPropertyDescriptor&&E1?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,F_=E1&&xE&&typeof xE.get=="function"?xE.get:null,ZM=E1&&Set.prototype.forEach,d$=typeof WeakMap=="function"&&WeakMap.prototype,Am=d$?WeakMap.prototype.has:null,f$=typeof WeakSet=="function"&&WeakSet.prototype,Rm=f$?WeakSet.prototype.has:null,p$=typeof WeakRef=="function"&&WeakRef.prototype,JM=p$?WeakRef.prototype.deref:null,m$=Boolean.prototype.valueOf,g$=Object.prototype.toString,v$=Function.prototype.toString,y$=String.prototype.match,T1=String.prototype.slice,Nu=String.prototype.replace,_$=String.prototype.toUpperCase,eI=String.prototype.toLowerCase,SF=RegExp.prototype.test,tI=Array.prototype.concat,jo=Array.prototype.join,b$=Array.prototype.slice,rI=Math.floor,FT=typeof BigInt=="function"?BigInt.prototype.valueOf:null,SE=Object.getOwnPropertySymbols,LT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,lf=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ki=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===lf||!0)?Symbol.toStringTag:null,EF=Object.prototype.propertyIsEnumerable,nI=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function iI(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||SF.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-rI(-r):rI(r);if(n!==r){var i=String(n),a=T1.call(e,i.length+1);return Nu.call(i,t,"$&_")+"."+Nu.call(Nu.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Nu.call(e,t,"$&_")}var BT=h$,aI=BT.custom,sI=CF(aI)?aI:null,x$=function r(e,t,n,i){var a=t||{};if(Ou(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ou(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=Ou(a,"customInspect")?a.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ou(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ou(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return AF(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return u?iI(e,f):f}if(typeof e=="bigint"){var p=String(e)+"n";return u?iI(e,p):p}var g=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=g&&g>0&&typeof e=="object")return NT(e)?"[Array]":"[Object]";var v=k$(a,n);if(typeof i>"u")i=[];else if(wF(i,e)>=0)return"[Circular]";function b(ae,oe,Ie){if(oe&&(i=b$.call(i),i.push(oe)),Ie){var G={depth:a.depth};return Ou(a,"quoteStyle")&&(G.quoteStyle=a.quoteStyle),r(ae,G,n+1,i)}return r(ae,a,n+1,i)}if(typeof e=="function"&&!oI(e)){var x=M$(e),S=Dy(e,b);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(S.length>0?" { "+jo.call(S,", ")+" }":"")}if(CF(e)){var E=lf?Nu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):LT.call(e);return typeof e=="object"&&!lf?um(E):E}if(B$(e)){for(var A="<"+eI.call(String(e.nodeName)),P=e.attributes||[],L=0;L<P.length;L++)A+=" "+P[L].name+"="+TF(S$(P[L].value),"double",a);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+eI.call(String(e.nodeName))+">",A}if(NT(e)){if(e.length===0)return"[]";var D=Dy(e,b);return v&&!U$(D)?"["+UT(D,v)+"]":"[ "+jo.call(D,", ")+" ]"}if(T$(e)){var N=Dy(e,b);return!("cause"in Error.prototype)&&"cause"in e&&!EF.call(e,"cause")?"{ ["+String(e)+"] "+jo.call(tI.call("[cause]: "+b(e.cause),N),", ")+" }":N.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+jo.call(N,", ")+" }"}if(typeof e=="object"&&l){if(sI&&typeof e[sI]=="function"&&BT)return BT(e,{depth:g-n});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(I$(e)){var M=[];return KM&&KM.call(e,function(ae,oe){M.push(b(oe,e,!0)+" => "+b(ae,e))}),lI("Map",O_.call(e),M,v)}if(F$(e)){var $=[];return ZM&&ZM.call(e,function(ae){$.push(b(ae,e))}),lI("Set",F_.call(e),$,v)}if(D$(e))return EE("WeakMap");if(L$(e))return EE("WeakSet");if(O$(e))return EE("WeakRef");if(w$(e))return um(b(Number(e)));if(R$(e))return um(b(FT.call(e)));if(A$(e))return um(m$.call(e));if(C$(e))return um(b(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Ky)return"{ [object globalThis] }";if(!E$(e)&&!oI(e)){var U=Dy(e,b),V=nI?nI(e)===Object.prototype:e instanceof Object||e.constructor===Object,re=e instanceof Object?"":"null prototype",O=!V&&ki&&Object(e)===e&&ki in e?T1.call(Zu(e),8,-1):re?"Object":"",Q=V||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",q=Q+(O||re?"["+jo.call(tI.call([],O||[],re||[]),": ")+"] ":"");return U.length===0?q+"{}":v?q+"{"+UT(U,v)+"}":q+"{ "+jo.call(U,", ")+" }"}return String(e)};function TF(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function S$(r){return Nu.call(String(r),/"/g,"&quot;")}function NT(r){return Zu(r)==="[object Array]"&&(!ki||!(typeof r=="object"&&ki in r))}function E$(r){return Zu(r)==="[object Date]"&&(!ki||!(typeof r=="object"&&ki in r))}function oI(r){return Zu(r)==="[object RegExp]"&&(!ki||!(typeof r=="object"&&ki in r))}function T$(r){return Zu(r)==="[object Error]"&&(!ki||!(typeof r=="object"&&ki in r))}function C$(r){return Zu(r)==="[object String]"&&(!ki||!(typeof r=="object"&&ki in r))}function w$(r){return Zu(r)==="[object Number]"&&(!ki||!(typeof r=="object"&&ki in r))}function A$(r){return Zu(r)==="[object Boolean]"&&(!ki||!(typeof r=="object"&&ki in r))}function CF(r){if(lf)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!LT)return!1;try{return LT.call(r),!0}catch{}return!1}function R$(r){if(!r||typeof r!="object"||!FT)return!1;try{return FT.call(r),!0}catch{}return!1}var P$=Object.prototype.hasOwnProperty||function(r){return r in this};function Ou(r,e){return P$.call(r,e)}function Zu(r){return g$.call(r)}function M$(r){if(r.name)return r.name;var e=y$.call(v$.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function wF(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function I$(r){if(!O_||!r||typeof r!="object")return!1;try{O_.call(r);try{F_.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function D$(r){if(!Am||!r||typeof r!="object")return!1;try{Am.call(r,Am);try{Rm.call(r,Rm)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function O$(r){if(!JM||!r||typeof r!="object")return!1;try{return JM.call(r),!0}catch{}return!1}function F$(r){if(!F_||!r||typeof r!="object")return!1;try{F_.call(r);try{O_.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function L$(r){if(!Rm||!r||typeof r!="object")return!1;try{Rm.call(r,Rm);try{Am.call(r,Am)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function B$(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function AF(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return AF(T1.call(r,0,e.maxStringLength),e)+n}var i=Nu.call(Nu.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,N$);return TF(i,"single",e)}function N$(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+_$.call(e.toString(16))}function um(r){return"Object("+r+")"}function EE(r){return r+" { ? }"}function lI(r,e,t,n){var i=n?UT(t,n):jo.call(t,", ");return r+" ("+e+") {"+i+"}"}function U$(r){for(var e=0;e<r.length;e++)if(wF(r[e],`
`)>=0)return!1;return!0}function k$(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=jo.call(Array(r.indent+1)," ");else return null;return{base:t,prev:jo.call(Array(e+1),t)}}function UT(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+jo.call(r,","+t)+`
`+e.prev}function Dy(r,e){var t=NT(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=Ou(r,i)?e(r[i],r):""}var a=typeof SE=="function"?SE(r):[],l;if(lf){l={};for(var u=0;u<a.length;u++)l["$"+a[u]]=a[u]}for(var f in r)Ou(r,f)&&(t&&String(Number(f))===f&&f<r.length||lf&&l["$"+f]instanceof Symbol||(SF.call(/[^\w$]/,f)?n.push(e(f,r)+": "+e(r[f],r)):n.push(f+": "+e(r[f],r))));if(typeof SE=="function")for(var p=0;p<a.length;p++)EF.call(r,a[p])&&n.push("["+e(a[p])+"]: "+e(r[a[p]],r));return n}var RF=ff,pf=l$,z$=x$,G$=Km,Oy=RF("%WeakMap%",!0),Fy=RF("%Map%",!0),H$=pf("WeakMap.prototype.get",!0),V$=pf("WeakMap.prototype.set",!0),j$=pf("WeakMap.prototype.has",!0),$$=pf("Map.prototype.get",!0),W$=pf("Map.prototype.set",!0),X$=pf("Map.prototype.has",!0),C1=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},Y$=function(r,e){var t=C1(r,e);return t&&t.value},q$=function(r,e,t){var n=C1(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},Q$=function(r,e){return!!C1(r,e)},K$=function(){var e,t,n,i={assert:function(a){if(!i.has(a))throw new G$("Side channel does not contain "+z$(a))},get:function(a){if(Oy&&a&&(typeof a=="object"||typeof a=="function")){if(e)return H$(e,a)}else if(Fy){if(t)return $$(t,a)}else if(n)return Y$(n,a)},has:function(a){if(Oy&&a&&(typeof a=="object"||typeof a=="function")){if(e)return j$(e,a)}else if(Fy){if(t)return X$(t,a)}else if(n)return Q$(n,a);return!1},set:function(a,l){Oy&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new Oy),V$(e,a,l)):Fy?(t||(t=new Fy),W$(t,a,l)):(n||(n={key:{},next:null}),q$(n,a,l))}};return i},Z$=String.prototype.replace,J$=/%20/g,TE={RFC1738:"RFC1738",RFC3986:"RFC3986"},w1={default:TE.RFC3986,formatters:{RFC1738:function(r){return Z$.call(r,J$,"+")},RFC3986:function(r){return String(r)}},RFC1738:TE.RFC1738,RFC3986:TE.RFC3986},e9=w1,CE=Object.prototype.hasOwnProperty,Jc=Array.isArray,Io=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),t9=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Jc(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);t.obj[t.prop]=i}}},PF=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},r9=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(Jc(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!CE.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return Jc(e)&&!Jc(t)&&(i=PF(e,n)),Jc(e)&&Jc(t)?(t.forEach(function(a,l){if(CE.call(e,l)){var u=e[l];u&&typeof u=="object"&&a&&typeof a=="object"?e[l]=r(u,a,n):e.push(a)}else e[l]=a}),e):Object.keys(t).reduce(function(a,l){var u=t[l];return CE.call(a,l)?a[l]=r(a[l],u,n):a[l]=u,a},i)},n9=function(e,t){return Object.keys(t).reduce(function(n,i){return n[i]=t[i],n},e)},i9=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},wE=1024,a9=function(e,t,n,i,a){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),n==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(x){return"%26%23"+parseInt(x.slice(2),16)+"%3B"});for(var u="",f=0;f<l.length;f+=wE){for(var p=l.length>=wE?l.slice(f,f+wE):l,g=[],v=0;v<p.length;++v){var b=p.charCodeAt(v);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||a===e9.RFC1738&&(b===40||b===41)){g[g.length]=p.charAt(v);continue}if(b<128){g[g.length]=Io[b];continue}if(b<2048){g[g.length]=Io[192|b>>6]+Io[128|b&63];continue}if(b<55296||b>=57344){g[g.length]=Io[224|b>>12]+Io[128|b>>6&63]+Io[128|b&63];continue}v+=1,b=65536+((b&1023)<<10|p.charCodeAt(v)&1023),g[g.length]=Io[240|b>>18]+Io[128|b>>12&63]+Io[128|b>>6&63]+Io[128|b&63]}u+=g.join("")}return u},s9=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var a=t[i],l=a.obj[a.prop],u=Object.keys(l),f=0;f<u.length;++f){var p=u[f],g=l[p];typeof g=="object"&&g!==null&&n.indexOf(g)===-1&&(t.push({obj:l,prop:p}),n.push(g))}return t9(t),e},o9=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},l9=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},u9=function(e,t){return[].concat(e,t)},c9=function(e,t){if(Jc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},MF={arrayToObject:PF,assign:n9,combine:u9,compact:s9,decode:i9,encode:a9,isBuffer:l9,isRegExp:o9,maybeMap:c9,merge:r9},IF=K$,Jy=MF,Pm=w1,h9=Object.prototype.hasOwnProperty,DF={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},zo=Array.isArray,d9=Array.prototype.push,OF=function(r,e){d9.apply(r,zo(e)?e:[e])},f9=Date.prototype.toISOString,uI=Pm.default,Kn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Jy.encode,encodeValuesOnly:!1,format:uI,formatter:Pm.formatters[uI],indices:!1,serializeDate:function(e){return f9.call(e)},skipNulls:!1,strictNullHandling:!1},p9=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},AE={},m9=function r(e,t,n,i,a,l,u,f,p,g,v,b,x,S,E,A,P,L){for(var D=e,N=L,M=0,$=!1;(N=N.get(AE))!==void 0&&!$;){var U=N.get(e);if(M+=1,typeof U<"u"){if(U===M)throw new RangeError("Cyclic object value");$=!0}typeof N.get(AE)>"u"&&(M=0)}if(typeof g=="function"?D=g(t,D):D instanceof Date?D=x(D):n==="comma"&&zo(D)&&(D=Jy.maybeMap(D,function(F){return F instanceof Date?x(F):F})),D===null){if(l)return p&&!A?p(t,Kn.encoder,P,"key",S):t;D=""}if(p9(D)||Jy.isBuffer(D)){if(p){var V=A?t:p(t,Kn.encoder,P,"key",S);return[E(V)+"="+E(p(D,Kn.encoder,P,"value",S))]}return[E(t)+"="+E(String(D))]}var re=[];if(typeof D>"u")return re;var O;if(n==="comma"&&zo(D))A&&p&&(D=Jy.maybeMap(D,p)),O=[{value:D.length>0?D.join(",")||null:void 0}];else if(zo(g))O=g;else{var Q=Object.keys(D);O=v?Q.sort(v):Q}var q=f?t.replace(/\./g,"%2E"):t,ae=i&&zo(D)&&D.length===1?q+"[]":q;if(a&&zo(D)&&D.length===0)return ae+"[]";for(var oe=0;oe<O.length;++oe){var Ie=O[oe],G=typeof Ie=="object"&&typeof Ie.value<"u"?Ie.value:D[Ie];if(!(u&&G===null)){var W=b&&f?Ie.replace(/\./g,"%2E"):Ie,k=zo(D)?typeof n=="function"?n(ae,W):ae:ae+(b?"."+W:"["+W+"]");L.set(e,M);var J=IF();J.set(AE,L),OF(re,r(G,k,n,i,a,l,u,f,n==="comma"&&A&&zo(D)?null:p,g,v,b,x,S,E,A,P,J))}}return re},g9=function(e){if(!e)return Kn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Kn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Pm.default;if(typeof e.format<"u"){if(!h9.call(Pm.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Pm.formatters[n],a=Kn.filter;(typeof e.filter=="function"||zo(e.filter))&&(a=e.filter);var l;if(e.arrayFormat in DF?l=e.arrayFormat:"indices"in e?l=e.indices?"indices":"repeat":l=Kn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Kn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Kn.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Kn.allowEmptyArrays,arrayFormat:l,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Kn.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Kn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Kn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Kn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Kn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Kn.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Kn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Kn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Kn.strictNullHandling}},v9=function(r,e){var t=r,n=g9(e),i,a;typeof n.filter=="function"?(a=n.filter,t=a("",t)):zo(n.filter)&&(a=n.filter,i=a);var l=[];if(typeof t!="object"||t===null)return"";var u=DF[n.arrayFormat],f=u==="comma"&&n.commaRoundTrip;i||(i=Object.keys(t)),n.sort&&i.sort(n.sort);for(var p=IF(),g=0;g<i.length;++g){var v=i[g];n.skipNulls&&t[v]===null||OF(l,m9(t[v],v,u,f,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var b=l.join(n.delimiter),x=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""},uf=MF,kT=Object.prototype.hasOwnProperty,y9=Array.isArray,xn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:uf.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_9=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},FF=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},b9="utf8=%26%2310003%3B",x9="utf8=%E2%9C%93",S9=function(e,t){var n={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,l=i.split(t.delimiter,a),u=-1,f,p=t.charset;if(t.charsetSentinel)for(f=0;f<l.length;++f)l[f].indexOf("utf8=")===0&&(l[f]===x9?p="utf-8":l[f]===b9&&(p="iso-8859-1"),u=f,f=l.length);for(f=0;f<l.length;++f)if(f!==u){var g=l[f],v=g.indexOf("]="),b=v===-1?g.indexOf("="):v+1,x,S;b===-1?(x=t.decoder(g,xn.decoder,p,"key"),S=t.strictNullHandling?null:""):(x=t.decoder(g.slice(0,b),xn.decoder,p,"key"),S=uf.maybeMap(FF(g.slice(b+1),t),function(A){return t.decoder(A,xn.decoder,p,"value")})),S&&t.interpretNumericEntities&&p==="iso-8859-1"&&(S=_9(S)),g.indexOf("[]=")>-1&&(S=y9(S)?[S]:S);var E=kT.call(n,x);E&&t.duplicates==="combine"?n[x]=uf.combine(n[x],S):(!E||t.duplicates==="last")&&(n[x]=S)}return n},E9=function(r,e,t,n){for(var i=n?e:FF(e,t),a=r.length-1;a>=0;--a){var l,u=r[a];if(u==="[]"&&t.parseArrays)l=t.allowEmptyArrays&&i===""?[]:[].concat(i);else{l=t.plainObjects?Object.create(null):{};var f=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,p=t.decodeDotInKeys?f.replace(/%2E/g,"."):f,g=parseInt(p,10);!t.parseArrays&&p===""?l={0:i}:!isNaN(g)&&u!==p&&String(g)===p&&g>=0&&t.parseArrays&&g<=t.arrayLimit?(l=[],l[g]=i):p!=="__proto__"&&(l[p]=i)}i=l}return i},T9=function(e,t,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,f=n.depth>0&&l.exec(a),p=f?a.slice(0,f.index):a,g=[];if(p){if(!n.plainObjects&&kT.call(Object.prototype,p)&&!n.allowPrototypes)return;g.push(p)}for(var v=0;n.depth>0&&(f=u.exec(a))!==null&&v<n.depth;){if(v+=1,!n.plainObjects&&kT.call(Object.prototype,f[1].slice(1,-1))&&!n.allowPrototypes)return;g.push(f[1])}return f&&g.push("["+a.slice(f.index)+"]"),E9(g,t,n,i)}},C9=function(e){if(!e)return xn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?xn.charset:e.charset,n=typeof e.duplicates>"u"?xn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:xn.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:xn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:xn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:xn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:xn.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:xn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:xn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:xn.decoder,delimiter:typeof e.delimiter=="string"||uf.isRegExp(e.delimiter)?e.delimiter:xn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:xn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:xn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:xn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:xn.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xn.strictNullHandling}},w9=function(r,e){var t=C9(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?S9(r,t):r,i=t.plainObjects?Object.create(null):{},a=Object.keys(n),l=0;l<a.length;++l){var u=a[l],f=T9(u,n[u],t,typeof r=="string");i=uf.merge(i,f,t)}return t.allowSparse===!0?i:uf.compact(i)},A9=v9,R9=w9,P9=w1,M9={formats:P9,parse:R9,stringify:A9},I9=dj;function ps(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var D9=/^([a-z0-9.+-]+:)/i,O9=/:[0-9]*$/,F9=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,L9=["<",">",'"',"`"," ","\r",`
`,"	"],B9=["{","}","|","\\","^","`"].concat(L9),zT=["'"].concat(B9),cI=["%","/","?",";","#"].concat(zT),hI=["/","?","#"],N9=255,dI=/^[+a-z0-9A-Z_-]{0,63}$/,U9=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k9={javascript:!0,"javascript:":!0},GT={javascript:!0,"javascript:":!0},Jd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},HT=M9;function Jm(r,e,t){if(r&&typeof r=="object"&&r instanceof ps)return r;var n=new ps;return n.parse(r,e,t),n}ps.prototype.parse=function(r,e,t){if(typeof r!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",a=r.split(i),l=/\\/g;a[0]=a[0].replace(l,"/"),r=a.join(i);var u=r;if(u=u.trim(),!t&&r.split("#").length===1){var f=F9.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=HT.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=D9.exec(u);if(p){p=p[0];var g=p.toLowerCase();this.protocol=g,u=u.substr(p.length)}if(t||p||u.match(/^\/\/[^@/]+@[^@/]+/)){var v=u.substr(0,2)==="//";v&&!(p&&GT[p])&&(u=u.substr(2),this.slashes=!0)}if(!GT[p]&&(v||p&&!Jd[p])){for(var b=-1,x=0;x<hI.length;x++){var S=u.indexOf(hI[x]);S!==-1&&(b===-1||S<b)&&(b=S)}var E,A;b===-1?A=u.lastIndexOf("@"):A=u.lastIndexOf("@",b),A!==-1&&(E=u.slice(0,A),u=u.slice(A+1),this.auth=decodeURIComponent(E)),b=-1;for(var x=0;x<cI.length;x++){var S=u.indexOf(cI[x]);S!==-1&&(b===-1||S<b)&&(b=S)}b===-1&&(b=u.length),this.host=u.slice(0,b),u=u.slice(b),this.parseHost(),this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P)for(var L=this.hostname.split(/\./),x=0,D=L.length;x<D;x++){var N=L[x];if(N&&!N.match(dI)){for(var M="",$=0,U=N.length;$<U;$++)N.charCodeAt($)>127?M+="x":M+=N[$];if(!M.match(dI)){var V=L.slice(0,x),re=L.slice(x+1),O=N.match(U9);O&&(V.push(O[1]),re.unshift(O[2])),re.length&&(u="/"+re.join(".")+u),this.hostname=V.join(".");break}}}this.hostname.length>N9?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=I9.toASCII(this.hostname));var Q=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+Q,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!k9[g])for(var x=0,D=zT.length;x<D;x++){var ae=zT[x];if(u.indexOf(ae)!==-1){var oe=encodeURIComponent(ae);oe===ae&&(oe=escape(ae)),u=u.split(ae).join(oe)}}var Ie=u.indexOf("#");Ie!==-1&&(this.hash=u.substr(Ie),u=u.slice(0,Ie));var G=u.indexOf("?");if(G!==-1?(this.search=u.substr(G),this.query=u.substr(G+1),e&&(this.query=HT.parse(this.query)),u=u.slice(0,G)):e&&(this.search="",this.query={}),u&&(this.pathname=u),Jd[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",W=this.search||"";this.path=Q+W}return this.href=this.format(),this};function z9(r){return typeof r=="string"&&(r=Jm(r)),r instanceof ps?r.format():ps.prototype.format.call(r)}ps.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=HT.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var l=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Jd[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),l&&l.charAt(0)!=="?"&&(l="?"+l),t=t.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),l=l.replace("#","%23"),e+i+t+l+n};function G9(r,e){return Jm(r,!1,!0).resolve(e)}ps.prototype.resolve=function(r){return this.resolveObject(Jm(r,!1,!0)).format()};function H9(r,e){return r?Jm(r,!1,!0).resolveObject(e):e}ps.prototype.resolveObject=function(r){if(typeof r=="string"){var e=new ps;e.parse(r,!1,!0),r=e}for(var t=new ps,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];t[a]=this[a]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var l=Object.keys(r),u=0;u<l.length;u++){var f=l[u];f!=="protocol"&&(t[f]=r[f])}return Jd[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!Jd[r.protocol]){for(var p=Object.keys(r),g=0;g<p.length;g++){var v=p[g];t[v]=r[v]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!GT[r.protocol]){for(var D=(r.pathname||"").split("/");D.length&&!(r.host=D.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),D[0]!==""&&D.unshift(""),D.length<2&&D.unshift(""),t.pathname=D.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var b=t.pathname||"",x=t.search||"";t.path=b+x}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var S=t.pathname&&t.pathname.charAt(0)==="/",E=r.host||r.pathname&&r.pathname.charAt(0)==="/",A=E||S||t.host&&r.pathname,P=A,L=t.pathname&&t.pathname.split("/")||[],D=r.pathname&&r.pathname.split("/")||[],N=t.protocol&&!Jd[t.protocol];if(N&&(t.hostname="",t.port=null,t.host&&(L[0]===""?L[0]=t.host:L.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(D[0]===""?D[0]=r.host:D.unshift(r.host)),r.host=null),A=A&&(D[0]===""||L[0]==="")),E)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,L=D;else if(D.length)L||(L=[]),L.pop(),L=L.concat(D),t.search=r.search,t.query=r.query;else if(r.search!=null){if(N){t.host=L.shift(),t.hostname=t.host;var M=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;M&&(t.auth=M.shift(),t.hostname=M.shift(),t.host=t.hostname)}return t.search=r.search,t.query=r.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!L.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var $=L.slice(-1)[0],U=(t.host||r.host||L.length>1)&&($==="."||$==="..")||$==="",V=0,re=L.length;re>=0;re--)$=L[re],$==="."?L.splice(re,1):$===".."?(L.splice(re,1),V++):V&&(L.splice(re,1),V--);if(!A&&!P)for(;V--;V)L.unshift("..");A&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),U&&L.join("/").substr(-1)!=="/"&&L.push("");var O=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(N){t.hostname=O?"":L.length?L.shift():"",t.host=t.hostname;var M=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;M&&(t.auth=M.shift(),t.hostname=M.shift(),t.host=t.hostname)}return A=A||t.host&&L.length,A&&!O&&L.unshift(""),L.length>0?t.pathname=L.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};ps.prototype.parseHost=function(){var r=this.host,e=O9.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};Ku.parse=Jm;Ku.resolve=G9;Ku.resolveObject=H9;Ku.format=z9;Ku.Url=ps;class c0{constructor(e){le(this,"json"),le(this,"name"),le(this,"url"),le(this,"pose"),le(this,"physics"),this.json=e;const t=e.url;if(typeof t!="string")throw new TypeError("The `url` field in settings JSON must be defined as a string.");this.url=t,this.name=sj(this.url)}resolveURL(e){return Ku.resolve(this.url,e)}replaceFiles(e){this.moc=e(this.moc,"moc"),this.pose!==void 0&&(this.pose=e(this.pose,"pose")),this.physics!==void 0&&(this.physics=e(this.physics,"physics"));for(let t=0;t<this.textures.length;t++)this.textures[t]=e(this.textures[t],`textures[${t}]`)}getDefinedFiles(){const e=[];return this.replaceFiles(t=>(e.push(t),t)),e}validateFiles(e){const t=(a,l)=>{const u=this.resolveURL(a);if(!e.includes(u)){if(l)throw new Error(`File "${a}" is defined in settings, but doesn't exist in given files`);return!1}return!0};return[this.moc,...this.textures].forEach(a=>t(a,!0)),this.getDefinedFiles().filter(a=>t(a,!1))}}var Mm=(r=>(r[r.NONE=0]="NONE",r[r.IDLE=1]="IDLE",r[r.NORMAL=2]="NORMAL",r[r.FORCE=3]="FORCE",r))(Mm||{});class LF{constructor(){le(this,"tag"),le(this,"debug",!1),le(this,"currentPriority",0),le(this,"reservePriority",0),le(this,"currentGroup"),le(this,"currentIndex"),le(this,"reservedGroup"),le(this,"reservedIndex"),le(this,"reservedIdleGroup"),le(this,"reservedIdleIndex")}reserve(e,t,n){if(n<=0)return nr.log(this.tag,"Cannot start a motion with MotionPriority.NONE."),!1;if(e===this.currentGroup&&t===this.currentIndex)return nr.log(this.tag,"Motion is already playing.",this.dump(e,t)),!1;if(e===this.reservedGroup&&t===this.reservedIndex||e===this.reservedIdleGroup&&t===this.reservedIdleIndex)return nr.log(this.tag,"Motion is already reserved.",this.dump(e,t)),!1;if(n===1){if(this.currentPriority!==0)return nr.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(e,t)),!1;if(this.reservedIdleGroup!==void 0)return nr.log(this.tag,"Cannot start idle motion because another idle motion has reserved.",this.dump(e,t)),!1;this.setReservedIdle(e,t)}else{if(n<3){if(n<=this.currentPriority)return nr.log(this.tag,"Cannot start motion because another motion is playing as an equivalent or higher priority.",this.dump(e,t)),!1;if(n<=this.reservePriority)return nr.log(this.tag,"Cannot start motion because another motion has reserved as an equivalent or higher priority.",this.dump(e,t)),!1}this.setReserved(e,t,n)}return!0}start(e,t,n,i){if(i===1){if(this.setReservedIdle(void 0,void 0),this.currentPriority!==0)return nr.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(t,n)),!1}else{if(t!==this.reservedGroup||n!==this.reservedIndex)return nr.log(this.tag,"Cannot start motion because another motion has taken the place.",this.dump(t,n)),!1;this.setReserved(void 0,void 0,0)}return e?(this.setCurrent(t,n,i),!0):!1}complete(){this.setCurrent(void 0,void 0,0)}setCurrent(e,t,n){this.currentPriority=n,this.currentGroup=e,this.currentIndex=t}setReserved(e,t,n){this.reservePriority=n,this.reservedGroup=e,this.reservedIndex=t}setReservedIdle(e,t){this.reservedIdleGroup=e,this.reservedIdleIndex=t}isActive(e,t){return e===this.currentGroup&&t===this.currentIndex||e===this.reservedGroup&&t===this.reservedIndex||e===this.reservedIdleGroup&&t===this.reservedIdleIndex}reset(){this.setCurrent(void 0,void 0,0),this.setReserved(void 0,void 0,0),this.setReservedIdle(void 0,void 0)}shouldRequestIdleMotion(){return this.currentGroup===void 0&&this.reservedIdleGroup===void 0}shouldOverrideExpression(){return!1}dump(e,t){if(this.debug){const n=["currentPriority","reservePriority","currentGroup","currentIndex","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex"];return`
<Requested> group = "${e}", index = ${t}
`+n.map(i=>"["+i+"] "+this[i]).join(`
`)}return""}}const V9="SoundManager",ef=.5;class ii{static get volume(){return this._volume}static set volume(e){this._volume=(e>1?1:e<0?0:e)||0,this.audios.forEach(t=>t.volume=this._volume)}static add(e,t,n,i){const a=new Audio(e);return a.volume=this._volume,a.preload="auto",a.crossOrigin=i,a.addEventListener("ended",()=>{this.dispose(a),t?.()}),a.addEventListener("error",l=>{this.dispose(a),nr.warn(V9,`Error occurred on "${e}"`,l.error),n?.(l.error)}),this.audios.push(a),a}static play(e){return new Promise((t,n)=>{var i;(i=e.play())==null||i.catch(a=>{e.dispatchEvent(new ErrorEvent("error",{error:a})),n(a)}),e.readyState===e.HAVE_ENOUGH_DATA?t():e.addEventListener("canplaythrough",t)})}static addContext(e){const t=new AudioContext;return this.contexts.push(t),t}static addAnalyzer(e,t){const n=t.createMediaElementSource(e),i=t.createAnalyser();return i.fftSize=sh.fftSize,i.minDecibels=-90,i.maxDecibels=-10,i.smoothingTimeConstant=.85,n.connect(i),i.connect(t.destination),this.analysers.push(i),i}static analyze(e){if(e!=null){const t=new Float32Array(e.fftSize);let n=0;e.getFloatTimeDomainData(t);for(const i of t)n+=i*i;return parseFloat(Math.sqrt(n/t.length*20).toFixed(1))}else return parseFloat(Math.random().toFixed(1))}static dispose(e){e.pause(),e.removeAttribute("src"),oj(this.audios,e)}static destroy(){for(let e=this.contexts.length-1;e>=0;e--)this.contexts[e].close();for(let e=this.audios.length-1;e>=0;e--)this.dispose(this.audios[e])}}le(ii,"audios",[]);le(ii,"analysers",[]);le(ii,"contexts",[]);le(ii,"_volume",ef);class h0 extends kl{constructor(e,t){super(),le(this,"tag"),le(this,"settings"),le(this,"motionGroups",{}),le(this,"state",new LF),le(this,"currentAudio"),le(this,"currentAnalyzer"),le(this,"currentContext"),le(this,"playing",!1),le(this,"destroyed",!1),this.settings=e,this.tag=`MotionManager(${e.name})`,this.state.tag=this.tag}init(e){e?.idleMotionGroup&&(this.groups.idle=e.idleMotionGroup),this.setupMotions(e),this.stopAllMotions()}setupMotions(e){for(const n of Object.keys(this.definitions))this.motionGroups[n]=[];let t;switch(e?.motionPreload){case"NONE":return;case"ALL":t=Object.keys(this.definitions);break;case"IDLE":default:t=[this.groups.idle];break}for(const n of t)if(this.definitions[n])for(let i=0;i<this.definitions[n].length;i++)this.loadMotion(n,i).then()}loadMotion(e,t){return Dr(this,null,function*(){var n;if(!((n=this.definitions[e])!=null&&n[t])){nr.warn(this.tag,`Undefined motion at "${e}"[${t}]`);return}if(this.motionGroups[e][t]===null){nr.warn(this.tag,`Cannot start motion at "${e}"[${t}] because it's already failed in loading.`);return}if(this.motionGroups[e][t])return this.motionGroups[e][t];const i=yield this._loadMotion(e,t);if(!this.destroyed)return this.motionGroups[e][t]=i??null,i})}_loadMotion(e,t){throw new Error("Not implemented.")}speak(e){return Dr(this,arguments,function*(t,{volume:n=ef,expression:i,resetExpression:a=!0,crossOrigin:l,onFinish:u,onError:f}={}){let p,g,v;if(this.currentAudio&&!this.currentAudio.ended)return!1;let b;const x=t&&t.startsWith("data:");if(t&&!x){const E=document.createElement("a");E.href=t,t=E.href,b=t}else b="data:audio/";const S=t;if(S)try{p=ii.add(S,(E=this)=>{nr.warn(this.tag,"Audio finished playing"),u?.(),a&&i&&E.expressionManager&&E.expressionManager.resetExpression(),E.currentAudio=void 0},(E,A=this)=>{nr.error(this.tag,"Error during audio playback:",E),f?.(E),a&&i&&A.expressionManager&&A.expressionManager.resetExpression(),A.currentAudio=void 0},l),this.currentAudio=p,ii.volume=n,v=ii.addContext(this.currentAudio),this.currentContext=v,g=ii.addAnalyzer(this.currentAudio,this.currentContext),this.currentAnalyzer=g}catch(E){return nr.warn(this.tag,"Failed to create audio",b,E),!1}if(p){let E=!0;if(yield ii.play(p).catch(P=>{nr.warn(this.tag,"Failed to play audio",p.src,P),E=!1}),!E)return!1}return this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),i&&this.expressionManager&&this.expressionManager.setExpression(i),this.playing=!0,!0})}startMotion(e,t){return Dr(this,arguments,function*(n,i,a=Mm.NORMAL,{sound:l=void 0,volume:u=ef,expression:f=void 0,resetExpression:p=!0,crossOrigin:g,onFinish:v,onError:b}={}){var x;if(!this.state.reserve(n,i,a)||this.currentAudio&&!this.currentAudio.ended&&a!=Mm.FORCE)return!1;const S=(x=this.definitions[n])==null?void 0:x[i];if(!S)return!1;this.currentAudio&&ii.dispose(this.currentAudio);let E,A,P,L;const D=l&&l.startsWith("data:");if(l&&!D){const $=document.createElement("a");$.href=l,l=$.href,L=l}else L=this.getSoundFile(S),L&&(L=this.settings.resolveURL(L));const N=L;if(N)try{E=ii.add(N,($=this)=>{v?.(),p&&f&&$.expressionManager&&$.expressionManager.resetExpression(),$.currentAudio=void 0},($,U=this)=>{nr.error(this.tag,"Error during audio playback:",$),b?.($),p&&f&&U.expressionManager&&U.expressionManager.resetExpression(),U.currentAudio=void 0},g),this.currentAudio=E,ii.volume=u,P=ii.addContext(this.currentAudio),this.currentContext=P,A=ii.addAnalyzer(this.currentAudio,this.currentContext),this.currentAnalyzer=A}catch($){nr.warn(this.tag,"Failed to create audio",L,$)}const M=yield this.loadMotion(n,i);return E&&(yield ii.play(E).catch(U=>nr.warn(this.tag,"Failed to play audio",E.src,U))),this.state.start(M,n,i,a)?(this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),nr.log(this.tag,"Start motion:",this.getMotionName(S)),this.emit("motionStart",n,i,E),f&&this.expressionManager&&this.state.shouldOverrideExpression()&&this.expressionManager.setExpression(f),this.playing=!0,this._startMotion(M),!0):(E&&(ii.dispose(E),this.currentAudio=void 0),!1)})}startRandomMotion(e,t){return Dr(this,arguments,function*(n,i,{sound:a,volume:l=ef,expression:u,resetExpression:f=!0,crossOrigin:p,onFinish:g,onError:v}={}){const b=this.definitions[n];if(b?.length){const x=[];for(let S=0;S<b.length;S++)this.motionGroups[n][S]!==null&&!this.state.isActive(n,S)&&x.push(S);if(x.length){const S=x[Math.floor(Math.random()*x.length)];return this.startMotion(n,S,i,{sound:a,volume:l,expression:u,resetExpression:f,crossOrigin:p,onFinish:g,onError:v})}}return!1})}stopSpeaking(){this.currentAudio&&(ii.dispose(this.currentAudio),this.currentAudio=void 0)}stopAllMotions(){this._stopAllMotions(),this.state.reset(),this.stopSpeaking()}update(e,t){var n;return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.shouldOverrideExpression()&&((n=this.expressionManager)==null||n.restoreExpression()),this.state.complete(),this.state.shouldRequestIdleMotion()&&this.startRandomMotion(this.groups.idle,Mm.IDLE)),this.updateParameters(e,t)}mouthSync(){return this.currentAnalyzer?ii.analyze(this.currentAnalyzer):0}destroy(){var e;this.destroyed=!0,this.emit("destroy"),this.stopAllMotions(),(e=this.expressionManager)==null||e.destroy();const t=this;t.definitions=void 0,t.motionGroups=void 0}}const j9={x:0,y:0,width:0,height:0};class BF extends kl{constructor(){super(...arguments),le(this,"focusController",new cj),le(this,"pose"),le(this,"physics"),le(this,"originalWidth",0),le(this,"originalHeight",0),le(this,"width",0),le(this,"height",0),le(this,"localTransform",new Sr),le(this,"drawingMatrix",new Sr),le(this,"hitAreas",{}),le(this,"textureFlipY",!1),le(this,"viewport",[0,0,0,0]),le(this,"destroyed",!1)}init(){this.setupLayout(),this.setupHitAreas()}setupLayout(){const e=this,t=this.getSize();e.originalWidth=t[0],e.originalHeight=t[1];const n=Object.assign({width:UM,height:kM},this.getLayout());this.localTransform.scale(n.width/UM,n.height/kM),e.width=this.originalWidth*this.localTransform.a,e.height=this.originalHeight*this.localTransform.d;const i=n.x!==void 0&&n.x-n.width/2||n.centerX!==void 0&&n.centerX||n.left!==void 0&&n.left-n.width/2||n.right!==void 0&&n.right+n.width/2||0,a=n.y!==void 0&&n.y-n.height/2||n.centerY!==void 0&&n.centerY||n.top!==void 0&&n.top-n.height/2||n.bottom!==void 0&&n.bottom+n.height/2||0;this.localTransform.translate(this.width*i,-this.height*a)}setupHitAreas(){const e=this.getHitAreaDefs().filter(t=>t.index>=0);for(const t of e)this.hitAreas[t.name]=t}hitTest(e,t){return Object.keys(this.hitAreas).filter(n=>this.isHit(n,e,t))}isHit(e,t,n){if(!this.hitAreas[e])return!1;const i=this.hitAreas[e].index,a=this.getDrawableBounds(i,j9);return a.x<=t&&t<=a.x+a.width&&a.y<=n&&n<=a.y+a.height}getDrawableBounds(e,t){const n=this.getDrawableVertices(e);let i=n[0],a=n[0],l=n[1],u=n[1];for(let f=0;f<n.length;f+=2){const p=n[f],g=n[f+1];i=Math.min(p,i),a=Math.max(p,a),l=Math.min(g,l),u=Math.max(g,u)}return t??(t={}),t.x=i,t.y=l,t.width=a-i,t.height=u-l,t}updateTransform(e){this.drawingMatrix.copyFrom(e).append(this.localTransform)}update(e,t){this.focusController.update(e)}destroy(){this.destroyed=!0,this.emit("destroy"),this.motionManager.destroy(),this.motionManager=void 0,this.parallelMotionManager.forEach(e=>e.destroy()),this.parallelMotionManager=[]}}const $9="XHRLoader";class fI extends Error{constructor(e,t,n,i=!1){super(e),this.url=t,this.status=n,this.aborted=i}}const Gm=class pa{static createXHR(e,t,n,i,a){const l=new XMLHttpRequest;if(pa.allXhrSet.add(l),e){let u=pa.xhrMap.get(e);u?u.add(l):(u=new Set([l]),pa.xhrMap.set(e,u)),e.listeners("destroy").includes(pa.cancelXHRs)||e.once("destroy",pa.cancelXHRs)}return l.open("GET",t),l.responseType=n,l.onload=()=>{(l.status===200||l.status===0)&&l.response?i(l.response):l.onerror()},l.onerror=()=>{nr.warn($9,`Failed to load resource as ${l.responseType} (Status ${l.status}): ${t}`),a(new fI("Network error.",t,l.status))},l.onabort=()=>a(new fI("Aborted.",t,l.status,!0)),l.onloadend=()=>{var u;pa.allXhrSet.delete(l),e&&((u=pa.xhrMap.get(e))==null||u.delete(l))},l}static cancelXHRs(){var e;(e=pa.xhrMap.get(this))==null||e.forEach(t=>{t.abort(),pa.allXhrSet.delete(t)}),pa.xhrMap.delete(this)}static release(){pa.allXhrSet.forEach(e=>e.abort()),pa.allXhrSet.clear(),pa.xhrMap=new WeakMap}};le(Gm,"xhrMap",new WeakMap);le(Gm,"allXhrSet",new Set);le(Gm,"loader",(r,e)=>new Promise((t,n)=>{Gm.createXHR(r.target,r.settings?r.settings.resolveURL(r.url):r.url,r.type,a=>{r.result=a,t()},n).send()}));let W9=Gm;function NF(r,e){let t=-1;return n(0);function n(i,a){if(a)return Promise.reject(a);if(i<=t)return Promise.reject(new Error("next() called multiple times"));t=i;const l=r[i];if(!l)return Promise.resolve();try{return Promise.resolve(l(e,n.bind(null,i+1)))}catch(u){return Promise.reject(u)}}}class Wu{static load(e){return NF(this.middlewares,e).then(()=>e.result)}}le(Wu,"middlewares",[W9.loader]);function X9(r,e={}){var t;const n={resourceOptions:{crossorigin:e.crossOrigin}};if(je.fromURL)return je.fromURL(r,n).catch(l=>{if(l instanceof Error)throw l;const u=new Error("Texture loading error");throw u.event=l,u});n.resourceOptions.autoLoad=!1;const i=je.from(r,n);if(i.baseTexture.valid)return Promise.resolve(i);const a=i.baseTexture.resource;return(t=a._live2d_load)!=null||(a._live2d_load=new Promise((l,u)=>{const f=p=>{a.source.removeEventListener("error",f);const g=new Error("Texture loading error");g.event=p,u(g)};a.source.addEventListener("error",f),a.load().then(()=>l(i)).catch(f)})),a._live2d_load}function Y9(){}const pI="Live2DFactory",UF=(r,e)=>Dr(void 0,null,function*(){if(typeof r.source=="string"){const t=yield Wu.load({url:r.source,type:"json",target:r.live2dModel});t.url=r.source,r.source=t,r.live2dModel.emit("settingsJSONLoaded",t)}return e()}),kF=(r,e)=>Dr(void 0,null,function*(){if(r.source instanceof c0)return r.settings=r.source,e();if(typeof r.source=="object"){const t=za.findRuntime(r.source);if(t){const n=t.createModelSettings(r.source);return r.settings=n,r.live2dModel.emit("settingsLoaded",n),e()}}throw new TypeError("Unknown settings format.")}),zF=(r,e)=>{if(r.settings){const t=za.findRuntime(r.settings);if(t)return t.ready().then(e)}return e()},GF=(r,e)=>Dr(void 0,null,function*(){yield e();const t=r.internalModel;if(t){const n=r.settings,i=za.findRuntime(n);if(i){const a=[];n.pose&&a.push(Wu.load({settings:n,url:n.pose,type:"json",target:t}).then(l=>{t.pose=i.createPose(t.coreModel,l),r.live2dModel.emit("poseLoaded",t.pose)}).catch(l=>{r.live2dModel.emit("poseLoadError",l),nr.warn(pI,"Failed to load pose.",l)})),n.physics&&a.push(Wu.load({settings:n,url:n.physics,type:"json",target:t}).then(l=>{t.physics=i.createPhysics(t.coreModel,l),r.live2dModel.emit("physicsLoaded",t.physics)}).catch(l=>{r.live2dModel.emit("physicsLoadError",l),nr.warn(pI,"Failed to load physics.",l)})),a.length&&(yield Promise.all(a))}}}),HF=(r,e)=>Dr(void 0,null,function*(){if(r.settings){const t=r.live2dModel,n=Promise.all(r.settings.textures.map(i=>{const a=r.settings.resolveURL(i);return X9(a,{crossOrigin:r.options.crossOrigin})}));if(n.catch(Y9),yield e(),r.internalModel)t.internalModel=r.internalModel,t.emit("modelLoaded",r.internalModel);else throw new TypeError("Missing internal model.");t.textures=yield n,t.emit("textureLoaded",t.textures)}else throw new TypeError("Missing settings.")}),VF=(r,e)=>Dr(void 0,null,function*(){const t=r.settings;if(t instanceof c0){const n=za.findRuntime(t);if(!n)throw new TypeError("Unknown model settings.");const i=yield Wu.load({settings:t,url:t.moc,type:"arraybuffer",target:r.live2dModel});if(!n.isValidMoc(i))throw new Error("Invalid moc data");const a=n.createCoreModel(i);return r.internalModel=n.createInternalModel(a,t,r.options),e()}throw new TypeError("Missing settings.")}),ea=class kd{static unzip(e,t){return Dr(this,null,function*(){const n=yield kd.getFilePaths(e),i=[];for(const l of t.getDefinedFiles()){const u=decodeURI(Ku.resolve(t.url,l));n.includes(u)&&i.push(u)}const a=yield kd.getFiles(e,i);for(let l=0;l<a.length;l++){const u=i[l],f=a[l];Object.defineProperty(f,"webkitRelativePath",{value:u})}return a})}static createSettings(e){return Dr(this,null,function*(){const n=(yield kd.getFilePaths(e)).find(u=>u.endsWith("model.json")||u.endsWith("model3.json"));if(!n)throw new Error("Settings file not found");const i=yield kd.readText(e,n);if(!i)throw new Error("Empty settings file: "+n);const a=JSON.parse(i);a.url=n;const l=kd.live2dFactory.findRuntime(a);if(!l)throw new Error("Unknown settings JSON");return l.createModelSettings(a)})}static zipReader(e,t){return Dr(this,null,function*(){throw new Error("Not implemented")})}static getFilePaths(e){return Dr(this,null,function*(){throw new Error("Not implemented")})}static getFiles(e,t){return Dr(this,null,function*(){throw new Error("Not implemented")})}static readText(e,t){return Dr(this,null,function*(){throw new Error("Not implemented")})}static releaseReader(e){}};le(ea,"live2dFactory");le(ea,"ZIP_PROTOCOL","zip://");le(ea,"uid",0);le(ea,"factory",(r,e)=>Dr(ea,null,function*(){const t=r.source;let n,i,a;if(typeof t=="string"&&(t.endsWith(".zip")||t.startsWith(ea.ZIP_PROTOCOL))?(t.startsWith(ea.ZIP_PROTOCOL)?n=t.slice(ea.ZIP_PROTOCOL.length):n=t,i=yield Wu.load({url:n,type:"blob",target:r.live2dModel})):Array.isArray(t)&&t.length===1&&t[0]instanceof File&&t[0].name.endsWith(".zip")&&(i=t[0],n=URL.createObjectURL(i),a=t.settings),i){if(!i.size)throw new Error("Empty zip file");const l=yield ea.zipReader(i,n);a||(a=yield ea.createSettings(l)),a._objectURL=ea.ZIP_PROTOCOL+ea.uid+"/"+a.url;const u=yield ea.unzip(l,a);u.settings=a,r.source=u,n.startsWith("blob:")&&r.live2dModel.once("modelLoaded",f=>{f.once("destroy",function(){URL.revokeObjectURL(n)})}),ea.releaseReader(l)}return e()}));let jF=ea;const Ys=class e_{static resolveURL(e,t){var n;const i=(n=e_.filesMap[e])==null?void 0:n[t];if(i===void 0)throw new Error("Cannot find this file from uploaded files: "+t);return i}static upload(e,t){return Dr(this,null,function*(){const n={};for(const i of t.getDefinedFiles()){const a=decodeURI(Ku.resolve(t.url,i)),l=e.find(u=>u.webkitRelativePath===a);l&&(n[i]=URL.createObjectURL(l))}e_.filesMap[t._objectURL]=n})}static createSettings(e){return Dr(this,null,function*(){const t=e.find(u=>u.name.endsWith("model.json")||u.name.endsWith("model3.json"));if(!t)throw new TypeError("Settings file not found");const n=yield e_.readText(t),i=JSON.parse(n);i.url=t.webkitRelativePath;const a=za.findRuntime(i);if(!a)throw new Error("Unknown settings JSON");const l=a.createModelSettings(i);return l._objectURL=URL.createObjectURL(t),l})}static readText(e){return Dr(this,null,function*(){return new Promise((t,n)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=n,i.readAsText(e,"utf8")})})}};le(Ys,"live2dFactory");le(Ys,"filesMap",{});le(Ys,"factory",(r,e)=>Dr(Ys,null,function*(){if(Array.isArray(r.source)&&r.source[0]instanceof File){const t=r.source;let n=t.settings;if(!n)n=yield Ys.createSettings(t);else if(!n._objectURL)throw new Error('"_objectURL" must be specified in ModelSettings');n.validateFiles(t.map(i=>encodeURI(i.webkitRelativePath))),yield Ys.upload(t,n),n.resolveURL=function(i){return Ys.resolveURL(this._objectURL,i)},r.source=n,r.live2dModel.once("modelLoaded",i=>{i.once("destroy",function(){const a=this.settings._objectURL;if(URL.revokeObjectURL(a),Ys.filesMap[a])for(const l of Object.values(Ys.filesMap[a]))URL.revokeObjectURL(l);delete Ys.filesMap[a]})})}return e()}));let $F=Ys;const to=class bi{static registerRuntime(e){bi.runtimes.push(e),bi.runtimes.sort((t,n)=>n.version-t.version)}static findRuntime(e){for(const t of bi.runtimes)if(t.test(e))return t}static setupLive2DModel(e,t,n){return Dr(this,null,function*(){const i=new Promise(u=>e.once("textureLoaded",u)),a=new Promise(u=>e.once("modelLoaded",u)),l=Promise.all([i,a]).then(()=>e.emit("ready"));yield NF(bi.live2DModelMiddlewares,{live2dModel:e,source:t,options:n||{}}),yield l,e.emit("load")})}static loadMotion(e,t,n){var i,a;const l=u=>e.emit("motionLoadError",t,n,u);try{const u=(i=e.definitions[t])==null?void 0:i[n];if(!u)return Promise.resolve(void 0);e.listeners("destroy").includes(bi.releaseTasks)||e.once("destroy",bi.releaseTasks);let f=bi.motionTasksMap.get(e);f||(f={},bi.motionTasksMap.set(e,f));let p=f[t];p||(p=[],f[t]=p);const g=e.getMotionFile(u);return(a=p[n])!=null||(p[n]=Wu.load({url:g,settings:e.settings,type:e.motionDataType,target:e}).then(v=>{var b;const x=(b=bi.motionTasksMap.get(e))==null?void 0:b[t];x&&delete x[n];const S=e.createMotion(v,t,u);return e.emit("motionLoaded",t,n,S),S}).catch(v=>{nr.warn(e.tag,`Failed to load motion: ${g}
`,v),l(v)})),p[n]}catch(u){nr.warn(e.tag,`Failed to load motion at "${t}"[${n}]
`,u),l(u)}return Promise.resolve(void 0)}static loadExpression(e,t){var n;const i=a=>e.emit("expressionLoadError",t,a);try{const a=e.definitions[t];if(!a)return Promise.resolve(void 0);e.listeners("destroy").includes(bi.releaseTasks)||e.once("destroy",bi.releaseTasks);let l=bi.expressionTasksMap.get(e);l||(l=[],bi.expressionTasksMap.set(e,l));const u=e.getExpressionFile(a);return(n=l[t])!=null||(l[t]=Wu.load({url:u,settings:e.settings,type:"json",target:e}).then(f=>{const p=bi.expressionTasksMap.get(e);p&&delete p[t];const g=e.createExpression(f,a);return e.emit("expressionLoaded",t,g),g}).catch(f=>{nr.warn(e.tag,`Failed to load expression: ${u}
`,f),i(f)})),l[t]}catch(a){nr.warn(e.tag,`Failed to load expression at [${t}]
`,a),i(a)}return Promise.resolve(void 0)}static releaseTasks(){this instanceof h0?bi.motionTasksMap.delete(this):bi.expressionTasksMap.delete(this)}};le(to,"runtimes",[]);le(to,"urlToJSON",UF);le(to,"jsonToSettings",kF);le(to,"waitUntilReady",zF);le(to,"setupOptionals",GF);le(to,"setupEssentials",HF);le(to,"createInternalModel",VF);le(to,"live2DModelMiddlewares",[jF.factory,$F.factory,UF,kF,zF,GF,HF,VF]);le(to,"motionTasksMap",new WeakMap);le(to,"expressionTasksMap",new WeakMap);let za=to;h0.prototype._loadMotion=function(r,e){return za.loadMotion(this,r,e)};_1.prototype._loadExpression=function(r){return za.loadExpression(this,r)};$F.live2dFactory=za;jF.live2dFactory=za;const WF=class VT{constructor(e,{autoUpdate:t=!0,autoHitTest:n=!0,autoFocus:i=!0,autoInteract:a,ticker:l}={}){le(this,"model"),le(this,"destroyed",!1),le(this,"_ticker"),le(this,"_autoUpdate",!1),le(this,"_autoHitTest",!1),le(this,"_autoFocus",!1),l||(VT.defaultTicker?l=VT.defaultTicker:typeof PIXI<"u"&&(l=PIXI.Ticker.shared)),a!==void 0&&(n=a,i=a,nr.warn(e.tag,"options.autoInteract is deprecated since v0.5.0, use autoHitTest and autoFocus instead.")),this.model=e,this.ticker=l,this.autoUpdate=t,this.autoHitTest=n,this.autoFocus=i,(n||i)&&(this.model.eventMode="static")}get ticker(){return this._ticker}set ticker(e){var t;this._ticker&&this._ticker.remove(Ly,this),this._ticker=e,this._autoUpdate&&((t=this._ticker)==null||t.add(Ly,this))}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){var t;this.destroyed||(e?this._ticker?(this._ticker.add(Ly,this),this._autoUpdate=!0):nr.warn(this.model.tag,"No Ticker to be used for automatic updates. Either set option.ticker when creating Live2DModel, or expose PIXI to global scope (window.PIXI = PIXI)."):((t=this._ticker)==null||t.remove(Ly,this),this._autoUpdate=!1))}get autoHitTest(){return this._autoHitTest}set autoHitTest(e){e!==this.autoHitTest&&(e?this.model.on("pointertap",gI,this):this.model.off("pointertap",gI,this),this._autoHitTest=e)}get autoFocus(){return this._autoFocus}set autoFocus(e){e!==this.autoFocus&&(e?this.model.on("globalpointermove",vI,this):this.model.off("globalpointermove",vI,this),this._autoFocus=e)}get autoInteract(){return this._autoHitTest&&this._autoFocus}set autoInteract(e){this.autoHitTest=e,this.autoFocus=e}onTickerUpdate(){const e=this.ticker.deltaMS;this.model.update(e)}onTap(e){this.model.tap(e.global.x,e.global.y)}onPointerMove(e){this.model.focus(e.global.x,e.global.y)}destroy(){this.autoFocus=!1,this.autoHitTest=!1,this.autoUpdate=!1,this.ticker=void 0,this.destroyed=!0}};le(WF,"defaultTicker");let mI=WF;function Ly(){this.onTickerUpdate()}function gI(r){this.onTap(r)}function vI(r){this.onPointerMove(r)}class q9 extends Ym{}const as=new $t,Q9=new Sr;class K9 extends Jn{constructor(e){super(),le(this,"tag","Live2DModel(uninitialized)"),le(this,"internalModel"),le(this,"textures",[]),le(this,"transform",new q9),le(this,"anchor",new ds(this.onAnchorChange,this,0,0)),le(this,"glContextID",-1),le(this,"elapsedTime",0),le(this,"deltaTime",0),le(this,"automator"),this.automator=new mI(this,e),this.once("modelLoaded",()=>this.init(e))}static from(e,t){const n=new this(t);return za.setupLive2DModel(n,e,t).then(()=>n)}static fromSync(e,t){const n=new this(t);return za.setupLive2DModel(n,e,t).then(t?.onLoad).catch(t?.onError),n}static registerTicker(e){mI.defaultTicker=e.shared}init(e){this.tag=`Live2DModel(${this.internalModel.settings.name})`}onAnchorChange(){this.pivot.set(this.anchor.x*this.internalModel.width,this.anchor.y*this.internalModel.height)}motion(e,t,n,{sound:i=void 0,volume:a=ef,expression:l=void 0,resetExpression:u=!0,crossOrigin:f,onFinish:p,onError:g}={}){return t===void 0?this.internalModel.motionManager.startRandomMotion(e,n,{sound:i,volume:a,expression:l,resetExpression:u,crossOrigin:f,onFinish:p,onError:g}):this.internalModel.motionManager.startMotion(e,t,n,{sound:i,volume:a,expression:l,resetExpression:u,crossOrigin:f,onFinish:p,onError:g})}parallelMotion(e){return Dr(this,null,function*(){this.internalModel.extendParallelMotionManager(e.length);const t=e.map((i,a)=>{var l;return(l=this.internalModel.parallelMotionManager[a])==null?void 0:l.startMotion(i.group,i.index,i.priority)});let n=[];for(let i of t)n.push(yield i);return n})}stopMotions(){return this.internalModel.motionManager.stopAllMotions()}speak(e,{volume:t=ef,expression:n,resetExpression:i=!0,crossOrigin:a,onFinish:l,onError:u}={}){return this.internalModel.motionManager.speak(e,{volume:t,expression:n,resetExpression:i,crossOrigin:a,onFinish:l,onError:u})}stopSpeaking(){return this.internalModel.motionManager.stopSpeaking()}expression(e){return this.internalModel.motionManager.expressionManager?e===void 0?this.internalModel.motionManager.expressionManager.setRandomExpression():this.internalModel.motionManager.expressionManager.setExpression(e):Promise.resolve(!1)}focus(e,t,n=!1){as.x=e,as.y=t,this.toModelPosition(as,as,!0);const i=as.x/this.internalModel.originalWidth*2-1,a=as.y/this.internalModel.originalHeight*2-1,l=Math.atan2(a,i);this.internalModel.focusController.focus(Math.cos(l),-Math.sin(l),n)}tap(e,t){const n=this.hitTest(e,t);n.length&&(nr.log(this.tag,"Hit",n),this.emit("hit",n))}hitTest(e,t){return as.x=e,as.y=t,this.toModelPosition(as,as),this.internalModel.hitTest(as.x,as.y)}toModelPosition(e,t=e.clone(),n){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.transform.worldTransform.applyInverse(e,t),this.internalModel.localTransform.applyInverse(t,t),t}containsPoint(e){return this.getBounds(!0).contains(e.x,e.y)}_calculateBounds(){this._bounds.addFrame(this.transform,0,0,this.internalModel.width,this.internalModel.height)}update(e){this.deltaTime+=e,this.elapsedTime+=e}_render(e){e.batch.reset(),e.geometry.reset(),e.shader.reset(),e.state.reset();let t=!1;this.glContextID!==e.CONTEXT_UID&&(this.glContextID=e.CONTEXT_UID,this.internalModel.updateWebGLContext(e.gl,this.glContextID),t=!0);for(let a=0;a<this.textures.length;a++){const l=this.textures[a];l.valid&&((t||!l.baseTexture._glTextures[this.glContextID])&&(e.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL,this.internalModel.textureFlipY),e.texture.bind(l.baseTexture,0)),this.internalModel.bindTexture(a,l.baseTexture._glTextures[this.glContextID].texture),l.baseTexture.touched=e.textureGC.count)}const n=e.framebuffer.viewport;this.internalModel.viewport=[n.x,n.y,n.width,n.height],this.deltaTime&&(this.internalModel.update(this.deltaTime,this.elapsedTime),this.deltaTime=0);const i=Q9.copyFrom(e.globalUniforms.uniforms.projectionMatrix).append(this.worldTransform);this.internalModel.updateTransform(i),this.internalModel.draw(e.gl),e.state.reset(),e.texture.reset()}destroy(e){this.emit("destroy"),e?.texture&&this.textures.forEach(t=>t.destroy(e.baseTexture)),this.automator.destroy(),this.internalModel.destroy(),super.destroy(e)}}if(!window.Live2D)throw new Error("Could not find Cubism 2 runtime. This plugin requires live2d.min.js to be loaded.");const Z9=Live2DMotion.prototype.updateParam;Live2DMotion.prototype.updateParam=function(r,e){Z9.call(this,r,e),e.isFinished()&&this.onFinishHandler&&(this.onFinishHandler(this),delete this.onFinishHandler)};class J9 extends AMotion{constructor(e){super(),le(this,"params",[]),this.setFadeIn(e.fade_in>0?e.fade_in:sh.expressionFadingDuration),this.setFadeOut(e.fade_out>0?e.fade_out:sh.expressionFadingDuration),Array.isArray(e.params)&&e.params.forEach(t=>{const n=t.calc||"add";if(n==="add"){const i=t.def||0;t.val-=i}else if(n==="mult"){const i=t.def||1;t.val/=i}this.params.push({calc:n,val:t.val,id:t.id})})}updateParamExe(e,t,n,i){this.params.forEach(a=>{e.setParamFloat(a.id,a.val*n)})}}class e7 extends _1{constructor(e,t){var n;super(e,t),le(this,"queueManager",new MotionQueueManager),le(this,"definitions"),this.definitions=(n=this.settings.expressions)!=null?n:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(t=>t.name===e)}getExpressionFile(e){return e.file}createExpression(e,t){return new J9(e)}_setExpression(e){return this.queueManager.startMotion(e)}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,t){return this.queueManager.updateParam(e)}}class t7 extends h0{constructor(e,t){super(e,t),le(this,"definitions"),le(this,"groups",{idle:"idle"}),le(this,"motionDataType","arraybuffer"),le(this,"queueManager",new MotionQueueManager),le(this,"lipSyncIds"),le(this,"expressionManager"),this.definitions=this.settings.motions,this.init(t),this.lipSyncIds=["PARAM_MOUTH_OPEN_Y"]}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new e7(this.settings,e))}isFinished(){return this.queueManager.isFinished()}createMotion(e,t,n){const i=Live2DMotion.loadMotion(e),a=t===this.groups.idle?sh.idleMotionFadingDuration:sh.motionFadingDuration;return i.setFadeIn(n.fade_in>0?n.fade_in:a),i.setFadeOut(n.fade_out>0?n.fade_out:a),i}getMotionFile(e){return e.file}getMotionName(e){return e.file}getSoundFile(e){return e.sound}_startMotion(e,t){return e.onFinishHandler=t,this.queueManager.stopAllMotions(),this.queueManager.startMotion(e)}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(e,t){return this.queueManager.updateParam(e)}destroy(){super.destroy(),this.queueManager=void 0}}class XF extends kl{constructor(e,t){super(),le(this,"tag"),le(this,"manager"),le(this,"settings"),le(this,"state",new LF),le(this,"playing",!1),le(this,"destroyed",!1),this.settings=e,this.tag=`ParallelMotionManager(${e.name})`,this.state.tag=this.tag,this.manager=t}startMotion(e,t){return Dr(this,arguments,function*(n,i,a=Mm.NORMAL){var l;if(!this.state.reserve(n,i,a))return!1;const u=(l=this.manager.definitions[n])==null?void 0:l[i];if(!u)return!1;const f=yield this.manager.loadMotion(n,i);return this.state.start(f,n,i,a)?(nr.log(this.tag,"Start motion:",this.getMotionName(u)),this.emit("motionStart",n,i,void 0),this.playing=!0,this._startMotion(f),!0):!1})}startRandomMotion(e,t){return Dr(this,null,function*(){const n=this.manager.definitions[e];if(n?.length){const i=[];for(let a=0;a<n.length;a++)this.manager.motionGroups[e][a]!==null&&!this.state.isActive(e,a)&&i.push(a);if(i.length){const a=i[Math.floor(Math.random()*i.length)];return this.startMotion(e,a,t)}}return!1})}stopAllMotions(){this._stopAllMotions(),this.state.reset()}update(e,t){return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.complete()),this.updateParameters(e,t)}destroy(){this.destroyed=!0,this.emit("destroy"),this.stopAllMotions()}}class r7 extends XF{constructor(e,t){super(e,t),le(this,"queueManager",new MotionQueueManager)}isFinished(){return this.queueManager.isFinished()}getMotionName(e){return e.file}_startMotion(e,t){return e.onFinishHandler=t,this.queueManager.stopAllMotions(),this.queueManager.startMotion(e)}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(e,t){return this.queueManager.updateParam(e)}destroy(){super.destroy(),this.queueManager=void 0}}class n7{constructor(e){le(this,"leftParam"),le(this,"rightParam"),le(this,"blinkInterval",4e3),le(this,"closingDuration",100),le(this,"closedDuration",50),le(this,"openingDuration",150),le(this,"eyeState",0),le(this,"eyeParamValue",1),le(this,"closedTimer",0),le(this,"nextBlinkTimeLeft",this.blinkInterval),this.coreModel=e,this.leftParam=e.getParamIndex("PARAM_EYE_L_OPEN"),this.rightParam=e.getParamIndex("PARAM_EYE_R_OPEN")}setEyeParams(e){this.eyeParamValue=sf(e,0,1),this.coreModel.setParamFloat(this.leftParam,this.eyeParamValue),this.coreModel.setParamFloat(this.rightParam,this.eyeParamValue)}update(e){switch(this.eyeState){case 0:this.nextBlinkTimeLeft-=e,this.nextBlinkTimeLeft<0&&(this.eyeState=1,this.nextBlinkTimeLeft=this.blinkInterval+this.closingDuration+this.closedDuration+this.openingDuration+ij(0,2e3));break;case 1:this.setEyeParams(this.eyeParamValue+e/this.closingDuration),this.eyeParamValue<=0&&(this.eyeState=2,this.closedTimer=0);break;case 2:this.closedTimer+=e,this.closedTimer>=this.closedDuration&&(this.eyeState=3);break;case 3:this.setEyeParams(this.eyeParamValue+e/this.openingDuration),this.eyeParamValue>=1&&(this.eyeState=0)}}}const jc=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class i7 extends BF{constructor(e,t,n){super(),le(this,"settings"),le(this,"options"),le(this,"coreModel"),le(this,"motionManager"),le(this,"parallelMotionManager"),le(this,"eyeBlink"),le(this,"eyeballXParamIndex"),le(this,"eyeballYParamIndex"),le(this,"angleXParamIndex"),le(this,"angleYParamIndex"),le(this,"angleZParamIndex"),le(this,"bodyAngleXParamIndex"),le(this,"breathParamIndex"),le(this,"textureFlipY",!0),le(this,"lipSync",!0),le(this,"drawDataCount",0),le(this,"disableCulling",!1),le(this,"hasDrawn",!1),this.coreModel=e,this.settings=t,this.options=Object.assign({},{breathDepth:1},n),this.motionManager=new t7(t,n),this.parallelMotionManager=[],this.eyeBlink=new n7(e),this.eyeballXParamIndex=e.getParamIndex("PARAM_EYE_BALL_X"),this.eyeballYParamIndex=e.getParamIndex("PARAM_EYE_BALL_Y"),this.angleXParamIndex=e.getParamIndex("PARAM_ANGLE_X"),this.angleYParamIndex=e.getParamIndex("PARAM_ANGLE_Y"),this.angleZParamIndex=e.getParamIndex("PARAM_ANGLE_Z"),this.bodyAngleXParamIndex=e.getParamIndex("PARAM_BODY_ANGLE_X"),this.breathParamIndex=e.getParamIndex("PARAM_BREATH"),this.init()}init(){super.init(),this.settings.initParams&&this.settings.initParams.forEach(({id:a,value:l})=>this.coreModel.setParamFloat(a,l)),this.settings.initOpacities&&this.settings.initOpacities.forEach(({id:a,value:l})=>this.coreModel.setPartsOpacity(a,l)),this.coreModel.saveParam();const e=this.coreModel.getModelContext()._$aS;e?.length&&(this.drawDataCount=e.length);let t=this.coreModel.drawParamWebGL.culling;Object.defineProperty(this.coreModel.drawParamWebGL,"culling",{set:a=>t=a,get:()=>this.disableCulling?!1:t});const n=this.coreModel.getModelContext().clipManager,i=n.setupClip;n.setupClip=(a,l)=>{i.call(n,a,l),l.gl.viewport(...this.viewport)}}getSize(){return[this.coreModel.getCanvasWidth(),this.coreModel.getCanvasHeight()]}getLayout(){const e={};if(this.settings.layout)for(const[t,n]of Object.entries(this.settings.layout)){let i=t;t==="center_x"?i="centerX":t==="center_y"&&(i="centerY"),e[i]=n}return e}updateWebGLContext(e,t){const n=this.coreModel.drawParamWebGL;n.firstDraw=!0,n.setGL(e),n.glno=t;for(const[l,u]of Object.entries(n))u instanceof WebGLBuffer&&(n[l]=null);const i=this.coreModel.getModelContext().clipManager;i.curFrameNo=t;const a=e.getParameter(e.FRAMEBUFFER_BINDING);i.getMaskRenderTexture(),e.bindFramebuffer(e.FRAMEBUFFER,a)}bindTexture(e,t){this.coreModel.setTexture(e,t)}getHitAreaDefs(){var e;return((e=this.settings.hitAreas)==null?void 0:e.map(t=>({id:t.id,name:t.name,index:this.coreModel.getDrawDataIndex(t.id)})))||[]}getDrawableIDs(){const e=this.coreModel.getModelContext(),t=[];for(let n=0;n<this.drawDataCount;n++){const i=e.getDrawData(n);i&&t.push(i.getDrawDataID().id)}return t}getDrawableIndex(e){return this.coreModel.getDrawDataIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawDataIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);return this.coreModel.getTransformedPoints(e).slice()}hitTest(e,t){return this.hasDrawn||nr.warn("Trying to hit-test a Cubism 2 model that has not been rendered yet. The result will always be empty since the draw data is not ready."),super.hitTest(e,t)}update(e,t){var n,i,a,l;super.update(e,t);const u=this.coreModel;this.emit("beforeMotionUpdate");const f=this.motionManager.update(u,t),p=this.parallelMotionManager.map(v=>v.update(u,t)),g=f||p.reduce((v,b)=>v||b,!1);if(this.emit("afterMotionUpdate"),u.saveParam(),(n=this.motionManager.expressionManager)==null||n.update(u,t),g||(i=this.eyeBlink)==null||i.update(e),this.updateFocus(),this.updateNaturalMovements(e,t),this.lipSync&&this.motionManager.currentAudio){let v=this.motionManager.mouthSync(),b=0;const x=1,S=1.2,E=.7;v>0&&(b=.4),v=Math.pow(v,E),v=sf(v*S,b,x);for(let A=0;A<this.motionManager.lipSyncIds.length;++A)this.coreModel.setParamFloat(this.coreModel.getParamIndex(this.motionManager.lipSyncIds[A]),v)}(a=this.physics)==null||a.update(t),(l=this.pose)==null||l.update(e),this.emit("beforeModelUpdate"),u.update(),u.loadParam()}updateFocus(){this.coreModel.addToParamFloat(this.eyeballXParamIndex,this.focusController.x),this.coreModel.addToParamFloat(this.eyeballYParamIndex,this.focusController.y),this.coreModel.addToParamFloat(this.angleXParamIndex,this.focusController.x*30),this.coreModel.addToParamFloat(this.angleYParamIndex,this.focusController.y*30),this.coreModel.addToParamFloat(this.angleZParamIndex,this.focusController.x*this.focusController.y*-30),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,this.focusController.x*10)}updateNaturalMovements(e,t){const n=t/1e3*2*Math.PI;this.coreModel.addToParamFloat(this.angleXParamIndex,15*this.options.breathDepth*Math.sin(n/6.5345)*.5),this.coreModel.addToParamFloat(this.angleYParamIndex,8*this.options.breathDepth*Math.sin(n/3.5345)*.5),this.coreModel.addToParamFloat(this.angleZParamIndex,10*this.options.breathDepth*Math.sin(n/5.5345)*.5),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,4*this.options.breathDepth*Math.sin(n/15.5345)*.5),this.coreModel.setParamFloat(this.breathParamIndex,.5+.5*Math.sin(n/3.2345))}draw(e){const t=this.disableCulling;e.getParameter(e.FRAMEBUFFER_BINDING)&&(this.disableCulling=!0);const n=this.drawingMatrix;jc[0]=n.a,jc[1]=n.b,jc[4]=n.c,jc[5]=n.d,jc[12]=n.tx,jc[13]=n.ty,this.coreModel.setMatrix(jc),this.coreModel.draw(),this.hasDrawn=!0,this.disableCulling=t}extendParallelMotionManager(e){for(;this.parallelMotionManager.length<e;)this.parallelMotionManager.push(new r7(this.settings,this.motionManager))}destroy(){super.destroy(),this.coreModel=void 0}}class Im extends c0{constructor(e){if(super(e),le(this,"moc"),le(this,"textures"),le(this,"layout"),le(this,"hitAreas"),le(this,"initParams"),le(this,"initOpacities"),le(this,"expressions"),le(this,"motions",{}),!Im.isValidJSON(e))throw new TypeError("Invalid JSON.");this.moc=e.model,lm("string",e,this,"textures","textures"),this.copy(e)}static isValidJSON(e){var t;return!!e&&typeof e.model=="string"&&((t=e.textures)==null?void 0:t.length)>0&&e.textures.every(n=>typeof n=="string")}copy(e){om("string",e,this,"name","name"),om("string",e,this,"pose","pose"),om("string",e,this,"physics","physics"),om("object",e,this,"layout","layout"),om("object",e,this,"motions","motions"),lm("object",e,this,"hit_areas","hitAreas"),lm("object",e,this,"expressions","expressions"),lm("object",e,this,"init_params","initParams"),lm("object",e,this,"init_opacities","initOpacities")}replaceFiles(e){super.replaceFiles(e);for(const[t,n]of Object.entries(this.motions))for(let i=0;i<n.length;i++)n[i].file=e(n[i].file,`motions.${t}[${i}].file`),n[i].sound!==void 0&&(n[i].sound=e(n[i].sound,`motions.${t}[${i}].sound`));if(this.expressions)for(let t=0;t<this.expressions.length;t++)this.expressions[t].file=e(this.expressions[t].file,`expressions[${t}].file`)}}const a7={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE},s7={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE};class o7{constructor(e,t){le(this,"physicsHairs",[]),this.coreModel=e,t.physics_hair&&(this.physicsHairs=t.physics_hair.map(n=>{const i=new PhysicsHair;return i.setup(n.setup.length,n.setup.regist,n.setup.mass),n.src.forEach(({id:a,ptype:l,scale:u,weight:f})=>{const p=a7[l];p&&i.addSrcParam(p,a,u,f)}),n.targets.forEach(({id:a,ptype:l,scale:u,weight:f})=>{const p=s7[l];p&&i.addTargetParam(p,a,u,f)}),i}))}update(e){this.physicsHairs.forEach(t=>t.update(this.coreModel,e))}}class yI{constructor(e){le(this,"paramIndex",-1),le(this,"partsIndex",-1),le(this,"link",[]),this.id=e}initIndex(e){this.paramIndex=e.getParamIndex("VISIBLE:"+this.id),this.partsIndex=e.getPartsDataIndex(PartsDataID.getID(this.id)),e.setParamFloat(this.paramIndex,1)}}class l7{constructor(e,t){le(this,"opacityAnimDuration",500),le(this,"partsGroups",[]),this.coreModel=e,t.parts_visible&&(this.partsGroups=t.parts_visible.map(({group:n})=>n.map(({id:i,link:a})=>{const l=new yI(i);return a&&(l.link=a.map(u=>new yI(u))),l})),this.init())}init(){this.partsGroups.forEach(e=>{e.forEach(t=>{if(t.initIndex(this.coreModel),t.paramIndex>=0){const n=this.coreModel.getParamFloat(t.paramIndex)!==0;this.coreModel.setPartsOpacity(t.partsIndex,n?1:0),this.coreModel.setParamFloat(t.paramIndex,n?1:0),t.link.length>0&&t.link.forEach(i=>i.initIndex(this.coreModel))}})})}normalizePartsOpacityGroup(e,t){const n=this.coreModel,i=.5,a=.15;let l=1,u=e.findIndex(({paramIndex:f,partsIndex:p})=>p>=0&&n.getParamFloat(f)!==0);if(u>=0){const f=n.getPartsOpacity(e[u].partsIndex);l=sf(f+t/this.opacityAnimDuration,0,1)}else u=0,l=1;e.forEach(({partsIndex:f},p)=>{if(f>=0)if(u==p)n.setPartsOpacity(f,l);else{let g=n.getPartsOpacity(f),v;l<i?v=l*(i-1)/i+1:v=(1-l)*i/(1-i),(1-v)*(1-l)>a&&(v=1-a/(1-l)),g>v&&(g=v),n.setPartsOpacity(f,g)}})}copyOpacity(e){const t=this.coreModel;e.forEach(({partsIndex:n,link:i})=>{if(n>=0&&i){const a=t.getPartsOpacity(n);i.forEach(({partsIndex:l})=>{l>=0&&t.setPartsOpacity(l,a)})}})}update(e){this.partsGroups.forEach(t=>{this.normalizePartsOpacityGroup(t,e),this.copyOpacity(t)})}}za.registerRuntime({version:2,test(r){return r instanceof Im||Im.isValidJSON(r)},ready(){return Promise.resolve()},isValidMoc(r){if(r.byteLength<3)return!1;const e=new Int8Array(r,0,3);return String.fromCharCode(...e)==="moc"},createModelSettings(r){return new Im(r)},createCoreModel(r){const e=Live2DModelWebGL.loadModel(r),t=Live2D.getError();if(t)throw t;return e},createInternalModel(r,e,t){return new i7(r,e,t)},createPose(r,e){return new l7(r,e)},createPhysics(r,e){return new o7(r,e)}});if(!window.Live2DCubismCore)throw new Error("Could not find Cubism 4 runtime. This plugin requires live2dcubismcore.js to be loaded.");class Et{constructor(e,t){this.x=e||0,this.y=t||0}add(e){const t=new Et(0,0);return t.x=this.x+e.x,t.y=this.y+e.y,t}substract(e){const t=new Et(0,0);return t.x=this.x-e.x,t.y=this.y-e.y,t}multiply(e){const t=new Et(0,0);return t.x=this.x*e.x,t.y=this.y*e.y,t}multiplyByScaler(e){return this.multiply(new Et(e,e))}division(e){const t=new Et(0,0);return t.x=this.x/e.x,t.y=this.y/e.y,t}divisionByScalar(e){return this.division(new Et(e,e))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(e){return Math.sqrt((this.x-e.x)*(this.x-e.x)+(this.y-e.y)*(this.y-e.y))}dot(e){return this.x*e.x+this.y*e.y}normalize(){const e=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/e,this.y=this.y/e}isEqual(e){return this.x==e.x&&this.y==e.y}isNotEqual(e){return!this.isEqual(e)}}const YF=class t_{static range(e,t,n){return e<t?e=t:e>n&&(e=n),e}static sin(e){return Math.sin(e)}static cos(e){return Math.cos(e)}static abs(e){return Math.abs(e)}static sqrt(e){return Math.sqrt(e)}static cbrt(e){if(e===0)return e;let t=e;const n=t<0;n&&(t=-t);let i;return t===1/0?i=1/0:(i=Math.exp(Math.log(t)/3),i=(t/(i*i)+2*i)/3),n?-i:i}static getEasingSine(e){return e<0?0:e>1?1:.5-.5*this.cos(e*Math.PI)}static max(e,t){return e>t?e:t}static min(e,t){return e>t?t:e}static degreesToRadian(e){return e/180*Math.PI}static radianToDegrees(e){return e*180/Math.PI}static directionToRadian(e,t){const n=Math.atan2(t.y,t.x),i=Math.atan2(e.y,e.x);let a=n-i;for(;a<-Math.PI;)a+=Math.PI*2;for(;a>Math.PI;)a-=Math.PI*2;return a}static directionToDegrees(e,t){const n=this.directionToRadian(e,t);let i=this.radianToDegrees(n);return t.x-e.x>0&&(i=-i),i}static radianToDirection(e){const t=new Et;return t.x=this.sin(e),t.y=this.cos(e),t}static quadraticEquation(e,t,n){return this.abs(e)<t_.Epsilon?this.abs(t)<t_.Epsilon?-n:-n/t:-(t+this.sqrt(t*t-4*e*n))/(2*e)}static cardanoAlgorithmForBezier(e,t,n,i){if(this.sqrt(e)<t_.Epsilon)return this.range(this.quadraticEquation(t,n,i),0,1);const a=t/e,l=n/e,u=i/e,f=(3*l-a*a)/3,p=f/3,g=(2*a*a*a-9*a*l+27*u)/27,v=g/2,b=v*v+p*p*p,x=.5,S=x+.01;if(b<0){const D=-f/3,N=D*D*D,M=this.sqrt(N),$=-g/(2*M),U=this.range($,-1,1),V=Math.acos(U),O=2*this.cbrt(M),Q=O*this.cos(V/3)-a/3;if(this.abs(Q-x)<S)return this.range(Q,0,1);const q=O*this.cos((V+2*Math.PI)/3)-a/3;if(this.abs(q-x)<S)return this.range(q,0,1);const ae=O*this.cos((V+4*Math.PI)/3)-a/3;return this.range(ae,0,1)}if(b==0){let D;v<0?D=this.cbrt(-v):D=-this.cbrt(v);const N=2*D-a/3;if(this.abs(N-x)<S)return this.range(N,0,1);const M=-D-a/3;return this.range(M,0,1)}const E=this.sqrt(b),A=this.cbrt(E-v),P=this.cbrt(E+v),L=A-P-a/3;return this.range(L,0,1)}constructor(){}};YF.Epsilon=1e-5;let sr=YF;class fs{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(e,t,n){const i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=4;for(let l=0;l<a;++l)for(let u=0;u<a;++u)for(let f=0;f<a;++f)i[u+l*4]+=e[f+l*4]*t[u+f*4];for(let l=0;l<16;++l)n[l]=i[l]}loadIdentity(){const e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(e)}setMatrix(e){for(let t=0;t<16;++t)this._tr[t]=e[t]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(e){return this._tr[0]*e+this._tr[12]}transformY(e){return this._tr[5]*e+this._tr[13]}invertTransformX(e){return(e-this._tr[12])/this._tr[0]}invertTransformY(e){return(e-this._tr[13])/this._tr[5]}translateRelative(e,t){const n=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,t,0,1]);fs.multiply(n,this._tr,this._tr)}translate(e,t){this._tr[12]=e,this._tr[13]=t}translateX(e){this._tr[12]=e}translateY(e){this._tr[13]=e}scaleRelative(e,t){const n=new Float32Array([e,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1]);fs.multiply(n,this._tr,this._tr)}scale(e,t){this._tr[0]=e,this._tr[5]=t}multiplyByMatrix(e){fs.multiply(e.getArray(),this._tr,this._tr)}clone(){const e=new fs;for(let t=0;t<this._tr.length;t++)e._tr[t]=this._tr[t];return e}}class A1{initialize(e){this._model=e}drawModel(){this.getModel()!=null&&(this.saveProfile(),this.doDrawModel(),this.restoreProfile())}setMvpMatrix(e){this._mvpMatrix4x4.setMatrix(e.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(e,t,n,i){e<0?e=0:e>1&&(e=1),t<0?t=0:t>1&&(t=1),n<0?n=0:n>1&&(n=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=e,this._modelColor.G=t,this._modelColor.B=n,this._modelColor.A=i}getModelColor(){return Object.assign({},this._modelColor)}setIsPremultipliedAlpha(e){this._isPremultipliedAlpha=e}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(e){this._isCulling=e}isCulling(){return this._isCulling}setAnisotropy(e){this._anisotropy=e}getAnisotropy(){return this._anisotropy}getModel(){return this._model}useHighPrecisionMask(e){this._useHighPrecisionMask=e}isUsingHighPrecisionMask(){return this._useHighPrecisionMask}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisotropy=0,this._modelColor=new Oa,this._useHighPrecisionMask=!1,this._mvpMatrix4x4=new fs,this._mvpMatrix4x4.loadIdentity()}}var Ol=(r=>(r[r.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",r[r.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",r[r.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",r))(Ol||{});class Oa{constructor(e=1,t=1,n=1,i=1){this.R=e,this.G=t,this.B=n,this.A=i}}let Do=!1,Md=!1,Id;const RE={vertexOffset:0,vertexStep:2};class Hm{static startUp(e){if(Do)return cm("CubismFramework.startUp() is already done."),Do;if(Live2DCubismCore._isStarted)return Do=!0,!0;if(Live2DCubismCore._isStarted=!0,Id=e,Id&&Live2DCubismCore.Logging.csmSetLogFunction(Id.logFunction),Do=!0,Do){const t=Live2DCubismCore.Version.csmGetVersion(),n=(t&4278190080)>>24,i=(t&16711680)>>16,a=t&65535,l=t;cm("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+n).slice(-2),("00"+i).slice(-2),("0000"+a).slice(-4),l)}return cm("CubismFramework.startUp() is complete."),Do}static cleanUp(){Do=!1,Md=!1,Id=void 0}static initialize(e=0){if(!Do){eh("CubismFramework is not started.");return}if(Md){eh("CubismFramework.initialize() skipped, already initialized.");return}Live2DCubismCore.Memory.initializeAmountOfMemory(e),Md=!0,cm("CubismFramework.initialize() is complete.")}static dispose(){if(!Do){eh("CubismFramework is not started.");return}if(!Md){eh("CubismFramework.dispose() skipped, not initialized.");return}A1.staticRelease(),Md=!1,cm("CubismFramework.dispose() is complete.")}static isStarted(){return Do}static isInitialized(){return Md}static coreLogFunction(e){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(e)}static getLoggingLevel(){return Id!=null?Id.loggingLevel:5}constructor(){}}var mf=(r=>(r[r.LogLevel_Verbose=0]="LogLevel_Verbose",r[r.LogLevel_Debug=1]="LogLevel_Debug",r[r.LogLevel_Info=2]="LogLevel_Info",r[r.LogLevel_Warning=3]="LogLevel_Warning",r[r.LogLevel_Error=4]="LogLevel_Error",r[r.LogLevel_Off=5]="LogLevel_Off",r))(mf||{});const Vd=typeof process<"u"&&process.env.NODE_ENV==="production"?()=>{}:r=>console.assert(r);function _I(r,...e){d0.print(mf.LogLevel_Debug,"[CSM][D]"+r+`
`,e)}function cm(r,...e){d0.print(mf.LogLevel_Info,"[CSM][I]"+r+`
`,e)}function eh(r,...e){d0.print(mf.LogLevel_Warning,"[CSM][W]"+r+`
`,e)}function $o(r,...e){d0.print(mf.LogLevel_Error,"[CSM][E]"+r+`
`,e)}class d0{static print(e,t,n){if(e<Hm.getLoggingLevel())return;const i=Hm.coreLogFunction;if(!i)return;const a=t.replace(/{(\d+)}/g,(l,u)=>n[u]);i(a)}static dumpBytes(e,t,n){for(let i=0;i<n;i++)i%16==0&&i>0?this.print(e,`
`):i%8==0&&i>0&&this.print(e,"  "),this.print(e,"{0} ",[t[i]&255]);this.print(e,`
`)}constructor(){}}class qF{constructor(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=[]}release(){this._weight=0}updateParameters(e,t,n){if(!t.isAvailable()||t.isFinished())return;if(!t.isStarted()){t.setIsStarted(!0),t.setStartTime(n-this._offsetSeconds),t.setFadeInStartTime(n);const u=this.getDuration();t.getEndTime()<0&&t.setEndTime(u<=0?-1:t.getStartTime()+u)}let i=this._weight;const a=this._fadeInSeconds==0?1:sr.getEasingSine((n-t.getFadeInStartTime())/this._fadeInSeconds),l=this._fadeOutSeconds==0||t.getEndTime()<0?1:sr.getEasingSine((t.getEndTime()-n)/this._fadeOutSeconds);i=i*a*l,t.setState(n,i),Vd(0<=i&&i<=1),this.doUpdateParameters(e,n,i,t),t.getEndTime()>0&&t.getEndTime()<n&&t.setIsFinished(!0)}setFadeInTime(e){this._fadeInSeconds=e}setFadeOutTime(e){this._fadeOutSeconds=e}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(e){this._weight=e}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(e){this._offsetSeconds=e}getFiredEvent(e,t){return this._firedEventValues}setFinishedMotionHandler(e){this._onFinishedMotion=e}getFinishedMotionHandler(){return this._onFinishedMotion}isExistModelOpacity(){return!1}getModelOpacityIndex(){return-1}getModelOpacityId(e){}getModelOpacityValue(){return 1}}const bI=1;class R1 extends qF{static create(e){const t=new R1;return t.parse(e),t}doUpdateParameters(e,t,n,i){for(let a=0;a<this._parameters.length;++a){const l=this._parameters[a];switch(l.blendType){case 0:{e.addParameterValueById(l.parameterId,l.value,n);break}case 1:{e.multiplyParameterValueById(l.parameterId,l.value,n);break}case 2:{e.setParameterValueById(l.parameterId,l.value,n);break}}}}parse(e){this.setFadeInTime(e.FadeInTime!=null?e.FadeInTime:bI),this.setFadeOutTime(e.FadeOutTime!=null?e.FadeOutTime:bI);const t=(e.Parameters||[]).length;for(let n=0;n<t;++n){const i=e.Parameters[n],a=i.Id,l=i.Value;let u;!i.Blend||i.Blend==="Add"?u=0:i.Blend==="Multiply"?u=1:i.Blend==="Overwrite"?u=2:u=0;const f={parameterId:a,blendType:u,value:l};this._parameters.push(f)}}constructor(){super(),this._parameters=[]}}class u7{constructor(){this._autoDelete=!1,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&this._motion.release()}setFadeOut(e){this._fadeOutSeconds=e,this._isTriggeredFadeOut=!0}startFadeOut(e,t){const n=t+e;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||n<this._endTimeSeconds)&&(this._endTimeSeconds=n)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(e){this._startTimeSeconds=e}setFadeInStartTime(e){this._fadeInStartTimeSeconds=e}setEndTime(e){this._endTimeSeconds=e}setIsFinished(e){this._finished=e}setIsStarted(e){this._started=e}isAvailable(){return this._available}setIsAvailable(e){this._available=e}setState(e,t){this._stateTimeSeconds=e,this._stateWeight=t}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(e){this._lastEventCheckSeconds=e}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}class P1{constructor(){this._userTimeSeconds=0,this._eventCustomData=null,this._motions=[]}release(){for(let e=0;e<this._motions.length;++e)this._motions[e]&&this._motions[e].release();this._motions=void 0}startMotion(e,t,n){if(e==null)return c7;let i;for(let a=0;a<this._motions.length;++a)i=this._motions[a],i?.setFadeOut(i._motion.getFadeOutTime());return i=new u7,i._autoDelete=t,i._motion=e,this._motions.push(i),i._motionQueueEntryHandle}isFinished(){let e=0;for(;e<this._motions.length;){const t=this._motions[e];if(t==null){this._motions.splice(e,1);continue}if(t._motion==null){t.release(),this._motions.splice(e,1);continue}if(!t.isFinished())return!1;e++}return!0}isFinishedByHandle(e){for(let t=0;t<this._motions.length;t++){const n=this._motions[t];if(n!=null&&n._motionQueueEntryHandle==e&&!n.isFinished())return!1}return!0}stopAllMotions(){for(let e=0;e<this._motions.length;e++){const t=this._motions[e];t?.release()}this._motions=[]}getCubismMotionQueueEntry(e){return this._motions.find(t=>t!=null&&t._motionQueueEntryHandle==e)}setEventCallback(e,t=null){this._eventCallBack=e,this._eventCustomData=t}doUpdateMotion(e,t){let n=!1,i=0;for(;i<this._motions.length;){const a=this._motions[i];if(a==null){this._motions.splice(i,1);continue}const l=a._motion;if(l==null){a.release(),this._motions.splice(i,1);continue}l.updateParameters(e,a,t),n=!0;const u=l.getFiredEvent(a.getLastCheckEventSeconds()-a.getStartTime(),t-a.getStartTime());for(let f=0;f<u.length;++f)this._eventCallBack(this,u[f],this._eventCustomData);a.setLastCheckEventSeconds(t),a.isFinished()?(a.release(),this._motions.splice(i,1)):(a.isTriggeredFadeOut()&&a.startFadeOut(a.getFadeOutSeconds(),t),i++)}return n}}const c7=-1;class h7 extends _1{constructor(e,t){var n;super(e,t),le(this,"queueManager",new P1),le(this,"definitions"),this.definitions=(n=e.expressions)!=null?n:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(e){return this.definitions.findIndex(t=>t.Name===e)}getExpressionFile(e){return e.File}createExpression(e,t){return R1.create(e)}_setExpression(e){return this.queueManager.startMotion(e,!1,performance.now())}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(e,t){return this.queueManager.doUpdateMotion(e,t)}}var Uo=(r=>(r[r.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",r[r.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",r[r.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",r))(Uo||{}),ko=(r=>(r[r.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",r[r.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",r[r.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",r[r.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",r))(ko||{});class Mu{constructor(e=0,t=0){this.time=e,this.value=t}}class d7{constructor(){this.basePointIndex=0,this.segmentType=0}}class f7{constructor(){this.id="",this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class p7{constructor(){this.fireTime=0,this.value=""}}class m7{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=[],this.segments=[],this.points=[],this.events=[]}}class QF{constructor(e){this._json=e}release(){this._json=void 0}getMotionDuration(){return this._json.Meta.Duration}isMotionLoop(){return this._json.Meta.Loop||!1}getEvaluationOptionFlag(e){return e==0?!!this._json.Meta.AreBeziersRestricted:!1}getMotionCurveCount(){return this._json.Meta.CurveCount}getMotionFps(){return this._json.Meta.Fps}getMotionTotalSegmentCount(){return this._json.Meta.TotalSegmentCount}getMotionTotalPointCount(){return this._json.Meta.TotalPointCount}getMotionFadeInTime(){return this._json.Meta.FadeInTime}getMotionFadeOutTime(){return this._json.Meta.FadeOutTime}getMotionCurveTarget(e){return this._json.Curves[e].Target}getMotionCurveId(e){return this._json.Curves[e].Id}getMotionCurveFadeInTime(e){return this._json.Curves[e].FadeInTime}getMotionCurveFadeOutTime(e){return this._json.Curves[e].FadeOutTime}getMotionCurveSegmentCount(e){return this._json.Curves[e].Segments.length}getMotionCurveSegment(e,t){return this._json.Curves[e].Segments[t]}getEventCount(){return this._json.Meta.UserDataCount||0}getTotalEventValueSize(){return this._json.Meta.TotalUserDataSize}getEventTime(e){return this._json.UserData[e].Time}getEventValue(e){return this._json.UserData[e].Value}}var KF=(r=>(r[r.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",r))(KF||{});const g7="EyeBlink",v7="LipSync",y7="Model",_7="Parameter",b7="PartOpacity",By="Opacity",x7=!1;function ls(r,e,t){const n=new Mu;return n.time=r.time+(e.time-r.time)*t,n.value=r.value+(e.value-r.value)*t,n}function S7(r,e){let t=(e-r[0].time)/(r[1].time-r[0].time);return t<0&&(t=0),r[0].value+(r[1].value-r[0].value)*t}function E7(r,e){let t=(e-r[0].time)/(r[3].time-r[0].time);t<0&&(t=0);const n=ls(r[0],r[1],t),i=ls(r[1],r[2],t),a=ls(r[2],r[3],t),l=ls(n,i,t),u=ls(i,a,t);return ls(l,u,t).value}function T7(r,e){const t=e,n=r[0].time,i=r[3].time,a=r[1].time,l=r[2].time,u=i-3*l+3*a-n,f=3*l-6*a+3*n,p=3*a-3*n,g=n-t,v=sr.cardanoAlgorithmForBezier(u,f,p,g),b=ls(r[0],r[1],v),x=ls(r[1],r[2],v),S=ls(r[2],r[3],v),E=ls(b,x,v),A=ls(x,S,v);return ls(E,A,v).value}function C7(r,e){return r[0].value}function w7(r,e){return r[1].value}function PE(r,e,t){const n=r.curves[e];let i=-1;const a=n.baseSegmentIndex+n.segmentCount;let l=0;for(let f=n.baseSegmentIndex;f<a;++f)if(l=r.segments[f].basePointIndex+(r.segments[f].segmentType==ko.CubismMotionSegmentType_Bezier?3:1),r.points[l].time>t){i=f;break}if(i==-1)return r.points[l].value;const u=r.segments[i];return u.evaluate(r.points.slice(u.basePointIndex),t)}class M1 extends qF{constructor(){super(),this._eyeBlinkParameterIds=[],this._lipSyncParameterIds=[],this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0,this._modelOpacity=1}static create(e,t){const n=new M1;return n.parse(e),n._sourceFrameRate=n._motionData.fps,n._loopDurationSeconds=n._motionData.duration,n._onFinishedMotion=t,n}doUpdateParameters(e,t,n,i){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=g7),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=v7),this._modelCurveIdOpacity==null&&(this._modelCurveIdOpacity=By);let a=t-i.getStartTime();a<0&&(a=0);let l=Number.MAX_VALUE,u=Number.MAX_VALUE;const f=64;let p=0,g=0;this._eyeBlinkParameterIds.length>f&&_I("too many eye blink targets : {0}",this._eyeBlinkParameterIds.length),this._lipSyncParameterIds.length>f&&_I("too many lip sync targets : {0}",this._lipSyncParameterIds.length);const v=this._fadeInSeconds<=0?1:sr.getEasingSine((t-i.getFadeInStartTime())/this._fadeInSeconds),b=this._fadeOutSeconds<=0||i.getEndTime()<0?1:sr.getEasingSine((i.getEndTime()-t)/this._fadeOutSeconds);let x,S,E,A=a;if(this._isLoop)for(;A>this._motionData.duration;)A-=this._motionData.duration;const P=this._motionData.curves;for(S=0;S<this._motionData.curveCount&&P[S].type==Uo.CubismMotionCurveTarget_Model;++S)x=PE(this._motionData,S,A),P[S].id==this._modelCurveIdEyeBlink?u=x:P[S].id==this._modelCurveIdLipSync?l=x:P[S].id==this._modelCurveIdOpacity&&(this._modelOpacity=x,e.setModelOapcity(this.getModelOpacityValue()));for(;S<this._motionData.curveCount&&P[S].type==Uo.CubismMotionCurveTarget_Parameter;++S){if(E=e.getParameterIndex(P[S].id),E==-1)continue;const L=e.getParameterValueByIndex(E);if(x=PE(this._motionData,S,A),u!=Number.MAX_VALUE){for(let N=0;N<this._eyeBlinkParameterIds.length&&N<f;++N)if(this._eyeBlinkParameterIds[N]==P[S].id){x*=u,g|=1<<N;break}}if(l!=Number.MAX_VALUE){for(let N=0;N<this._lipSyncParameterIds.length&&N<f;++N)if(this._lipSyncParameterIds[N]==P[S].id){x+=l,p|=1<<N;break}}let D;if(P[S].fadeInTime<0&&P[S].fadeOutTime<0)D=L+(x-L)*n;else{let N,M;P[S].fadeInTime<0?N=v:N=P[S].fadeInTime==0?1:sr.getEasingSine((t-i.getFadeInStartTime())/P[S].fadeInTime),P[S].fadeOutTime<0?M=b:M=P[S].fadeOutTime==0||i.getEndTime()<0?1:sr.getEasingSine((i.getEndTime()-t)/P[S].fadeOutTime);const $=this._weight*N*M;D=L+(x-L)*$}e.setParameterValueByIndex(E,D,1)}{if(u!=Number.MAX_VALUE)for(let L=0;L<this._eyeBlinkParameterIds.length&&L<f;++L){const D=e.getParameterValueById(this._eyeBlinkParameterIds[L]);if(g>>L&1)continue;const N=D+(u-D)*n;e.setParameterValueById(this._eyeBlinkParameterIds[L],N)}if(l!=Number.MAX_VALUE)for(let L=0;L<this._lipSyncParameterIds.length&&L<f;++L){const D=e.getParameterValueById(this._lipSyncParameterIds[L]);if(p>>L&1)continue;const N=D+(l-D)*n;e.setParameterValueById(this._lipSyncParameterIds[L],N)}}for(;S<this._motionData.curveCount&&P[S].type==Uo.CubismMotionCurveTarget_PartOpacity;++S)if(x=PE(this._motionData,S,A),P_.setOpacityFromMotion)e.setPartOpacityById(P[S].id,x);else{if(E=e.getParameterIndex(P[S].id),E==-1)continue;e.setParameterValueByIndex(E,x)}a>=this._motionData.duration&&(this._isLoop?(i.setStartTime(t),this._isLoopFadeIn&&i.setFadeInStartTime(t)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=n}setIsLoop(e){this._isLoop=e}isLoop(){return this._isLoop}setIsLoopFadeIn(e){this._isLoopFadeIn=e}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(e,t){const n=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==n[i].id){n[i].fadeInTime=t;return}}setParameterFadeOutTime(e,t){const n=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==n[i].id){n[i].fadeOutTime=t;return}}getParameterFadeInTime(e){const t=this._motionData.curves;for(let n=0;n<this._motionData.curveCount;++n)if(e==t[n].id)return t[n].fadeInTime;return-1}getParameterFadeOutTime(e){const t=this._motionData.curves;for(let n=0;n<this._motionData.curveCount;++n)if(e==t[n].id)return t[n].fadeOutTime;return-1}setEffectIds(e,t){this._eyeBlinkParameterIds=e,this._lipSyncParameterIds=t}release(){this._motionData=void 0}parse(e){this._motionData=new m7;const t=new QF(e);this._motionData.duration=t.getMotionDuration(),this._motionData.loop=t.isMotionLoop(),this._motionData.curveCount=t.getMotionCurveCount(),this._motionData.fps=t.getMotionFps(),this._motionData.eventCount=t.getEventCount();const n=t.getEvaluationOptionFlag(KF.EvaluationOptionFlag_AreBeziersRistricted),i=t.getMotionFadeInTime(),a=t.getMotionFadeOutTime();i!==void 0?this._fadeInSeconds=i<0?1:i:this._fadeInSeconds=1,a!==void 0?this._fadeOutSeconds=a<0?1:a:this._fadeOutSeconds=1,this._motionData.curves=Array.from({length:this._motionData.curveCount}).map(()=>new f7),this._motionData.segments=Array.from({length:t.getMotionTotalSegmentCount()}).map(()=>new d7),this._motionData.events=Array.from({length:this._motionData.eventCount}).map(()=>new p7),this._motionData.points=[];let l=0,u=0;for(let f=0;f<this._motionData.curveCount;++f){const p=this._motionData.curves[f];switch(t.getMotionCurveTarget(f)){case y7:p.type=Uo.CubismMotionCurveTarget_Model;break;case _7:p.type=Uo.CubismMotionCurveTarget_Parameter;break;case b7:p.type=Uo.CubismMotionCurveTarget_PartOpacity;break;default:eh('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!')}p.id=t.getMotionCurveId(f),p.baseSegmentIndex=u;const g=t.getMotionCurveFadeInTime(f),v=t.getMotionCurveFadeOutTime(f);p.fadeInTime=g!==void 0?g:-1,p.fadeOutTime=v!==void 0?v:-1;for(let b=0;b<t.getMotionCurveSegmentCount(f);){switch(b==0?(this._motionData.segments[u].basePointIndex=l,this._motionData.points[l]=new Mu(t.getMotionCurveSegment(f,b),t.getMotionCurveSegment(f,b+1)),l+=1,b+=2):this._motionData.segments[u].basePointIndex=l-1,t.getMotionCurveSegment(f,b)){case ko.CubismMotionSegmentType_Linear:{this._motionData.segments[u].segmentType=ko.CubismMotionSegmentType_Linear,this._motionData.segments[u].evaluate=S7,this._motionData.points[l]=new Mu(t.getMotionCurveSegment(f,b+1),t.getMotionCurveSegment(f,b+2)),l+=1,b+=3;break}case ko.CubismMotionSegmentType_Bezier:{this._motionData.segments[u].segmentType=ko.CubismMotionSegmentType_Bezier,n||x7?this._motionData.segments[u].evaluate=E7:this._motionData.segments[u].evaluate=T7,this._motionData.points[l]=new Mu(t.getMotionCurveSegment(f,b+1),t.getMotionCurveSegment(f,b+2)),this._motionData.points[l+1]=new Mu(t.getMotionCurveSegment(f,b+3),t.getMotionCurveSegment(f,b+4)),this._motionData.points[l+2]=new Mu(t.getMotionCurveSegment(f,b+5),t.getMotionCurveSegment(f,b+6)),l+=3,b+=7;break}case ko.CubismMotionSegmentType_Stepped:{this._motionData.segments[u].segmentType=ko.CubismMotionSegmentType_Stepped,this._motionData.segments[u].evaluate=C7,this._motionData.points[l]=new Mu(t.getMotionCurveSegment(f,b+1),t.getMotionCurveSegment(f,b+2)),l+=1,b+=3;break}case ko.CubismMotionSegmentType_InverseStepped:{this._motionData.segments[u].segmentType=ko.CubismMotionSegmentType_InverseStepped,this._motionData.segments[u].evaluate=w7,this._motionData.points[l]=new Mu(t.getMotionCurveSegment(f,b+1),t.getMotionCurveSegment(f,b+2)),l+=1,b+=3;break}default:{Vd(0);break}}++p.segmentCount,++u}this._motionData.curves.push(p)}for(let f=0;f<t.getEventCount();++f)this._motionData.events[f].fireTime=t.getEventTime(f),this._motionData.events[f].value=t.getEventValue(f);t.release()}getFiredEvent(e,t){this._firedEventValues.length=0;for(let n=0;n<this._motionData.eventCount;++n)this._motionData.events[n].fireTime>e&&this._motionData.events[n].fireTime<=t&&this._firedEventValues.push(this._motionData.events[n].value);return this._firedEventValues}isExistModelOpacity(){for(let e=0;e<this._motionData.curveCount;e++){const t=this._motionData.curves[e];if(t.type==Uo.CubismMotionCurveTarget_Model&&t.id===By)return!0}return!1}getModelOpacityIndex(){if(this.isExistModelOpacity())for(let e=0;e<this._motionData.curveCount;e++){const t=this._motionData.curves[e];if(t.type==Uo.CubismMotionCurveTarget_Model&&t.id===By)return e}return-1}getModelOpacityId(e){if(e!=-1){const t=this._motionData.curves[e];if(t.type==Uo.CubismMotionCurveTarget_Model&&t.id===By)return t.id}}getModelOpacityValue(){return this._modelOpacity}}class A7 extends h0{constructor(e,t){var n;super(e,t),le(this,"definitions"),le(this,"groups",{idle:"Idle"}),le(this,"motionDataType","json"),le(this,"queueManager",new P1),le(this,"expressionManager"),le(this,"eyeBlinkIds"),le(this,"lipSyncIds",["ParamMouthOpenY"]),this.definitions=(n=e.motions)!=null?n:{},this.eyeBlinkIds=e.getEyeBlinkParameters()||[];const i=e.getLipSyncParameters();i?.length&&(this.lipSyncIds=i),this.init(t)}init(e){super.init(e),this.settings.expressions&&(this.expressionManager=new h7(this.settings,e)),this.queueManager.setEventCallback((t,n,i)=>{this.emit("motion:"+n)})}isFinished(){return this.queueManager.isFinished()}_startMotion(e,t){return e.setFinishedMotionHandler(t),this.queueManager.stopAllMotions(),this.queueManager.startMotion(e,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}createMotion(e,t,n){const i=M1.create(e),a=new QF(e),l=(t===this.groups.idle?sh.idleMotionFadingDuration:sh.motionFadingDuration)/1e3;return a.getMotionFadeInTime()===void 0&&i.setFadeInTime(n.FadeInTime>0?n.FadeInTime:l),a.getMotionFadeOutTime()===void 0&&i.setFadeOutTime(n.FadeOutTime>0?n.FadeOutTime:l),i.setEffectIds(this.eyeBlinkIds,this.lipSyncIds),i}getMotionFile(e){return e.File}getMotionName(e){return e.File}getSoundFile(e){return e.Sound}updateParameters(e,t){return this.queueManager.doUpdateMotion(e,t)}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}class R7 extends XF{constructor(e,t){super(e,t),le(this,"queueManager",new P1),this.init()}init(){this.queueManager.setEventCallback((e,t,n)=>{this.emit("motion:"+t)})}isFinished(){return this.queueManager.isFinished()}_startMotion(e,t){return e.setFinishedMotionHandler(t),this.queueManager.stopAllMotions(),this.queueManager.startMotion(e,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(e,t){return this.queueManager.doUpdateMotion(e,t)}getMotionName(e){return e.File}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}const P7="ParamAngleX",M7="ParamAngleY",I7="ParamAngleZ",D7="ParamEyeBallX",O7="ParamEyeBallY",F7="ParamMouthForm",L7="ParamBodyAngleX",B7="ParamBreath";class I1{constructor(){this._breathParameters=[],this._currentTime=0}static create(){return new I1}setParameters(e){this._breathParameters=e}getParameters(){return this._breathParameters}updateParameters(e,t){this._currentTime+=t;const n=this._currentTime*2*3.14159;for(let i=0;i<this._breathParameters.length;++i){const a=this._breathParameters[i];e.addParameterValueById(a.parameterId,a.offset+a.peak*Math.sin(n/a.cycle),a.weight)}}}class hm{constructor(e,t,n,i,a){this.parameterId=e??void 0,this.offset=t??0,this.peak=n??0,this.cycle=i??0,this.weight=a??0}}const ZF=class jT{static create(e){return new jT(e)}setBlinkingInterval(e){this._blinkingIntervalSeconds=e}setBlinkingSetting(e,t,n){this._closingSeconds=e,this._closedSeconds=t,this._openingSeconds=n}setParameterIds(e){this._parameterIds=e}getParameterIds(){return this._parameterIds}updateParameters(e,t){this._userTimeSeconds+=t;let n,i=0;switch(this._blinkingState){case 2:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,i>=1&&(i=1,this._blinkingState=3,this._stateStartTimeSeconds=this._userTimeSeconds),n=1-i;break;case 3:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,i>=1&&(this._blinkingState=4,this._stateStartTimeSeconds=this._userTimeSeconds),n=0;break;case 4:i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,i>=1&&(i=1,this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming()),n=i;break;case 1:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=2,this._stateStartTimeSeconds=this._userTimeSeconds),n=1;break;case 0:default:this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming(),n=1;break}jT.CloseIfZero||(n=-n);for(let a=0;a<this._parameterIds.length;++a)e.setParameterValueById(this._parameterIds[a],n)}constructor(e){var t,n;this._blinkingState=0,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=[],e!=null&&(this._parameterIds=(n=(t=e.getEyeBlinkParameters())==null?void 0:t.slice())!=null?n:this._parameterIds)}determinNextBlinkingTiming(){const e=Math.random();return this._userTimeSeconds+e*(2*this._blinkingIntervalSeconds-1)}};ZF.CloseIfZero=!0;let N7=ZF;class $T{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.width=n,this.height=i}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}expand(e,t){this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2}}const Ny=4,U7=999,k7=999,z7=10;let $c,Rl,L_;class xI{getChannelFlagAsColor(e){return this._channelColors[e]}getMaskRenderTexture(){if(this._maskTexture&&this._maskTexture.textures!=null)this._maskTexture.frameNo=this._currentFrameNo;else{this._maskRenderTextures=[],this._maskColorBuffers=[];const e=this._clippingMaskBufferSize;for(let t=0;t<this._renderTextureCount;t++)this._maskColorBuffers.push(this.gl.createTexture()),this.gl.bindTexture(this.gl.TEXTURE_2D,this._maskColorBuffers[t]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this._maskRenderTextures.push(this.gl.createFramebuffer()),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTextures[t]),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._maskColorBuffers[t],0);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,L_),this._maskTexture=new G7(this._currentFrameNo,this._maskRenderTextures)}return this._maskTexture.textures}setGL(e){this.gl=e}calcClippedDrawTotalBounds(e,t){let n=Number.MAX_VALUE,i=Number.MAX_VALUE,a=Number.MIN_VALUE,l=Number.MIN_VALUE;const u=t._clippedDrawableIndexList.length;for(let f=0;f<u;f++){const p=t._clippedDrawableIndexList[f],g=e.getDrawableVertexCount(p),v=e.getDrawableVertices(p);let b=Number.MAX_VALUE,x=Number.MAX_VALUE,S=-Number.MAX_VALUE,E=-Number.MAX_VALUE;const A=g*RE.vertexStep;for(let P=RE.vertexOffset;P<A;P+=RE.vertexStep){const L=v[P],D=v[P+1];L<b&&(b=L),L>S&&(S=L),D<x&&(x=D),D>E&&(E=D)}if(b!=Number.MAX_VALUE)if(b<n&&(n=b),x<i&&(i=x),S>a&&(a=S),E>l&&(l=E),n==Number.MAX_VALUE)t._allClippedDrawRect.x=0,t._allClippedDrawRect.y=0,t._allClippedDrawRect.width=0,t._allClippedDrawRect.height=0,t._isUsing=!1;else{t._isUsing=!0;const P=a-n,L=l-i;t._allClippedDrawRect.x=n,t._allClippedDrawRect.y=i,t._allClippedDrawRect.width=P,t._allClippedDrawRect.height=L}}}constructor(){this._currentMaskRenderTexture=null,this._currentFrameNo=0,this._renderTextureCount=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=[],this._clippingContextListForDraw=[],this._channelColors=[],this._tmpBoundsOnModel=new $T,this._tmpMatrix=new fs,this._tmpMatrixForMask=new fs,this._tmpMatrixForDraw=new fs;let e=new Oa;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.push(e),e=new Oa,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.push(e),e=new Oa,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.push(e),e=new Oa,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.push(e)}release(){var e;const t=this;for(let n=0;n<this._clippingContextListForMask.length;n++)this._clippingContextListForMask[n]&&((e=this._clippingContextListForMask[n])==null||e.release());if(t._clippingContextListForMask=void 0,t._clippingContextListForDraw=void 0,this._maskTexture){for(let n=0;n<this._maskTexture.textures.length;n++)this.gl.deleteFramebuffer(this._maskTexture.textures[n]);this._maskTexture=void 0}if(t._channelColors=void 0,this._maskColorBuffers)for(let n=0;n<this._maskColorBuffers.length;n++)this.gl.deleteTexture(this._maskColorBuffers[n]);this._maskColorBuffers=void 0,this._maskRenderTextures=void 0,this._clearedFrameBufferflags=void 0}initialize(e,t,n,i,a){a%1!=0&&(eh("The number of render textures must be specified as an integer. The decimal point is rounded down and corrected to an integer."),a=~~a),a<1&&eh("The number of render textures must be an integer greater than or equal to 1. Set the number of render textures to 1."),this._renderTextureCount=a<1?1:a,this._clearedFrameBufferflags=[];for(let l=0;l<t;l++){if(i[l]<=0){this._clippingContextListForDraw.push(null);continue}let u=this.findSameClip(n[l],i[l]);u==null&&(u=new H7(this,n[l],i[l]),this._clippingContextListForMask.push(u)),u.addClippedDrawable(l),this._clippingContextListForDraw.push(u)}}setupClippingContext(e,t){this._currentFrameNo++;let n=0;for(let i=0;i<this._clippingContextListForMask.length;i++){const a=this._clippingContextListForMask[i];this.calcClippedDrawTotalBounds(e,a),a._isUsing&&n++}if(n>0){this.setupLayoutBounds(t.isUsingHighPrecisionMask()?0:n),t.isUsingHighPrecisionMask()||(this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._currentMaskRenderTexture=this.getMaskRenderTexture()[0],t.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture)),this._clearedFrameBufferflags||(this._clearedFrameBufferflags=[]);for(let i=0;i<this._renderTextureCount;i++)this._clearedFrameBufferflags[i]=!1;for(let i=0;i<this._clippingContextListForMask.length;i++){const a=this._clippingContextListForMask[i],l=a._allClippedDrawRect,u=a._layoutBounds,f=.05;let p=0,g=0;const v=this.getMaskRenderTexture()[a._bufferIndex];if(this._currentMaskRenderTexture!=v&&!t.isUsingHighPrecisionMask()&&(this._currentMaskRenderTexture=v,t.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture)),t.isUsingHighPrecisionMask()){const b=e.getPixelsPerUnit(),x=a.getClippingManager()._clippingMaskBufferSize,S=u.width*x,E=u.height*x;this._tmpBoundsOnModel.setRect(l),this._tmpBoundsOnModel.width*b>S?(this._tmpBoundsOnModel.expand(l.width*f,0),p=u.width/this._tmpBoundsOnModel.width):p=b/S,this._tmpBoundsOnModel.height*b>E?(this._tmpBoundsOnModel.expand(0,l.height*f),g=u.height/this._tmpBoundsOnModel.height):g=b/E}else this._tmpBoundsOnModel.setRect(l),this._tmpBoundsOnModel.expand(l.width*f,l.height*f),p=u.width/this._tmpBoundsOnModel.width,g=u.height/this._tmpBoundsOnModel.height;if(this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(u.x,u.y),this._tmpMatrix.scaleRelative(p,g),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(u.x,u.y),this._tmpMatrix.scaleRelative(p,g),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),a._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),a._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray()),!t.isUsingHighPrecisionMask()){const b=a._clippingIdCount;for(let x=0;x<b;x++){const S=a._clippingIdList[x];e.getDrawableDynamicFlagVertexPositionsDidChange(S)&&(t.setIsCulling(e.getDrawableCulling(S)!=!1),this._clearedFrameBufferflags[a._bufferIndex]||(this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this._clearedFrameBufferflags[a._bufferIndex]=!0),t.setClippingContextBufferForMask(a),t.drawMesh(e.getDrawableTextureIndex(S),e.getDrawableVertexIndexCount(S),e.getDrawableVertexCount(S),e.getDrawableVertexIndices(S),e.getDrawableVertices(S),e.getDrawableVertexUvs(S),e.getMultiplyColor(S),e.getScreenColor(S),e.getDrawableOpacity(S),Ol.CubismBlendMode_Normal,!1))}}}t.isUsingHighPrecisionMask()||(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,L_),t.setClippingContextBufferForMask(null),this.gl.viewport(Rl[0],Rl[1],Rl[2],Rl[3]))}}findSameClip(e,t){for(let n=0;n<this._clippingContextListForMask.length;n++){const i=this._clippingContextListForMask[n],a=i._clippingIdCount;if(a!=t)continue;let l=0;for(let u=0;u<a;u++){const f=i._clippingIdList[u];for(let p=0;p<a;p++)if(e[p]==f){l++;break}}if(l==a)return i}return null}setupLayoutBounds(e){const t=this._renderTextureCount<=1?U7:k7*this._renderTextureCount;if(e<=0||e>t){e>t&&$o(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,e-t,this._renderTextureCount,e);for(let p=0;p<this._clippingContextListForMask.length;p++){const g=this._clippingContextListForMask[p];g._layoutChannelNo=0,g._layoutBounds.x=0,g._layoutBounds.y=0,g._layoutBounds.width=1,g._layoutBounds.height=1,g._bufferIndex=0}return}const n=this._renderTextureCount<=1?9:8;let i=e/this._renderTextureCount,a=e%this._renderTextureCount;i=~~i,a=~~a;let l=i/Ny,u=i%Ny;l=~~l,u=~~u;let f=0;for(let p=0;p<this._renderTextureCount;p++)for(let g=0;g<Ny;g++){let v=l+(g<u?1:0);const b=u+1>=Ny?0:u+1;if(v<n&&g==b&&(v+=p<a?1:0),v!=0)if(v==1){const x=this._clippingContextListForMask[f++];x._layoutChannelNo=g,x._layoutBounds.x=0,x._layoutBounds.y=0,x._layoutBounds.width=1,x._layoutBounds.height=1,x._bufferIndex=p}else if(v==2)for(let x=0;x<v;x++){let S=x%2;S=~~S;const E=this._clippingContextListForMask[f++];E._layoutChannelNo=g,E._layoutBounds.x=S*.5,E._layoutBounds.y=0,E._layoutBounds.width=.5,E._layoutBounds.height=1,E._bufferIndex=p}else if(v<=4)for(let x=0;x<v;x++){let S=x%2,E=x/2;S=~~S,E=~~E;const A=this._clippingContextListForMask[f++];A._layoutChannelNo=g,A._layoutBounds.x=S*.5,A._layoutBounds.y=E*.5,A._layoutBounds.width=.5,A._layoutBounds.height=.5,A._bufferIndex=p}else if(v<=n)for(let x=0;x<v;x++){let S=x%3,E=x/3;S=~~S,E=~~E;const A=this._clippingContextListForMask[f++];A._layoutChannelNo=g,A._layoutBounds.x=S/3,A._layoutBounds.y=E/3,A._layoutBounds.width=1/3,A._layoutBounds.height=1/3,A._bufferIndex=p}else if(P_.supportMoreMaskDivisions&&v<=16)for(let x=0;x<v;x++){let S=x%4,E=x/4;S=~~S,E=~~E;const A=this._clippingContextListForMask[f++];A._layoutChannelNo=g,A._layoutBounds.x=S/4,A._layoutBounds.y=E/4,A._layoutBounds.width=1/4,A._layoutBounds.height=1/4,A._bufferIndex=p}else{$o(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,e-t,this._renderTextureCount,e);for(let x=0;x<v;x++){const S=this._clippingContextListForMask[f++];S._layoutChannelNo=0,S._layoutBounds.x=0,S._layoutBounds.y=0,S._layoutBounds.width=1,S._layoutBounds.height=1,S._bufferIndex=0}}}}getColorBuffer(){return this._maskColorBuffers}getClippingContextListForDraw(){return this._clippingContextListForDraw}getClippingMaskCount(){return this._clippingContextListForMask.length}setClippingMaskBufferSize(e){this._clippingMaskBufferSize=e}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}getRenderTextureCount(){return this._renderTextureCount}}class G7{constructor(e,t){this.frameNo=e,this.textures=t}}class H7{constructor(e,t,n){this._isUsing=!1,this._owner=e,this._clippingIdList=t,this._clippingIdCount=n,this._allClippedDrawRect=new $T,this._layoutBounds=new $T,this._clippedDrawableIndexList=[],this._matrixForMask=new fs,this._matrixForDraw=new fs,this._bufferIndex=0}release(){const e=this;e._layoutBounds=void 0,e._allClippedDrawRect=void 0,e._clippedDrawableIndexList=void 0}addClippedDrawable(e){this._clippedDrawableIndexList.push(e)}getClippingManager(){return this._owner}setGl(e){this._owner.setGL(e)}}class V7{setGlEnable(e,t){t?this.gl.enable(e):this.gl.disable(e)}setGlEnableVertexAttribArray(e,t){t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e)}save(){if(this.gl==null){$o(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._lastArrayBufferBinding=this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING),this._lastArrayBufferBinding=this.gl.getParameter(this.gl.ELEMENT_ARRAY_BUFFER_BINDING),this._lastProgram=this.gl.getParameter(this.gl.CURRENT_PROGRAM),this._lastActiveTexture=this.gl.getParameter(this.gl.ACTIVE_TEXTURE),this.gl.activeTexture(this.gl.TEXTURE1),this._lastTexture1Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this.gl.activeTexture(this.gl.TEXTURE0),this._lastTexture0Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._lastVertexAttribArrayEnabled[0]=this.gl.getVertexAttrib(0,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[1]=this.gl.getVertexAttrib(1,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[2]=this.gl.getVertexAttrib(2,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[3]=this.gl.getVertexAttrib(3,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastScissorTest=this.gl.isEnabled(this.gl.SCISSOR_TEST),this._lastStencilTest=this.gl.isEnabled(this.gl.STENCIL_TEST),this._lastDepthTest=this.gl.isEnabled(this.gl.DEPTH_TEST),this._lastCullFace=this.gl.isEnabled(this.gl.CULL_FACE),this._lastBlend=this.gl.isEnabled(this.gl.BLEND),this._lastFrontFace=this.gl.getParameter(this.gl.FRONT_FACE),this._lastColorMask=this.gl.getParameter(this.gl.COLOR_WRITEMASK),this._lastBlending[0]=this.gl.getParameter(this.gl.BLEND_SRC_RGB),this._lastBlending[1]=this.gl.getParameter(this.gl.BLEND_DST_RGB),this._lastBlending[2]=this.gl.getParameter(this.gl.BLEND_SRC_ALPHA),this._lastBlending[3]=this.gl.getParameter(this.gl.BLEND_DST_ALPHA),this._lastFBO=this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING),this._lastViewport=this.gl.getParameter(this.gl.VIEWPORT)}restore(){if(this.gl==null){$o(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this.gl.useProgram(this._lastProgram),this.setGlEnableVertexAttribArray(0,this._lastVertexAttribArrayEnabled[0]),this.setGlEnableVertexAttribArray(1,this._lastVertexAttribArrayEnabled[1]),this.setGlEnableVertexAttribArray(2,this._lastVertexAttribArrayEnabled[2]),this.setGlEnableVertexAttribArray(3,this._lastVertexAttribArrayEnabled[3]),this.setGlEnable(this.gl.SCISSOR_TEST,this._lastScissorTest),this.setGlEnable(this.gl.STENCIL_TEST,this._lastStencilTest),this.setGlEnable(this.gl.DEPTH_TEST,this._lastDepthTest),this.setGlEnable(this.gl.CULL_FACE,this._lastCullFace),this.setGlEnable(this.gl.BLEND,this._lastBlend),this.gl.frontFace(this._lastFrontFace),this.gl.colorMask(this._lastColorMask[0],this._lastColorMask[1],this._lastColorMask[2],this._lastColorMask[3]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this._lastArrayBufferBinding),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this._lastElementArrayBufferBinding),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture1Binding2D),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture0Binding2D),this.gl.activeTexture(this._lastActiveTexture),this.gl.blendFuncSeparate(this._lastBlending[0],this._lastBlending[1],this._lastBlending[2],this._lastBlending[3])}setGl(e){this.gl=e}constructor(){this._lastVertexAttribArrayEnabled=new Array(4),this._lastColorMask=new Array(4),this._lastBlending=new Array(4),this._lastViewport=new Array(4)}}class tf{static getInstance(){return $c==null&&($c=new tf),$c}static deleteInstance(){$c&&($c.release(),$c=void 0)}constructor(){this._shaderSets=[]}release(){this.releaseShaderProgram()}setupShaderProgram(e,t,n,i,a,l,u,f,p,g,v,b,x,S,E){x||$o("NoPremultipliedAlpha is not allowed"),this._shaderSets.length==0&&this.generateShaders();let A,P,L,D;const N=e.getClippingContextBufferForMask();if(N!=null){const M=this._shaderSets[0];this.gl.useProgram(M.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.uniform1i(M.samplerTexture0Location,0),u.vertex==null&&(u.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(M.attributePositionLocation),this.gl.vertexAttribPointer(M.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),u.uv==null&&(u.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,l,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(M.attributeTexCoordLocation),this.gl.vertexAttribPointer(M.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const $=N._layoutChannelNo,U=N.getClippingManager().getChannelFlagAsColor($);this.gl.uniform4f(M.uniformChannelFlagLocation,U.R,U.G,U.B,U.A),this.gl.uniformMatrix4fv(M.uniformClipMatrixLocation,!1,N._matrixForMask.getArray());const V=N._layoutBounds;this.gl.uniform4f(M.uniformBaseColorLocation,V.x*2-1,V.y*2-1,V.getRight()*2-1,V.getBottom()*2-1),this.gl.uniform4f(M.uniformMultiplyColorLocation,v.R,v.G,v.B,v.A),this.gl.uniform4f(M.uniformScreenColorLocation,b.R,b.G,b.B,b.A),A=this.gl.ZERO,P=this.gl.ONE_MINUS_SRC_COLOR,L=this.gl.ZERO,D=this.gl.ONE_MINUS_SRC_ALPHA}else{const M=e.getClippingContextBufferForDraw(),U=M!=null?E?2:1:0;let V;switch(p){case Ol.CubismBlendMode_Normal:default:V=this._shaderSets[1+U],A=this.gl.ONE,P=this.gl.ONE_MINUS_SRC_ALPHA,L=this.gl.ONE,D=this.gl.ONE_MINUS_SRC_ALPHA;break;case Ol.CubismBlendMode_Additive:V=this._shaderSets[4+U],A=this.gl.ONE,P=this.gl.ONE,L=this.gl.ZERO,D=this.gl.ONE;break;case Ol.CubismBlendMode_Multiplicative:V=this._shaderSets[7+U],A=this.gl.DST_COLOR,P=this.gl.ONE_MINUS_SRC_ALPHA,L=this.gl.ZERO,D=this.gl.ONE;break}if(this.gl.useProgram(V.shaderProgram),u.vertex==null&&(u.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(V.attributePositionLocation),this.gl.vertexAttribPointer(V.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),u.uv==null&&(u.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,l,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(V.attributeTexCoordLocation),this.gl.vertexAttribPointer(V.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),M!=null){this.gl.activeTexture(this.gl.TEXTURE1);const re=M.getClippingManager().getColorBuffer()[e.getClippingContextBufferForDraw()._bufferIndex];this.gl.bindTexture(this.gl.TEXTURE_2D,re),this.gl.uniform1i(V.samplerTexture1Location,1),this.gl.uniformMatrix4fv(V.uniformClipMatrixLocation,!1,M._matrixForDraw.getArray());const O=M._layoutChannelNo,Q=M.getClippingManager().getChannelFlagAsColor(O);this.gl.uniform4f(V.uniformChannelFlagLocation,Q.R,Q.G,Q.B,Q.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.uniform1i(V.samplerTexture0Location,0),this.gl.uniformMatrix4fv(V.uniformMatrixLocation,!1,S.getArray()),this.gl.uniform4f(V.uniformBaseColorLocation,g.R,g.G,g.B,g.A),this.gl.uniform4f(V.uniformMultiplyColorLocation,v.R,v.G,v.B,v.A),this.gl.uniform4f(V.uniformScreenColorLocation,b.R,b.G,b.B,b.A)}u.index==null&&(u.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,u.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,a,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(A,P,L,D)}releaseShaderProgram(){for(let e=0;e<this._shaderSets.length;e++)this.gl.deleteProgram(this._shaderSets[e].shaderProgram),this._shaderSets[e].shaderProgram=0;this._shaderSets=[]}generateShaders(){for(let e=0;e<z7;e++)this._shaderSets.push({});this._shaderSets[0].shaderProgram=this.loadShaderProgram(j7,$7),this._shaderSets[1].shaderProgram=this.loadShaderProgram(W7,X7),this._shaderSets[2].shaderProgram=this.loadShaderProgram(SI,Y7),this._shaderSets[3].shaderProgram=this.loadShaderProgram(SI,q7),this._shaderSets[4].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[5].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[6].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[7].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[8].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[9].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[0].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_position"),this._shaderSets[0].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_texCoord"),this._shaderSets[0].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"s_texture0"),this._shaderSets[0].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_clipMatrix"),this._shaderSets[0].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_channelFlag"),this._shaderSets[0].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_baseColor"),this._shaderSets[0].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_multiplyColor"),this._shaderSets[0].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_screenColor"),this._shaderSets[1].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_position"),this._shaderSets[1].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_texCoord"),this._shaderSets[1].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"s_texture0"),this._shaderSets[1].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_matrix"),this._shaderSets[1].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_baseColor"),this._shaderSets[1].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_multiplyColor"),this._shaderSets[1].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_screenColor"),this._shaderSets[2].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_position"),this._shaderSets[2].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_texCoord"),this._shaderSets[2].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture0"),this._shaderSets[2].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture1"),this._shaderSets[2].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_matrix"),this._shaderSets[2].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_clipMatrix"),this._shaderSets[2].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_channelFlag"),this._shaderSets[2].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_baseColor"),this._shaderSets[2].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_multiplyColor"),this._shaderSets[2].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_screenColor"),this._shaderSets[3].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_position"),this._shaderSets[3].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_texCoord"),this._shaderSets[3].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture0"),this._shaderSets[3].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture1"),this._shaderSets[3].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_matrix"),this._shaderSets[3].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_clipMatrix"),this._shaderSets[3].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_channelFlag"),this._shaderSets[3].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_baseColor"),this._shaderSets[3].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_multiplyColor"),this._shaderSets[3].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_screenColor"),this._shaderSets[4].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_position"),this._shaderSets[4].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_texCoord"),this._shaderSets[4].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"s_texture0"),this._shaderSets[4].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_matrix"),this._shaderSets[4].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_baseColor"),this._shaderSets[4].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_multiplyColor"),this._shaderSets[4].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_screenColor"),this._shaderSets[5].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_position"),this._shaderSets[5].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_texCoord"),this._shaderSets[5].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture0"),this._shaderSets[5].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture1"),this._shaderSets[5].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_matrix"),this._shaderSets[5].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_clipMatrix"),this._shaderSets[5].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_channelFlag"),this._shaderSets[5].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_baseColor"),this._shaderSets[5].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_multiplyColor"),this._shaderSets[5].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_screenColor"),this._shaderSets[6].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_position"),this._shaderSets[6].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_texCoord"),this._shaderSets[6].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture0"),this._shaderSets[6].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture1"),this._shaderSets[6].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_matrix"),this._shaderSets[6].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_clipMatrix"),this._shaderSets[6].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_channelFlag"),this._shaderSets[6].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_baseColor"),this._shaderSets[6].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_multiplyColor"),this._shaderSets[6].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_screenColor"),this._shaderSets[7].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_position"),this._shaderSets[7].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_texCoord"),this._shaderSets[7].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"s_texture0"),this._shaderSets[7].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_matrix"),this._shaderSets[7].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_baseColor"),this._shaderSets[7].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_multiplyColor"),this._shaderSets[7].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_screenColor"),this._shaderSets[8].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_position"),this._shaderSets[8].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_texCoord"),this._shaderSets[8].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture0"),this._shaderSets[8].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture1"),this._shaderSets[8].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_matrix"),this._shaderSets[8].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_clipMatrix"),this._shaderSets[8].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_channelFlag"),this._shaderSets[8].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_baseColor"),this._shaderSets[8].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_multiplyColor"),this._shaderSets[8].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_screenColor"),this._shaderSets[9].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_position"),this._shaderSets[9].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_texCoord"),this._shaderSets[9].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture0"),this._shaderSets[9].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture1"),this._shaderSets[9].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_matrix"),this._shaderSets[9].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_clipMatrix"),this._shaderSets[9].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_channelFlag"),this._shaderSets[9].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_baseColor"),this._shaderSets[9].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_multiplyColor"),this._shaderSets[9].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_screenColor")}loadShaderProgram(e,t){const n=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,e);if(!i)return $o("Vertex shader compile error!"),0;const a=this.compileShaderSource(this.gl.FRAGMENT_SHADER,t);return a?(this.gl.attachShader(n,i),this.gl.attachShader(n,a),this.gl.linkProgram(n),this.gl.getProgramParameter(n,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(a),n):($o("Failed to link program: {0}",n),this.gl.deleteShader(i),this.gl.deleteShader(a),n&&this.gl.deleteProgram(n),0)):($o("Vertex shader compile error!"),0)}compileShaderSource(e,t){const n=t,i=this.gl.createShader(e);if(this.gl.shaderSource(i,n),this.gl.compileShader(i),!i){const l=this.gl.getShaderInfoLog(i);$o("Shader compile log: {0} ",l)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}setGl(e){this.gl=e}}const j7="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",$7="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",W7="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",SI="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",X7="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 color = texColor * u_baseColor;   gl_FragColor = vec4(color.rgb, color.a);}",Y7="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",q7="precision mediump float;varying vec2      v_texCoord;varying vec4      v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4      u_channelFlag;uniform vec4      u_baseColor;uniform vec4      u_multiplyColor;uniform vec4      u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * (1.0 - maskVal);   gl_FragColor = col_formask;}";class JF extends A1{initialize(e,t=1){e.isUsingMasking()&&(this._clippingManager=new xI,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts(),t));for(let n=e.getDrawableCount()-1;n>=0;n--)this._sortedDrawableIndexList[n]=0;super.initialize(e)}bindTexture(e,t){this._textures[e]=t}getBindedTextures(){return this._textures}setClippingMaskBufferSize(e){if(!this._model.isUsingMasking())return;const t=this._clippingManager.getRenderTextureCount();this._clippingManager.release(),this._clippingManager=new xI,this._clippingManager.setClippingMaskBufferSize(e),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts(),t)}getClippingMaskBufferSize(){return this._model.isUsingMasking()?this._clippingManager.getClippingMaskBufferSize():-1}getRenderTextureCount(){return this._model.isUsingMasking()?this._clippingManager.getRenderTextureCount():-1}constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._rendererProfile=new V7,this.firstDraw=!0,this._textures={},this._sortedDrawableIndexList=[],this._bufferData={vertex:null,uv:null,index:null}}release(){var e,t,n;const i=this;this._clippingManager&&this._clippingManager.release(),i._clippingManager=void 0,(e=this.gl)==null||e.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,(t=this.gl)==null||t.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,(n=this.gl)==null||n.deleteBuffer(this._bufferData.index),this._bufferData.index=null,i._bufferData=void 0,i._textures=void 0}doDrawModel(){if(this.gl==null){$o(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._clippingManager!=null&&(this.preDraw(),this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();const e=this.getModel().getDrawableCount(),t=this.getModel().getDrawableRenderOrders();for(let n=0;n<e;++n){const i=t[n];this._sortedDrawableIndexList[i]=n}for(let n=0;n<e;++n){const i=this._sortedDrawableIndexList[n];if(!this.getModel().getDrawableDynamicFlagIsVisible(i))continue;const a=this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw()[i]:null;if(a!=null&&this.isUsingHighPrecisionMask()){a._isUsing&&(this.gl.viewport(0,0,this._clippingManager.getClippingMaskBufferSize(),this._clippingManager.getClippingMaskBufferSize()),this.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,a.getClippingManager().getMaskRenderTexture()[a._bufferIndex]),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT));{const l=a._clippingIdCount;for(let u=0;u<l;u++){const f=a._clippingIdList[u];this._model.getDrawableDynamicFlagVertexPositionsDidChange(f)&&(this.setIsCulling(this._model.getDrawableCulling(f)!=!1),this.setClippingContextBufferForMask(a),this.drawMesh(this.getModel().getDrawableTextureIndex(f),this.getModel().getDrawableVertexIndexCount(f),this.getModel().getDrawableVertexCount(f),this.getModel().getDrawableVertexIndices(f),this.getModel().getDrawableVertices(f),this.getModel().getDrawableVertexUvs(f),this.getModel().getMultiplyColor(f),this.getModel().getScreenColor(f),this.getModel().getDrawableOpacity(f),Ol.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,L_),this.setClippingContextBufferForMask(null),this.gl.viewport(Rl[0],Rl[1],Rl[2],Rl[3]),this.preDraw()}this.setClippingContextBufferForDraw(a),this.setIsCulling(this.getModel().getDrawableCulling(i)),this.drawMesh(this.getModel().getDrawableTextureIndex(i),this.getModel().getDrawableVertexIndexCount(i),this.getModel().getDrawableVertexCount(i),this.getModel().getDrawableVertexIndices(i),this.getModel().getDrawableVertices(i),this.getModel().getDrawableVertexUvs(i),this.getModel().getMultiplyColor(i),this.getModel().getScreenColor(i),this.getModel().getDrawableOpacity(i),this.getModel().getDrawableBlendMode(i),this.getModel().getDrawableInvertedMaskBit(i))}}drawMesh(e,t,n,i,a,l,u,f,p,g,v){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const b=this.getModelColor();this.getClippingContextBufferForMask()==null&&(b.A*=p,this.isPremultipliedAlpha()&&(b.R*=b.A,b.G*=b.A,b.B*=b.A));let x=null;this._textures[e]!=null&&(x=this._textures[e]),tf.getInstance().setupShaderProgram(this,x,n,a,i,l,this._bufferData,p,g,b,u,f,this.isPremultipliedAlpha(),this.getMvpMatrix(),v),this.gl.drawElements(this.gl.TRIANGLES,t,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}saveProfile(){this._rendererProfile.save()}restoreProfile(){this._rendererProfile.restore()}static doStaticRelease(){tf.deleteInstance()}setRenderState(e,t){L_=e,Rl=t}preDraw(){if(this.firstDraw&&(this.firstDraw=!1),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.getAnisotropy()>0&&this._extension)for(const e of Object.entries(this._textures))this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texParameterf(this.gl.TEXTURE_2D,this._extension.TEXTURE_MAX_ANISOTROPY_EXT,this.getAnisotropy())}setClippingContextBufferForMask(e){this._clippingContextBufferForMask=e}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(e){this._clippingContextBufferForDraw=e}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(e){this.gl=e,this._clippingManager&&this._clippingManager.setGL(e),tf.getInstance().setGl(e),this._rendererProfile.setGl(e),this._extension=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")}}A1.staticRelease=()=>{JF.doStaticRelease()};const EI=new fs;class Q7 extends BF{constructor(e,t,n){super(),le(this,"settings"),le(this,"options"),le(this,"coreModel"),le(this,"motionManager"),le(this,"parallelMotionManager"),le(this,"lipSync",!0),le(this,"breath",I1.create()),le(this,"eyeBlink"),le(this,"userData"),le(this,"renderer",new JF),le(this,"idParamAngleX",P7),le(this,"idParamAngleY",M7),le(this,"idParamAngleZ",I7),le(this,"idParamEyeBallX",D7),le(this,"idParamEyeBallY",O7),le(this,"idParamBodyAngleX",L7),le(this,"idParamBreath",B7),le(this,"idParamMouthForm",F7),le(this,"pixelsPerUnit",1),le(this,"centeringTransform",new Sr),this.coreModel=e,this.settings=t,this.options=Object.assign({},{breathDepth:1},n),this.motionManager=new A7(t,n),this.parallelMotionManager=[],this.init()}init(){var e;super.init(),(e=this.settings.getEyeBlinkParameters())!=null&&e.length&&(this.eyeBlink=N7.create(this.settings)),this.breath.setParameters([new hm(this.idParamAngleX,0,15*this.options.breathDepth,6.5345,.5),new hm(this.idParamAngleY,0,8*this.options.breathDepth,3.5345,.5),new hm(this.idParamAngleZ,0,10*this.options.breathDepth,5.5345,.5),new hm(this.idParamBodyAngleX,0,4*this.options.breathDepth,15.5345,.5),new hm(this.idParamBreath,0,.5,3.2345,.5)]),this.renderer.initialize(this.coreModel),this.renderer.setIsPremultipliedAlpha(!0)}getSize(){return[this.coreModel.getModel().canvasinfo.CanvasWidth,this.coreModel.getModel().canvasinfo.CanvasHeight]}getLayout(){const e={};if(this.settings.layout)for(const[t,n]of Object.entries(this.settings.layout)){const i=t.charAt(0).toLowerCase()+t.slice(1);e[i]=n}return e}setupLayout(){super.setupLayout(),this.pixelsPerUnit=this.coreModel.getModel().canvasinfo.PixelsPerUnit,this.centeringTransform.scale(this.pixelsPerUnit,this.pixelsPerUnit).translate(this.originalWidth/2,this.originalHeight/2)}updateWebGLContext(e,t){this.renderer.firstDraw=!0,this.renderer._bufferData={vertex:null,uv:null,index:null},this.renderer.startUp(e),this.renderer._clippingManager&&(this.renderer._clippingManager._currentFrameNo=t,this.renderer._clippingManager._maskTexture=void 0),tf.getInstance()._shaderSets=[]}bindTexture(e,t){this.renderer.bindTexture(e,t)}getHitAreaDefs(){var e,t;return(t=(e=this.settings.hitAreas)==null?void 0:e.map(n=>({id:n.Id,name:n.Name,index:this.coreModel.getDrawableIndex(n.Id)})))!=null?t:[]}getDrawableIDs(){return this.coreModel.getDrawableIds()}getDrawableIndex(e){return this.coreModel.getDrawableIndex(e)}getDrawableVertices(e){if(typeof e=="string"&&(e=this.coreModel.getDrawableIndex(e),e===-1))throw new TypeError("Unable to find drawable ID: "+e);const t=this.coreModel.getDrawableVertices(e).slice();for(let n=0;n<t.length;n+=2)t[n]=t[n]*this.pixelsPerUnit+this.originalWidth/2,t[n+1]=-t[n+1]*this.pixelsPerUnit+this.originalHeight/2;return t}updateTransform(e){this.drawingMatrix.copyFrom(this.centeringTransform).prepend(this.localTransform).prepend(e)}update(e,t){var n,i,a,l;super.update(e,t),e/=1e3,t/=1e3;const u=this.coreModel;this.emit("beforeMotionUpdate");const f=this.motionManager.update(u,t),p=this.parallelMotionManager.map(v=>v.update(u,t)),g=f||p.reduce((v,b)=>v||b,!1);if(this.emit("afterMotionUpdate"),u.saveParameters(),(n=this.motionManager.expressionManager)==null||n.update(u,t),g||(i=this.eyeBlink)==null||i.updateParameters(u,e),this.updateFocus(),this.updateNaturalMovements(e*1e3,t*1e3),this.lipSync&&this.motionManager.currentAudio){let v=this.motionManager.mouthSync(),b=0;const x=1,S=1.2;v>0&&(b=.4),v=sf(v*S,b,x);for(let E=0;E<this.motionManager.lipSyncIds.length;++E)u.addParameterValueById(this.motionManager.lipSyncIds[E],v,.8)}(a=this.physics)==null||a.evaluate(u,e),(l=this.pose)==null||l.updateParameters(u,e),this.emit("beforeModelUpdate"),u.update(),u.loadParameters()}updateFocus(){this.coreModel.addParameterValueById(this.idParamEyeBallX,this.focusController.x),this.coreModel.addParameterValueById(this.idParamEyeBallY,this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleX,this.focusController.x*30),this.coreModel.addParameterValueById(this.idParamAngleY,this.focusController.y*30),this.coreModel.addParameterValueById(this.idParamAngleZ,this.focusController.x*this.focusController.y*-30),this.coreModel.addParameterValueById(this.idParamBodyAngleX,this.focusController.x*10)}updateFacialEmotion(e){this.coreModel.addParameterValueById(this.idParamMouthForm,e)}updateNaturalMovements(e,t){var n;(n=this.breath)==null||n.updateParameters(this.coreModel,e/1e3)}draw(e){const t=this.drawingMatrix,n=EI.getArray();n[0]=t.a,n[1]=t.b,n[4]=-t.c,n[5]=-t.d,n[12]=t.tx,n[13]=t.ty,this.renderer.setMvpMatrix(EI),this.renderer.setRenderState(e.getParameter(e.FRAMEBUFFER_BINDING),this.viewport),this.renderer.drawModel()}extendParallelMotionManager(e){for(;this.parallelMotionManager.length<e;)this.parallelMotionManager.push(new R7(this.settings,this.motionManager))}destroy(){super.destroy(),this.renderer.release(),this.coreModel.release(),this.renderer=void 0,this.coreModel=void 0}}class e2{constructor(e){this.groups=e.Groups,this.hitAreas=e.HitAreas,this.layout=e.Layout,this.moc=e.FileReferences.Moc,this.expressions=e.FileReferences.Expressions,this.motions=e.FileReferences.Motions,this.textures=e.FileReferences.Textures,this.physics=e.FileReferences.Physics,this.pose=e.FileReferences.Pose}getEyeBlinkParameters(){var e,t;return(t=(e=this.groups)==null?void 0:e.find(n=>n.Name==="EyeBlink"))==null?void 0:t.Ids}getLipSyncParameters(){var e,t;return(t=(e=this.groups)==null?void 0:e.find(n=>n.Name==="LipSync"))==null?void 0:t.Ids}}class rf extends c0{constructor(e){if(super(e),le(this,"moc"),le(this,"textures"),!rf.isValidJSON(e))throw new TypeError("Invalid JSON.");Object.assign(this,new e2(e))}static isValidJSON(e){var t;return!!e?.FileReferences&&typeof e.FileReferences.Moc=="string"&&((t=e.FileReferences.Textures)==null?void 0:t.length)>0&&e.FileReferences.Textures.every(n=>typeof n=="string")}replaceFiles(e){if(super.replaceFiles(e),this.motions)for(const[t,n]of Object.entries(this.motions))for(let i=0;i<n.length;i++)n[i].File=e(n[i].File,`motions.${t}[${i}].File`),n[i].Sound!==void 0&&(n[i].Sound=e(n[i].Sound,`motions.${t}[${i}].Sound`));if(this.expressions)for(let t=0;t<this.expressions.length;t++)this.expressions[t].File=e(this.expressions[t].File,`expressions[${t}].File`)}}aj(rf,[e2]);let Uy,TI=20;function K7(){return Hm.isStarted()?Promise.resolve():(Uy??(Uy=new Promise((r,e)=>{function t(){try{Z7(),r()}catch(n){if(TI--,TI<0){const i=new Error("Failed to start up Cubism 4 framework.");i.cause=n,e(i);return}setTimeout(t,10)}}t()})),Uy)}function Z7(r){r=Object.assign({logFunction:console.log,loggingLevel:mf.LogLevel_Verbose},r),Hm.startUp(r),Hm.initialize()}const J7=.001,CI=.5;class D1{static create(e){const t=new D1;typeof e.FadeInTime=="number"&&(t._fadeTimeSeconds=e.FadeInTime,t._fadeTimeSeconds<=0&&(t._fadeTimeSeconds=CI));const n=e.Groups,i=n.length;for(let a=0;a<i;++a){const l=n[a],u=l.length;let f=0;for(let p=0;p<u;++p){const g=l[p],v=new B_;v.partId=g.Id;const b=g.Link;if(b){const x=b.length;for(let S=0;S<x;++S){const E=new B_;E.partId=b[S],v.link.push(E)}}t._partGroups.push(v),++f}t._partGroupCounts.push(f)}return t}updateParameters(e,t){e!=this._lastModel&&this.reset(e),this._lastModel=e,t<0&&(t=0);let n=0;for(let i=0;i<this._partGroupCounts.length;i++){const a=this._partGroupCounts[i];this.doFade(e,t,n,a),n+=a}this.copyPartOpacities(e)}reset(e){let t=0;for(let n=0;n<this._partGroupCounts.length;++n){const i=this._partGroupCounts[n];for(let a=t;a<t+i;++a){this._partGroups[a].initialize(e);const l=this._partGroups[a].partIndex,u=this._partGroups[a].parameterIndex;if(!(l<0)){e.setPartOpacityByIndex(l,a==t?1:0),e.setParameterValueByIndex(u,a==t?1:0);for(let f=0;f<this._partGroups[a].link.length;++f)this._partGroups[a].link[f].initialize(e)}}t+=i}}copyPartOpacities(e){for(let t=0;t<this._partGroups.length;++t){const n=this._partGroups[t];if(n.link.length==0)continue;const i=this._partGroups[t].partIndex,a=e.getPartOpacityByIndex(i);for(let l=0;l<n.link.length;++l){const f=n.link[l].partIndex;f<0||e.setPartOpacityByIndex(f,a)}}}doFade(e,t,n,i){let a=-1,l=1;const u=.5,f=.15;for(let p=n;p<n+i;++p){const g=this._partGroups[p].partIndex,v=this._partGroups[p].parameterIndex;if(e.getParameterValueByIndex(v)>J7){if(a>=0)break;a=p,l=e.getPartOpacityByIndex(g),l+=t/this._fadeTimeSeconds,l>1&&(l=1)}}a<0&&(a=0,l=1);for(let p=n;p<n+i;++p){const g=this._partGroups[p].partIndex;if(a==p)e.setPartOpacityByIndex(g,l);else{let v=e.getPartOpacityByIndex(g),b;l<u?b=l*(u-1)/u+1:b=(1-l)*u/(1-u),(1-b)*(1-l)>f&&(b=1-f/(1-l)),v>b&&(v=b),e.setPartOpacityByIndex(g,v)}}}constructor(){this._fadeTimeSeconds=CI,this._lastModel=void 0,this._partGroups=[],this._partGroupCounts=[]}}class B_{constructor(e){this.parameterIndex=0,this.partIndex=0,this.partId="",this.link=[],e!=null&&this.assignment(e)}assignment(e){return this.partId=e.partId,this.link=e.link.map(t=>t.clone()),this}initialize(e){this.parameterIndex=e.getParameterIndex(this.partId),this.partIndex=e.getPartIndex(this.partId),e.setParameterValueByIndex(this.parameterIndex,1)}clone(){const e=new B_;return e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=this.link.map(t=>t.clone()),e}}class wI{constructor(e=!1,t=new Oa){this.isOverwritten=e,this.Color=t}}class AI{constructor(e=!1,t=new Oa){this.isOverwritten=e,this.Color=t}}class eW{constructor(e=!1,t=!1){this.isOverwritten=e,this.isCulling=t}}class tW{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getPixelsPerUnit(){return this._model==null?0:this._model.canvasinfo.PixelsPerUnit}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const e=this._model.parameters.count,t=this._savedParameters.length;for(let n=0;n<e;++n)n<t?this._savedParameters[n]=this._parameterValues[n]:this._savedParameters.push(this._parameterValues[n])}getMultiplyColor(e){return this.getOverwriteFlagForModelMultiplyColors()||this.getOverwriteFlagForDrawableMultiplyColors(e)?this._userMultiplyColors[e].Color:this.getDrawableMultiplyColor(e)}getScreenColor(e){return this.getOverwriteFlagForModelScreenColors()||this.getOverwriteFlagForDrawableScreenColors(e)?this._userScreenColors[e].Color:this.getDrawableScreenColor(e)}setMultiplyColorByTextureColor(e,t){this.setMultiplyColorByRGBA(e,t.R,t.G,t.B,t.A)}setMultiplyColorByRGBA(e,t,n,i,a=1){this._userMultiplyColors[e].Color.R=t,this._userMultiplyColors[e].Color.G=n,this._userMultiplyColors[e].Color.B=i,this._userMultiplyColors[e].Color.A=a}setScreenColorByTextureColor(e,t){this.setScreenColorByRGBA(e,t.R,t.G,t.B,t.A)}setScreenColorByRGBA(e,t,n,i,a=1){this._userScreenColors[e].Color.R=t,this._userScreenColors[e].Color.G=n,this._userScreenColors[e].Color.B=i,this._userScreenColors[e].Color.A=a}getPartMultiplyColor(e){return this._userPartMultiplyColors[e].Color}getPartScreenColor(e){return this._userPartScreenColors[e].Color}setPartColor(e,t,n,i,a,l,u){if(l[e].Color.R=t,l[e].Color.G=n,l[e].Color.B=i,l[e].Color.A=a,l[e].isOverwritten)for(let f=0;f<this._partChildDrawables[e].length;++f){const p=this._partChildDrawables[e][f];u[p].Color.R=t,u[p].Color.G=n,u[p].Color.B=i,u[p].Color.A=a}}setPartMultiplyColorByTextureColor(e,t){this.setPartMultiplyColorByRGBA(e,t.R,t.G,t.B,t.A)}setPartMultiplyColorByRGBA(e,t,n,i,a){this.setPartColor(e,t,n,i,a,this._userPartMultiplyColors,this._userMultiplyColors)}setPartScreenColorByTextureColor(e,t){this.setPartScreenColorByRGBA(e,t.R,t.G,t.B,t.A)}setPartScreenColorByRGBA(e,t,n,i,a){this.setPartColor(e,t,n,i,a,this._userPartScreenColors,this._userScreenColors)}getOverwriteFlagForModelMultiplyColors(){return this._isOverwrittenModelMultiplyColors}getOverwriteFlagForModelScreenColors(){return this._isOverwrittenModelScreenColors}setOverwriteFlagForModelMultiplyColors(e){this._isOverwrittenModelMultiplyColors=e}setOverwriteFlagForModelScreenColors(e){this._isOverwrittenModelScreenColors=e}getOverwriteFlagForDrawableMultiplyColors(e){return this._userMultiplyColors[e].isOverwritten}getOverwriteFlagForDrawableScreenColors(e){return this._userScreenColors[e].isOverwritten}setOverwriteFlagForDrawableMultiplyColors(e,t){this._userMultiplyColors[e].isOverwritten=t}setOverwriteFlagForDrawableScreenColors(e,t){this._userScreenColors[e].isOverwritten=t}getOverwriteColorForPartMultiplyColors(e){return this._userPartMultiplyColors[e].isOverwritten}getOverwriteColorForPartScreenColors(e){return this._userPartScreenColors[e].isOverwritten}setOverwriteColorForPartColors(e,t,n,i){n[e].isOverwritten=t;for(let a=0;a<this._partChildDrawables[e].length;++a){const l=this._partChildDrawables[e][a];i[l].isOverwritten=t,t&&(i[l].Color.R=n[e].Color.R,i[l].Color.G=n[e].Color.G,i[l].Color.B=n[e].Color.B,i[l].Color.A=n[e].Color.A)}}setOverwriteColorForPartMultiplyColors(e,t){this._userPartMultiplyColors[e].isOverwritten=t,this.setOverwriteColorForPartColors(e,t,this._userPartMultiplyColors,this._userMultiplyColors)}setOverwriteColorForPartScreenColors(e,t){this._userPartScreenColors[e].isOverwritten=t,this.setOverwriteColorForPartColors(e,t,this._userPartScreenColors,this._userScreenColors)}getDrawableCulling(e){if(this.getOverwriteFlagForModelCullings()||this.getOverwriteFlagForDrawableCullings(e))return this._userCullings[e].isCulling;const t=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(t[e])}setDrawableCulling(e,t){this._userCullings[e].isCulling=t}getOverwriteFlagForModelCullings(){return this._isOverwrittenCullings}setOverwriteFlagForModelCullings(e){this._isOverwrittenCullings=e}getOverwriteFlagForDrawableCullings(e){return this._userCullings[e].isOverwritten}setOverwriteFlagForDrawableCullings(e,t){this._userCullings[e].isOverwritten=t}getModelOapcity(){return this._modelOpacity}setModelOapcity(e){this._modelOpacity=e}getModel(){return this._model}getPartIndex(e){let t;const n=this._model.parts.count;for(t=0;t<n;++t)if(e==this._partIds[t])return t;return e in this._notExistPartId?this._notExistPartId[e]:(t=n+this._notExistPartId.length,this._notExistPartId[e]=t,this._notExistPartOpacities[t]=0,t)}getPartId(e){return this._model.parts.ids[e]}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(e,t){if(e in this._notExistPartOpacities){this._notExistPartOpacities[e]=t;return}Vd(0<=e&&e<this.getPartCount()),this._partOpacities[e]=t}setPartOpacityById(e,t){const n=this.getPartIndex(e);n<0||this.setPartOpacityByIndex(n,t)}getPartOpacityByIndex(e){return e in this._notExistPartOpacities?this._notExistPartOpacities[e]:(Vd(0<=e&&e<this.getPartCount()),this._partOpacities[e])}getPartOpacityById(e){const t=this.getPartIndex(e);return t<0?0:this.getPartOpacityByIndex(t)}getParameterIndex(e){let t;const n=this._model.parameters.count;for(t=0;t<n;++t)if(e==this._parameterIds[t])return t;return e in this._notExistParameterId?this._notExistParameterId[e]:(t=this._model.parameters.count+Object.keys(this._notExistParameterId).length,this._notExistParameterId[e]=t,this._notExistParameterValues[t]=0,t)}getParameterCount(){return this._model.parameters.count}getParameterType(e){return this._model.parameters.types[e]}getParameterMaximumValue(e){return this._model.parameters.maximumValues[e]}getParameterMinimumValue(e){return this._model.parameters.minimumValues[e]}getParameterDefaultValue(e){return this._model.parameters.defaultValues[e]}getParameterValueByIndex(e){return e in this._notExistParameterValues?this._notExistParameterValues[e]:(Vd(0<=e&&e<this.getParameterCount()),this._parameterValues[e])}getParameterValueById(e){const t=this.getParameterIndex(e);return this.getParameterValueByIndex(t)}setParameterValueByIndex(e,t,n=1){if(e in this._notExistParameterValues){this._notExistParameterValues[e]=n==1?t:this._notExistParameterValues[e]*(1-n)+t*n;return}Vd(0<=e&&e<this.getParameterCount()),this._model.parameters.maximumValues[e]<t&&(t=this._model.parameters.maximumValues[e]),this._model.parameters.minimumValues[e]>t&&(t=this._model.parameters.minimumValues[e]),this._parameterValues[e]=n==1?t:this._parameterValues[e]=this._parameterValues[e]*(1-n)+t*n}setParameterValueById(e,t,n=1){const i=this.getParameterIndex(e);this.setParameterValueByIndex(i,t,n)}addParameterValueByIndex(e,t,n=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)+t*n)}addParameterValueById(e,t,n=1){const i=this.getParameterIndex(e);this.addParameterValueByIndex(i,t,n)}multiplyParameterValueById(e,t,n=1){const i=this.getParameterIndex(e);this.multiplyParameterValueByIndex(i,t,n)}multiplyParameterValueByIndex(e,t,n=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)*(1+(t-1)*n))}getDrawableIds(){return this._drawableIds.slice()}getDrawableIndex(e){const t=this._model.drawables.count;for(let n=0;n<t;++n)if(this._drawableIds[n]==e)return n;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(e){return this._model.drawables.ids[e]}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(e){return this.getDrawableTextureIndex(e)}getDrawableTextureIndex(e){return this._model.drawables.textureIndices[e]}getDrawableDynamicFlagVertexPositionsDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(t[e])}getDrawableVertexIndexCount(e){return this._model.drawables.indexCounts[e]}getDrawableVertexCount(e){return this._model.drawables.vertexCounts[e]}getDrawableVertices(e){return this.getDrawableVertexPositions(e)}getDrawableVertexIndices(e){return this._model.drawables.indices[e]}getDrawableVertexPositions(e){return this._model.drawables.vertexPositions[e]}getDrawableVertexUvs(e){return this._model.drawables.vertexUvs[e]}getDrawableOpacity(e){return this._model.drawables.opacities[e]}getDrawableMultiplyColor(e){const t=this._model.drawables.multiplyColors,n=e*4,i=new Oa;return i.R=t[n],i.G=t[n+1],i.B=t[n+2],i.A=t[n+3],i}getDrawableScreenColor(e){const t=this._model.drawables.screenColors,n=e*4,i=new Oa;return i.R=t[n],i.G=t[n+1],i.B=t[n+2],i.A=t[n+3],i}getDrawableParentPartIndex(e){return this._model.drawables.parentPartIndices[e]}getDrawableBlendMode(e){const t=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(t[e])?Ol.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(t[e])?Ol.CubismBlendMode_Multiplicative:Ol.CubismBlendMode_Normal}getDrawableInvertedMaskBit(e){const t=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(t[e])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let e=0;e<this._model.drawables.count;++e)if(!(this._model.drawables.maskCounts[e]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(t[e])}getDrawableDynamicFlagVisibilityDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(t[e])}getDrawableDynamicFlagOpacityDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(t[e])}getDrawableDynamicFlagRenderOrderDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(t[e])}getDrawableDynamicFlagBlendColorDidChange(e){const t=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasBlendColorDidChangeBit(t[e])}loadParameters(){let e=this._model.parameters.count;const t=this._savedParameters.length;e>t&&(e=t);for(let n=0;n<e;++n)this._parameterValues[n]=this._savedParameters[n]}initialize(){this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const t=this._model.parameters.ids,n=this._model.parameters.count;for(let i=0;i<n;++i)this._parameterIds.push(t[i])}const e=this._model.parts.count;{const t=this._model.parts.ids;for(let n=0;n<e;++n)this._partIds.push(t[n])}{const t=this._model.drawables.ids,n=this._model.drawables.count,i=new eW(!1,!1);for(let a=0;a<e;++a){const l=new Oa(1,1,1,1),u=new Oa(0,0,0,1),f=new AI(!1,l),p=new AI(!1,u);this._userPartMultiplyColors.push(f),this._userPartScreenColors.push(p),this._partChildDrawables.push([])}for(let a=0;a<n;++a){const l=new Oa(1,1,1,1),u=new Oa(0,0,0,1),f=new wI(!1,l),p=new wI(!1,u);this._drawableIds.push(t[a]),this._userMultiplyColors.push(f),this._userScreenColors.push(p),this._userCullings.push(i);const g=this.getDrawableParentPartIndex(a);g>=0&&this._partChildDrawables[g].push(a)}}}constructor(e){this._model=e,this._savedParameters=[],this._parameterIds=[],this._drawableIds=[],this._partIds=[],this._isOverwrittenModelMultiplyColors=!1,this._isOverwrittenModelScreenColors=!1,this._isOverwrittenCullings=!1,this._modelOpacity=1,this._userMultiplyColors=[],this._userScreenColors=[],this._userCullings=[],this._userPartMultiplyColors=[],this._userPartScreenColors=[],this._partChildDrawables=[],this._notExistPartId={},this._notExistParameterId={},this._notExistParameterValues={},this._notExistPartOpacities={},this.initialize()}release(){this._model.release(),this._model=void 0}}class O1{static create(e,t){if(t&&!this.hasMocConsistency(e))throw new Error("Inconsistent MOC3.");const n=Live2DCubismCore.Moc.fromArrayBuffer(e);if(n){const i=new O1(n);return i._mocVersion=Live2DCubismCore.Version.csmGetMocVersion(n,e),i}throw new Error("Failed to CubismMoc.create().")}createModel(){let e;const t=Live2DCubismCore.Model.fromMoc(this._moc);if(t)return e=new tW(t),++this._modelCount,e;throw new Error("Unknown error")}deleteModel(e){e!=null&&--this._modelCount}constructor(e){this._moc=e,this._modelCount=0,this._mocVersion=0}release(){this._moc._release(),this._moc=void 0}getLatestMocVersion(){return Live2DCubismCore.Version.csmGetLatestMocVersion()}getMocVersion(){return this._mocVersion}static hasMocConsistency(e){return Live2DCubismCore.Moc.prototype.hasMocConsistency(e)===1}}var WT=(r=>(r[r.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",r))(WT||{}),Kc=(r=>(r[r.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",r[r.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",r[r.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",r))(Kc||{});class rW{constructor(){this.initialPosition=new Et(0,0),this.position=new Et(0,0),this.lastPosition=new Et(0,0),this.lastGravity=new Et(0,0),this.force=new Et(0,0),this.velocity=new Et(0,0)}}class nW{constructor(){this.normalizationPosition={},this.normalizationAngle={}}}class iW{constructor(){this.source={}}}class aW{constructor(){this.destination={},this.translationScale=new Et(0,0)}}class sW{constructor(){this.settings=[],this.inputs=[],this.outputs=[],this.particles=[],this.gravity=new Et(0,0),this.wind=new Et(0,0),this.fps=0}}class oW{constructor(e){this._json=e}release(){this._json=void 0}getGravity(){const e=new Et(0,0);return e.x=this._json.Meta.EffectiveForces.Gravity.X,e.y=this._json.Meta.EffectiveForces.Gravity.Y,e}getWind(){const e=new Et(0,0);return e.x=this._json.Meta.EffectiveForces.Wind.X,e.y=this._json.Meta.EffectiveForces.Wind.Y,e}getFps(){return this._json.Meta.Fps||0}getSubRigCount(){return this._json.Meta.PhysicsSettingCount}getTotalInputCount(){return this._json.Meta.TotalInputCount}getTotalOutputCount(){return this._json.Meta.TotalOutputCount}getVertexCount(){return this._json.Meta.VertexCount}getNormalizationPositionMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Minimum}getNormalizationPositionMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Maximum}getNormalizationPositionDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Position.Default}getNormalizationAngleMinimumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Minimum}getNormalizationAngleMaximumValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Maximum}getNormalizationAngleDefaultValue(e){return this._json.PhysicsSettings[e].Normalization.Angle.Default}getInputCount(e){return this._json.PhysicsSettings[e].Input.length}getInputWeight(e,t){return this._json.PhysicsSettings[e].Input[t].Weight}getInputReflect(e,t){return this._json.PhysicsSettings[e].Input[t].Reflect}getInputType(e,t){return this._json.PhysicsSettings[e].Input[t].Type}getInputSourceId(e,t){return this._json.PhysicsSettings[e].Input[t].Source.Id}getOutputCount(e){return this._json.PhysicsSettings[e].Output.length}getOutputVertexIndex(e,t){return this._json.PhysicsSettings[e].Output[t].VertexIndex}getOutputAngleScale(e,t){return this._json.PhysicsSettings[e].Output[t].Scale}getOutputWeight(e,t){return this._json.PhysicsSettings[e].Output[t].Weight}getOutputDestinationId(e,t){return this._json.PhysicsSettings[e].Output[t].Destination.Id}getOutputType(e,t){return this._json.PhysicsSettings[e].Output[t].Type}getOutputReflect(e,t){return this._json.PhysicsSettings[e].Output[t].Reflect}getParticleCount(e){return this._json.PhysicsSettings[e].Vertices.length}getParticleMobility(e,t){return this._json.PhysicsSettings[e].Vertices[t].Mobility}getParticleDelay(e,t){return this._json.PhysicsSettings[e].Vertices[t].Delay}getParticleAcceleration(e,t){return this._json.PhysicsSettings[e].Vertices[t].Acceleration}getParticleRadius(e,t){return this._json.PhysicsSettings[e].Vertices[t].Radius}getParticlePosition(e,t){const n=new Et(0,0);return n.x=this._json.PhysicsSettings[e].Vertices[t].Position.X,n.y=this._json.PhysicsSettings[e].Vertices[t].Position.Y,n}}const RI="X",PI="Y",MI="Angle",lW=5,XT=100,II=.001,uW=5;class F1{static create(e){const t=new F1;return t.parse(e),t._physicsRig.gravity.y=0,t}static delete(e){e?.release()}parse(e){this._physicsRig=new sW;const t=new oW(e);this._physicsRig.gravity=t.getGravity(),this._physicsRig.wind=t.getWind(),this._physicsRig.subRigCount=t.getSubRigCount(),this._physicsRig.fps=t.getFps(),this._currentRigOutputs=[],this._previousRigOutputs=[];let n=0,i=0,a=0;for(let l=0;l<this._physicsRig.subRigCount;++l){const u=new nW;u.normalizationPosition.minimum=t.getNormalizationPositionMinimumValue(l),u.normalizationPosition.maximum=t.getNormalizationPositionMaximumValue(l),u.normalizationPosition.defalut=t.getNormalizationPositionDefaultValue(l),u.normalizationAngle.minimum=t.getNormalizationAngleMinimumValue(l),u.normalizationAngle.maximum=t.getNormalizationAngleMaximumValue(l),u.normalizationAngle.defalut=t.getNormalizationAngleDefaultValue(l),u.inputCount=t.getInputCount(l),u.baseInputIndex=n,n+=u.inputCount;for(let g=0;g<u.inputCount;++g){const v=new iW;switch(v.sourceParameterIndex=-1,v.weight=t.getInputWeight(l,g),v.reflect=t.getInputReflect(l,g),t.getInputType(l,g)){case RI:v.type=Kc.CubismPhysicsSource_X,v.getNormalizedParameterValue=hW;break;case PI:v.type=Kc.CubismPhysicsSource_Y,v.getNormalizedParameterValue=dW;break;case MI:v.type=Kc.CubismPhysicsSource_Angle,v.getNormalizedParameterValue=fW;break}v.source.targetType=WT.CubismPhysicsTargetType_Parameter,v.source.id=t.getInputSourceId(l,g),this._physicsRig.inputs.push(v)}u.outputCount=t.getOutputCount(l),u.baseOutputIndex=i;const f=new DI,p=new DI;for(let g=0;g<u.outputCount;++g){f.outputs[g]=0,p.outputs[g]=0;let v=this._physicsRig.outputs[i+g];switch(v||(v=new aW,this._physicsRig.outputs[i+g]=v),v.destinationParameterIndex=-1,v.vertexIndex=t.getOutputVertexIndex(l,g),v.angleScale=t.getOutputAngleScale(l,g),v.weight=t.getOutputWeight(l,g),v.destination.targetType=WT.CubismPhysicsTargetType_Parameter,v.destination.id=t.getOutputDestinationId(l,g),t.getOutputType(l,g)){case RI:v.type=Kc.CubismPhysicsSource_X,v.getValue=pW,v.getScale=_W;break;case PI:v.type=Kc.CubismPhysicsSource_Y,v.getValue=mW,v.getScale=bW;break;case MI:v.type=Kc.CubismPhysicsSource_Angle,v.getValue=gW,v.getScale=xW;break}v.reflect=t.getOutputReflect(l,g)}this._currentRigOutputs.push(f),this._previousRigOutputs.push(p),i+=u.outputCount,u.particleCount=t.getParticleCount(l),u.baseParticleIndex=a,a+=u.particleCount;for(let g=0;g<u.particleCount;++g){const v=new rW;v.mobility=t.getParticleMobility(l,g),v.delay=t.getParticleDelay(l,g),v.acceleration=t.getParticleAcceleration(l,g),v.radius=t.getParticleRadius(l,g),v.position=t.getParticlePosition(l,g),this._physicsRig.particles.push(v)}this._physicsRig.settings.push(u)}this.initialize(),t.release()}stabilization(e){var t,n,i,a;let l,u,f,p;const g=new Et;let v,b,x,S,E,A,P,L;E=e.getModel().parameters.values,A=e.getModel().parameters.maximumValues,P=e.getModel().parameters.minimumValues,L=e.getModel().parameters.defaultValues,((n=(t=this._parameterCaches)==null?void 0:t.length)!=null?n:0)<e.getParameterCount()&&(this._parameterCaches=new Float32Array(e.getParameterCount())),((a=(i=this._parameterInputCaches)==null?void 0:i.length)!=null?a:0)<e.getParameterCount()&&(this._parameterInputCaches=new Float32Array(e.getParameterCount()));for(let D=0;D<e.getParameterCount();++D)this._parameterCaches[D]=E[D],this._parameterInputCaches[D]=E[D];for(let D=0;D<this._physicsRig.subRigCount;++D){l={angle:0},g.x=0,g.y=0,v=this._physicsRig.settings[D],b=this._physicsRig.inputs.slice(v.baseInputIndex),x=this._physicsRig.outputs.slice(v.baseOutputIndex),S=this._physicsRig.particles.slice(v.baseParticleIndex);for(let N=0;N<v.inputCount;++N)u=b[N].weight/XT,b[N].sourceParameterIndex==-1&&(b[N].sourceParameterIndex=e.getParameterIndex(b[N].source.id)),b[N].getNormalizedParameterValue(g,l,E[b[N].sourceParameterIndex],P[b[N].sourceParameterIndex],A[b[N].sourceParameterIndex],L[b[N].sourceParameterIndex],v.normalizationPosition,v.normalizationAngle,b[N].reflect,u),this._parameterCaches[b[N].sourceParameterIndex]=E[b[N].sourceParameterIndex];f=sr.degreesToRadian(-l.angle),g.x=g.x*sr.cos(f)-g.y*sr.sin(f),g.y=g.x*sr.sin(f)+g.y*sr.cos(f),EW(S,v.particleCount,g,l.angle,this._options.wind,II*v.normalizationPosition.maximum);for(let N=0;N<v.outputCount;++N){const M=x[N].vertexIndex;if(x[N].destinationParameterIndex==-1&&(x[N].destinationParameterIndex=e.getParameterIndex(x[N].destination.id)),M<1||M>=v.particleCount)continue;let $=new Et;$=S[M].position.substract(S[M-1].position),p=x[N].getValue($,S,M,x[N].reflect,this._options.gravity),this._currentRigOutputs[D].outputs[N]=p,this._previousRigOutputs[D].outputs[N]=p;const U=x[N].destinationParameterIndex,V=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(E.subarray(U))):E.slice(U);ME(V,P[U],A[U],p,x[N]);for(let re=U,O=0;re<this._parameterCaches.length;re++,O++)E[re]=this._parameterCaches[re]=V[O]}}}evaluate(e,t){var n,i,a,l;let u,f,p,g;const v=new Et;let b,x,S,E;if(0>=t)return;let A,P,L,D,N;if(this._currentRemainTime+=t,this._currentRemainTime>uW&&(this._currentRemainTime=0),A=e.getModel().parameters.values,P=e.getModel().parameters.maximumValues,L=e.getModel().parameters.minimumValues,D=e.getModel().parameters.defaultValues,((i=(n=this._parameterCaches)==null?void 0:n.length)!=null?i:0)<e.getParameterCount()&&(this._parameterCaches=new Float32Array(e.getParameterCount())),((l=(a=this._parameterInputCaches)==null?void 0:a.length)!=null?l:0)<e.getParameterCount()){this._parameterInputCaches=new Float32Array(e.getParameterCount());for(let $=0;$<e.getParameterCount();++$)this._parameterInputCaches[$]=A[$]}for(this._physicsRig.fps>0?N=1/this._physicsRig.fps:N=t;this._currentRemainTime>=N;){for(let U=0;U<this._physicsRig.subRigCount;++U){b=this._physicsRig.settings[U],S=this._physicsRig.outputs.slice(b.baseOutputIndex);for(let V=0;V<b.outputCount;++V)this._previousRigOutputs[U].outputs[V]=this._currentRigOutputs[U].outputs[V]}const $=N/this._currentRemainTime;for(let U=0;U<e.getParameterCount();++U)this._parameterCaches[U]=this._parameterInputCaches[U]*(1-$)+A[U]*$,this._parameterInputCaches[U]=this._parameterCaches[U];for(let U=0;U<this._physicsRig.subRigCount;++U){u={angle:0},v.x=0,v.y=0,b=this._physicsRig.settings[U],x=this._physicsRig.inputs.slice(b.baseInputIndex),S=this._physicsRig.outputs.slice(b.baseOutputIndex),E=this._physicsRig.particles.slice(b.baseParticleIndex);for(let V=0;V<b.inputCount;++V)f=x[V].weight/XT,x[V].sourceParameterIndex==-1&&(x[V].sourceParameterIndex=e.getParameterIndex(x[V].source.id)),x[V].getNormalizedParameterValue(v,u,this._parameterCaches[x[V].sourceParameterIndex],L[x[V].sourceParameterIndex],P[x[V].sourceParameterIndex],D[x[V].sourceParameterIndex],b.normalizationPosition,b.normalizationAngle,x[V].reflect,f);p=sr.degreesToRadian(-u.angle),v.x=v.x*sr.cos(p)-v.y*sr.sin(p),v.y=v.x*sr.sin(p)+v.y*sr.cos(p),SW(E,b.particleCount,v,u.angle,this._options.wind,II*b.normalizationPosition.maximum,N,lW);for(let V=0;V<b.outputCount;++V){const re=S[V].vertexIndex;if(S[V].destinationParameterIndex==-1&&(S[V].destinationParameterIndex=e.getParameterIndex(S[V].destination.id)),re<1||re>=b.particleCount)continue;const O=new Et;O.x=E[re].position.x-E[re-1].position.x,O.y=E[re].position.y-E[re-1].position.y,g=S[V].getValue(O,E,re,S[V].reflect,this._options.gravity),this._currentRigOutputs[U].outputs[V]=g;const Q=S[V].destinationParameterIndex,q=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(this._parameterCaches.subarray(Q))):this._parameterCaches.slice(Q);ME(q,L[Q],P[Q],g,S[V]);for(let ae=Q,oe=0;ae<this._parameterCaches.length;ae++,oe++)this._parameterCaches[ae]=q[oe]}}this._currentRemainTime-=N}const M=this._currentRemainTime/N;this.interpolate(e,M)}interpolate(e,t){let n,i,a,l,u;a=e.getModel().parameters.values,l=e.getModel().parameters.maximumValues,u=e.getModel().parameters.minimumValues;for(let f=0;f<this._physicsRig.subRigCount;++f){i=this._physicsRig.settings[f],n=this._physicsRig.outputs.slice(i.baseOutputIndex);for(let p=0;p<i.outputCount;++p){if(n[p].destinationParameterIndex==-1)continue;const g=n[p].destinationParameterIndex,v=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(a.subarray(g))):a.slice(g);ME(v,u[g],l[g],this._previousRigOutputs[f].outputs[p]*(1-t)+this._currentRigOutputs[f].outputs[p]*t,n[p]);for(let b=g,x=0;b<a.length;b++,x++)a[b]=v[x]}}}setOptions(e){this._options=e}getOption(){return this._options}constructor(){this._options=new cW,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0,this._currentRigOutputs=[],this._previousRigOutputs=[],this._currentRemainTime=0}release(){this._physicsRig=void 0}initialize(){let e,t,n;for(let i=0;i<this._physicsRig.subRigCount;++i){t=this._physicsRig.settings[i],e=this._physicsRig.particles.slice(t.baseParticleIndex),e[0].initialPosition=new Et(0,0),e[0].lastPosition=new Et(e[0].initialPosition.x,e[0].initialPosition.y),e[0].lastGravity=new Et(0,-1),e[0].lastGravity.y*=-1,e[0].velocity=new Et(0,0),e[0].force=new Et(0,0);for(let a=1;a<t.particleCount;++a)n=new Et(0,0),n.y=e[a].radius,e[a].initialPosition=new Et(e[a-1].initialPosition.x+n.x,e[a-1].initialPosition.y+n.y),e[a].position=new Et(e[a].initialPosition.x,e[a].initialPosition.y),e[a].lastPosition=new Et(e[a].initialPosition.x,e[a].initialPosition.y),e[a].lastGravity=new Et(0,-1),e[a].lastGravity.y*=-1,e[a].velocity=new Et(0,0),e[a].force=new Et(0,0)}}}class cW{constructor(){this.gravity=new Et(0,0),this.wind=new Et(0,0)}}class DI{constructor(){this.outputs=[]}}function hW(r,e,t,n,i,a,l,u,f,p){r.x+=L1(t,n,i,a,l.minimum,l.maximum,l.defalut,f)*p}function dW(r,e,t,n,i,a,l,u,f,p){r.y+=L1(t,n,i,a,l.minimum,l.maximum,l.defalut,f)*p}function fW(r,e,t,n,i,a,l,u,f,p){e.angle+=L1(t,n,i,a,u.minimum,u.maximum,u.defalut,f)*p}function pW(r,e,t,n,i){let a=r.x;return n&&(a*=-1),a}function mW(r,e,t,n,i){let a=r.y;return n&&(a*=-1),a}function gW(r,e,t,n,i){let a;return t>=2?i=e[t-1].position.substract(e[t-2].position):i=i.multiplyByScaler(-1),a=sr.directionToRadian(i,r),n&&(a*=-1),a}function vW(r,e){return Math.abs(Math.max(r,e)-Math.min(r,e))}function yW(r,e){return Math.min(r,e)+vW(r,e)/2}function _W(r,e){return r.x}function bW(r,e){return r.y}function xW(r,e){return e}function SW(r,e,t,n,i,a,l,u){let f,p,g,v,b=new Et(0,0),x=new Et(0,0),S=new Et(0,0),E=new Et(0,0);r[0].position=new Et(t.x,t.y),f=sr.degreesToRadian(n),v=sr.radianToDirection(f),v.normalize();for(let A=1;A<e;++A)r[A].force=v.multiplyByScaler(r[A].acceleration).add(i),r[A].lastPosition=new Et(r[A].position.x,r[A].position.y),p=r[A].delay*l*30,b=r[A].position.substract(r[A-1].position),g=sr.directionToRadian(r[A].lastGravity,v)/u,b.x=sr.cos(g)*b.x-b.y*sr.sin(g),b.y=sr.sin(g)*b.x+b.y*sr.cos(g),r[A].position=r[A-1].position.add(b),x=r[A].velocity.multiplyByScaler(p),S=r[A].force.multiplyByScaler(p).multiplyByScaler(p),r[A].position=r[A].position.add(x).add(S),E=r[A].position.substract(r[A-1].position),E.normalize(),r[A].position=r[A-1].position.add(E.multiplyByScaler(r[A].radius)),sr.abs(r[A].position.x)<a&&(r[A].position.x=0),p!=0&&(r[A].velocity=r[A].position.substract(r[A].lastPosition),r[A].velocity=r[A].velocity.divisionByScalar(p),r[A].velocity=r[A].velocity.multiplyByScaler(r[A].mobility)),r[A].force=new Et(0,0),r[A].lastGravity=new Et(v.x,v.y)}function EW(r,e,t,n,i,a){let l,u,f=new Et(0,0);r[0].position=new Et(t.x,t.y),l=sr.degreesToRadian(n),u=sr.radianToDirection(l),u.normalize();for(let p=1;p<e;++p)r[p].force=u.multiplyByScaler(r[p].acceleration).add(i),r[p].lastPosition=new Et(r[p].position.x,r[p].position.y),r[p].velocity=new Et(0,0),f=r[p].force,f.normalize(),f=f.multiplyByScaler(r[p].radius),r[p].position=r[p-1].position.add(f),sr.abs(r[p].position.x)<a&&(r[p].position.x=0),r[p].force=new Et(0,0),r[p].lastGravity=new Et(u.x,u.y)}function ME(r,e,t,n,i){let a,l,u;a=i.getScale(i.translationScale,i.angleScale),l=n*a,l<e?(l<i.valueBelowMinimum&&(i.valueBelowMinimum=l),l=e):l>t&&(l>i.valueExceededMaximum&&(i.valueExceededMaximum=l),l=t),u=i.weight/XT,u>=1||(l=r[0]*(1-u)+l*u),r[0]=l}function L1(r,e,t,n,i,a,l,u){let f=0;const p=sr.max(t,e);p<r&&(r=p);const g=sr.min(t,e);g>r&&(r=g);const v=sr.min(i,a),b=sr.max(i,a),x=l,S=yW(g,p),E=r-S;switch(Math.sign(E)){case 1:{const A=b-x,P=p-S;P!=0&&(f=E*(A/P),f+=x);break}case-1:{const A=v-x,P=g-S;P!=0&&(f=E*(A/P),f+=x);break}case 0:{f=x;break}}return u?f:f*-1}za.registerRuntime({version:4,ready:K7,test(r){return r instanceof rf||rf.isValidJSON(r)},isValidMoc(r){if(r.byteLength<4)return!1;const e=new Int8Array(r,0,4);return String.fromCharCode(...e)==="MOC3"},createModelSettings(r){return new rf(r)},createCoreModel(r,e){const t=O1.create(r,!!e?.checkMocConsistency);try{const n=t.createModel();return n.__moc=t,n}catch(n){try{t.release()}catch{}throw n}},createInternalModel(r,e,t){const n=new Q7(r,e,t),i=r;return i.__moc&&(n.__moc=i.__moc,delete i.__moc,n.once("destroy",TW)),n},createPhysics(r,e){return F1.create(e)},createPose(r,e){return D1.create(e)}});function TW(){var r;(r=this.__moc)==null||r.release()}ct.add(d1,lF,Iu);const CW=iF.PixiComponent("Live2dModel",{create:r=>r.model,applyProps:(r,e,t)=>{const{x:n,y:i,scaleX:a,scaleY:l}=t;r.x=n??0,r.y=i??0,r.scale.set(a??.1,l??.1)}}),t2=Tt.forwardRef((r,e)=>{const[t,n]=Tt.useState();return Tt.useEffect(()=>{let i;return(async()=>{const{modelData:l,onReady:u}=r;l&&(i=await K9.from(l,{autoFocus:!1,autoHitTest:!1,ticker:kn.shared}),n(i),u&&u())})(),()=>{i&&i.destroy(),n(void 0)}},[r.modelData,r.onReady]),t?Tm.jsx(CW,{...r,model:t,ref:e}):null});t2.displayName="Live2dModel";const wW=({modelMeta:r,motion:e,expression:t})=>{const n=Tt.useRef(null),i=Tt.useRef(null),[a,l]=Tt.useState(),[u,f]=Tt.useState(0),[p,g]=Tt.useState(0);Tt.useEffect(()=>{(async()=>{try{const L=await fetch(r.assetUrl);if(!L.ok)throw new Error(`Failed to fetch model: ${L.statusText}`);const D=await L.json();D.url=r.assetUrl,l(D)}catch(L){console.error("Error loading Live2D model:",L)}})()},[r.assetUrl]),Tt.useEffect(()=>{const P=()=>{n.current&&(f(n.current.clientWidth),g(n.current.clientHeight))};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const v=Tt.useCallback(()=>{console.log("Model is ready!")},[]);Tt.useEffect(()=>{console.log(e),i.current&&e&&i.current.motion(e)},[e]),Tt.useEffect(()=>{console.log(t),i.current&&t&&i.current.expression(t)},[t]);const b=u/2+r.l2dPosX,x=p/2+r.l2dPosY,S=.1,E=S*r.l2dscaleX,A=S*r.l2dscaleY;return Tm.jsx(lD,{ref:n,sx:{width:r.width||"100%",height:r.height||"100%",backgroundColor:"#f0f0f0",borderRadius:1,overflow:"hidden",position:"relative"},children:a&&u>0&&p>0&&Tm.jsx(iF.Stage,{width:u,height:p,options:{backgroundAlpha:0,antialias:!0,autoDensity:!0},children:Tm.jsx(t2,{ref:i,modelData:a,x:b,y:x,scaleX:E,scaleY:A,onReady:v})})})};module.exports=wW;
